{"version":3,"sources":["webpack:///./node_modules/jqgrid/js/jquery.jqGrid.src.js","webpack:///./node_modules/jqgrid/js/i18n/grid.locale-en.js","webpack:///./node_modules/jqgrid/css/ui.jqgrid.css?adf8","webpack:///./node_modules/jqgrid/css/ui.jqgrid.css","webpack:///./node_modules/jquery-ui/ui/widget.js","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./node_modules/jquery-ui/ui/version.js"],"names":["module","exports","jQuery","$","jgrid","extend","version","htmlDecode","value","length","charCodeAt","String","replace","htmlEncode","format","args","makeArray","arguments","slice","m","i","msie","navigator","appName","msiever","rv","ua","userAgent","RegExp","exec","parseFloat","$1","getCellIndex","cell","c","is","closest","inArray","parentNode","cells","cellIndex","stripHtml","v","stripPref","pref","id","obj","type","parse","jsonString","js","substr","useJSON","JSON","eval","parseDate","date","newformat","opts","dM","k","hl","msDateRegExp","msMatch","match","pad","parseInt","ts","d","y","h","s","u","timestamp","h12to24","ampm","undefined","formatter","parseRe","masks","hasOwnProperty","isNaN","toLowerCase","constructor","Date","offset","Number","getTimezoneOffset","setTime","srcformat","charAt","split","monthNames","AmPm","f","ty","G","getHours","getMinutes","j","getDate","n","getMonth","o","getSeconds","getMilliseconds","w","getDay","Y","getFullYear","N","z","flags","D","dayNames","l","S","W","Math","floor","F","M","t","L","substring","a","A","B","g","H","e","I","O","abs","P","T","pop","Z","r","U","$0","jqID","sid","guid","uidPref","randId","prefix","getAccessor","expr","ret","prm","shift","getXmlData","returnObj","attr","text","cellWidth","$testDiv","testCell","appendTo","find","width","remove","cell_width","ajaxOptions","from","source","QueryObject","q","data","self","this","_data","_usecase","_trim","_query","_stripNum","_lastCommand","_lastField","_orDepth","_negate","_queuedOperator","_sorting","_useProperties","push","_hasData","_getStr","phrase","join","_strComp","val","_group","field","toString","unique","items","_toStr","trim","_funcLoop","func","results","each","_append","_setCommand","_resetNegate","_repeatCommand","_equals","b","_compare","Object","prototype","call","_performSort","_doSort","by","dir","dfmt","datefmt","sfunc","_getOrder","sorted","values","_getGroup","ab","findSortKey","sortData","_sortData","newDir","$cell","key","getTime","isFunction","sort","vSort","nrec","index","group","last","ignoreCase","useCase","noTrim","execute","select","hasMatch","andNot","x","and","orNot","or","not","orBegin","orEnd","isNot","_compareValues","how","fld","swst","stype","newfmt","srcfmt","equals","notEquals","isNull","greater","less","greaterOrEquals","lessOrEquals","startsWith","endsWith","contains","groupBy","orderBy","getMethod","name","fn","jqGrid","methods","no_legacy_api","pin","apply","grid","p","url","height","page","rowNum","rowTotal","records","pager","pgbuttons","pginput","colModel","rowList","colNames","sortorder","sortname","datatype","mtype","altRows","selarrrow","savedRow","shrinkToFit","xmlReader","jsonReader","subGrid","subGridModel","reccount","lastpage","lastsort","selrow","beforeSelectRow","onSelectRow","onSortCol","ondblClickRow","onRightClickRow","onPaging","onSelectAll","onInitGrid","loadComplete","gridComplete","loadError","loadBeforeSend","afterInsertRow","beforeRequest","beforeProcessing","onHeaderClick","viewrecords","loadonce","multiselect","multikey","editurl","search","caption","hidegrid","hiddengrid","postData","userData","treeGrid","treeGridModel","treeReader","treeANode","ExpandColumn","tree_root_level","prmNames","rows","order","nd","oper","editoper","addoper","deloper","subgridid","npage","totalrows","forceFit","gridstate","cellEdit","cellsubmit","nv","loadui","toolbar","scroll","multiboxonly","deselectAfterSort","scrollrows","autowidth","scrollOffset","cellLayout","subGridWidth","multiselectWidth","gridview","rownumWidth","rownumbers","pagerpos","recordpos","footerrow","userDataOnFooter","hoverrows","altclass","viewsortcols","resizeclass","autoencode","remapColumns","ajaxGridOptions","direction","toppager","headertitles","scrollTimeout","_index","grouping","groupingView","groupField","groupOrder","groupText","groupColumnShow","groupSummary","showSummaryOnHide","sortitems","sortnames","summary","summaryval","plusicon","minusicon","displayField","groupSummaryPos","formatDisplayField","_locgr","cmTemplate","idPrefix","multiSort","defaults","headers","cols","footers","dragStart","gridLeftPos","bDiv","left","resizing","idx","startX","clientX","sOL","hDiv","style","cursor","curGbox","css","display","top","triggerHandler","resizeStart","document","onselectstart","dragMove","hn","nWn","diff","newWidth","tblwidth","dragEnd","nw","el","scrollLeft","sDiv","resizeStop","populateVisible","timer","clearTimeout","dh","rh","table","outerHeight","prevRowHeight","pv","empty","rn","scrollTop","ttop","round","position","tbot","div","loading","setTimeout","selectionPreserver","emptyRows","populate","scrollGrid","stopPropagation","sr","sra","restoreSelection","unbind","bind","tagName","toUpperCase","documentMode","alert","useProp","prop","label","gv","isMSIE","insertBefore","removeClass","eg","loadtext","cellspacing","cellpadding","border","intNum","defval","formatCol","pos","rowInd","tv","rawObject","rowId","rdata","celp","cm","ral","align","result","clas","classes","nm","acp","hidden","cellattr","indexOf","title","cellVal","cellval","colpos","rwdat","_act","gid","fmatter","addCell","irow","srvr","addMulti","rowid","checked","addRowNum","pG","rN","reader","xmlmap","jsonmap","keyIndex","keyName","orderedCols","map","locdata","firstrow","deepempty","firstChild","append","refreshIndex","idname","datalen","ni","gi","si","localReader","constructTr","hide","altClass","rd","cur","selected","attrName","tabindex","restAttr","rowAttrObj","rowattr","isEmptyObject","role","ra","addXmlData","xml","rcnt","more","adjust","startReq","xmlRd","frd","isXMLDoc","fpos","addSubGridCell","idn","getId","xmlr","rid","cn1","ir","rowData","cn","repeatitems","trow","eq","getAttribute","total","userdata","gxml","root","row","gl","grpdata","br","groupingPrepare","afterInsRow","hiderow","groupCollapse","iStartTrTag","textContent","after","_","totaltime","ceil","updatepager","cells2","addJSONData","dReader","rowReader","len","drows","idr","arrayReader","objectReader","isArray","selr","ccur","ccur2","beginReq","show","endReq","dt","dstr","pvis","pN","min","lcf","lc","req","grp","gs","cmIndex","cmValue","bfr","ajax","dataType","serializeGridData","success","st","xhr","error","err","beforeSend","settings","gotoreq","datastr","parseXML","sorttype","sto","fndsort","cmtypes","grtypes","grindexes","lengrp","gin","grpview","formatoptions","sortfunc","grindex","lso","tmplso","compareFnMap","queryObj","op","query","srules","filters","tojLinq","gor","ror","opr","rule","groups","groupOp","rules","searchOper","searchField","searchString","se","queryResults","recordsperpage","totalpages","retresult","resetsearch","udc","grPrepare","addLocalData","setHeadCheckBox","frozenColumns","fhDiv","setPager","pgid","tp","pgcnt","lft","cent","rgt","twd","tdw","sep","pginp","pgl","str","clearVals","onpaging","pgtext","po","reverse","body","clone","_nvtd","hover","hasClass","addClass","click","cp","selclick","fp","pp","np","lp","keypress","charCode","keyCode","idxcol","reload","sor","sortable","firstsortorder","iCol","splas","ls","fs","selTh","so","lastIndexOf","previousSelectedTh","newSelectedTh","sscroll","trigger","getColumnHeaderIndex","th","ci","template","unshift","resizable","hidedlg","fixed","subgrid","tdc","res","td","ptr","tbody","imgs","lvc","cw","aw","cr","initwidth","brd","vc","scw","hs","gw","thead","iac","idc","sortarr","sortord","sotmp","tooltip","chk","emp","froz","fbDiv","pw","innerWidth","ind","widthOrg","get","tfoot","thr","firstr","disableClick","createElement","html","prepend","hdcol","mousedown","target","$th","nextVisible","outerWidth","tid","appendChild","ri","tdHtml","hTable","hg","hb","before","className","scb","cSel","onCellSelect","rowIndex","frz","trid","treedatatype","current","_inlinenav","dblclick","support","cDiv","arf","uDiv","insertAfter","ubDiv","topDiv","tdt","counter","onHdCl","elems","slideUp","slideDown","mousemove","dnd","base","to","tot","fmt","sppg","pgboxes","tspg","tspg_t","children","integer","util","NumberFormat","emptyrecords","recordtext","jqgdnd","act","errors","model","getGridParam","pName","$t","setGridParam","newParams","getGridRowById","getDataIDs","ids","setSelection","selection","onsr","stat","pt","ner","ia","tpsr","fid","iR","ch","rpos","clientHeight","splice","resetSelection","iRow","getRowData","resall","getall","unformat","delRowData","setRowData","cssp","vl","lcdata","dval","addRowData","src","sind","aradd","cnm","prp","cna","air","footerData","action","isEmpty","showHideCol","colname","fndh","sw","gh","groupHeader","frozen","hideCol","showCol","permutation","updateCells","keepHeader","resortArray","ac","resortRows","parent","clobj","expColInd","setGridWidth","nwidth","shrink","scrollHeight","cle","delta","setGridHeight","nh","setCaption","newcap","setLabel","nData","attrp","thecol","ico","setCell","forceupd","tcell","getCell","col","getCol","mathopr","max","sum","ln","dlen","innerHTML","clearGridData","clearfooter","trf","getInd","rc","rw","bindKeys","onEnter","onSpace","onLeftKey","onRightKey","scrollingRows","keydown","event","mind","expanded","expanded_field","previousSibling","preventDefault","nextSibling","unbindKeys","getLocalRow","getColProp","cM","setColProp","sortGrid","sobj","clearBeforeUnload","GridDestroy","GridUnload","defgrid","cl","newtable","parents","setGridState","state","filterToolbar","autosearch","searchOnEnter","beforeSearch","afterSearch","beforeClear","afterClear","searchurl","stringResult","defaultSearch","searchOperators","resetIcon","operands","ftoolbar","timeoutHnd","triggerToolbar","sdata","sopt","$elem","prev","searchoptions","custom_value","nodeName","saveurl","sd","ruleGroup","bsr","tr","soptions","surl","sot","thd","stbl","odata","searchtitle","operandTitle","clearSearch","csv","resetTitle","oSv","delim","dataUrl","buildSelect","defaultValue","bindEv","change","ajaxSelectOptions","separator","delimiter","editoptions","sv","ov","elem","df","which","custom_element","celm","info_dialog","errcap","edit","msg","nodefined","bClose","novalue","message","ina","aoprs","options","inpelm","next","buildRuleMenu","on","coli","sval","selectedIndex","clearToolbar","bcv","toggleToolbar","trow2","destroyFilterToolbar","destroyGroupHeader","nullHeader","$tr","$resizing","hc","removeAttr","rs","setGroupHeaders","useColSpanStyle","groupHeaders","cmi","$colHeader","thStyle","cghi","numberOfColumns","titleText","cVisibleColumns","$theadInTable","skip","cml","ths","$htable","$trLabels","$thead","$firstHeaderRow","$firstRow","inColumnHeader","columnHeaders","startColumnName","$parent","cssText","$ts","setFrozenColumns","maxfrozen","hth","htbl","cs","swapfroz","fdel","rhth","btd","btbl","destroyFrozenColumns","jqm","overlay","closeoverlay","overlayClass","closeClass","ajaxText","modal","toTop","onShow","onHide","onLoad","_jqm","params","jqmAddTrigger","jqmAddClose","jqmShow","open","jqmHide","close","hash","cc","opacity","prependTo","load","focus","$self","pageY","pageX","jqDrag","jqResize","ar","jqDnR","dnr","drag","E","X","pX","pY","M1","E1","stop","J","aR","scrollWidth","f1","offsetWidth","offsetHeight","datepicker","dpe","mouseup","xmlJsonClass","xml2json","tab","nodeType","documentElement","nws","removeWhite","toObj","json","toJson","json2xml","toXml","Array","hasChild","FuncTest","attributes","nodeValue","textChild","cdataChild","hasElementChild","escape","test","innerXml","wellform","newline","arr","node","asXml","txt","normalize","nxt","removeChild","tableToGrid","selector","inputCheckbox","inputRadio","selectMultiple","selectSingle","selectable","rowIds","rowChecked","rowPos","input","encodeURIComponent","isBoolean","isObject","isString","isNumber","isFinite","isValue","formatType","rwd","fe","nDotIndex","bNegative","sOutput","sDecimalSeparator","decimalSeparator","decimalPlaces","nDecimalPlaces","nDecimal","pow","thousandsSeparator","sThousandsSeparator","sNewOutput","nCount","suffix","defaultFormat","email","checkbox","cval","ds","disabled","link","showlink","idUrl","baseLinkUrl","showAction","addParam","idName","number","currency","reformatAfterEdit","oSelect","msl","multiple","scell","rowactions","$id","$grid","$actionsDiv","extraparam","restorerow","afterRestore","editOptions","delOptions","actop","keys","oneditfunc","onEdit","successfunc","onSuccess","aftersavefunc","afterSave","errorfunc","onError","afterrestorefunc","restoreAfterError","actions","ocl","editbutton","delbutton","editformbutton","nav","edittitle","deltitle","bSubmit","bCancel","cnt","re","unformatFunc","stripTag","cbv","showModal","closeModal","hideModal","gb","onClose","oncret","findPos","curleft","curtop","offsetParent","offsetLeft","offsetTop","createModal","aIDs","content","insertSelector","posSelector","appendsel","jqModal","rtlsup","mw","gbox","themodal","mh","modalhead","ahr","mc","modalcontent","coord","oncm","gboxclose","zIndex","parentZ","filter","rtlt","overflow","tabIndex","resize","draggable","handle","scrollelm","handles","alsoResize","closeOnEscape","cone","viewModal","jqM","c_b","modalopt","mopt","dataheight","buttonalign","buttons","jm","buttstr","onClick","beforeOpen","afterOpen","opt","dataInit","dataEvents","createEl","eltype","ajaxso","setAttributes","elm","atr","exl","exclude","merge","cbval","defaultChecked","vl1","setAttribute","ovm","context","size","ii","checkDate","tsp","yln","dln","mln","dv","strDate","year","checkTime","time","regs","checkValues","valref","customobject","nam","edtrul","dft","editrules","formoptions","required","rqfield","minValue","maxValue","custom","custom_func","customarray","customfcheck","jqFilter","arg","columns","onChange","afterRedraw","errmsg","errorcheck","showQuery","ops","numopts","stropts","strarr","groupOps","groupButton","ruleButtons","isIE","window","opera","initFilter","inputtype","searchtype","searchrules","getGrid","checkData","colModelItem","onchange","reDraw","createTableForGroup","parentgroup","that","groupOpSelect","inputAddSubgroup","inputAddRule","searchable","searchhidden","inputDeleteGroup","trHolderForSubgroup","tdFirstHolderForSubgroup","tdMainHolderForSubgroup","createTableRowForRule","trpar","ruleFieldTd","ruleFieldSelect","ruleOperatorTd","ruleDataInput","ruleOperatorSelect","removeAttribute","ruleDataTd","ruleDeleteTd","ruleDeleteInput","getStringForGroup","getStringForRule","opUF","opC","resetFilter","hideError","showError","toUserFriendlyString","getStringRule","toSQLString","filterData","getParameter","param","addFilter","pfilter","rp_ge","searchGrid","recreateFilter","sField","sValue","sOper","sFilter","loadDefaults","beforeShowSearch","afterShowSearch","onInitializeSearch","afterChange","closeAfterSearch","closeAfterReset","multipleSearch","multipleGroup","onSearch","onReset","tmplNames","tmplFilters","tmplLabel","showOnLoad","layer","showFrm","mustReload","IDs","defaultFilters","showFilter","fil","butleft","colnm","bt","bS","Find","bC","Reset","bQ","tmpl","found","cmop","curtempl","$target","toggle","fl","stringify","e2","_filter","editGridRow","datawidth","clearAfterAdd","closeAfterEdit","reloadAfterSubmit","onInitializeForm","beforeInitData","beforeShowForm","afterShowForm","beforeSubmit","afterSubmit","onclickSubmit","afterComplete","onclickPgButtons","afterclickPgButtons","editData","recreateForm","addedrow","topinfo","bottominfo","saveicon","closeicon","savekey","navkeys","checkOnSubmit","checkOnUpdate","_savedData","processing","ajaxEditOptions","serializeEditData","viewPagerButtons","postdata","frmoper","gID","frmgr","frmtborg","frmtb","onBeforeShow","onAfterShow","onBeforeInit","maxCols","maxRows","addCaption","editCaption","closeovrl","dw","frm","tbl","restoreRow","restoreInline","fmto","rowpos","flr","rp","rtlb","bp","bn","tb","maxcols","trdata","tmp","dc","elc","retpos","edithidden","editable","edittype","frmopt","elmprefix","elmsuffix","rowabove","rowcontent","newdata","idrow","createData","bP","bN","tms","wkey","checkUpdates","bYes","bNo","bExit","zI","saveData","postIt","getFormData","compareData","npos","getCurrPos","nposret","fillData","updateNav","ppos","pposret","posInit","ofv","selectedText","fmid","vlc","tre","opv","copydata","onCS","opers","retvals","beforeCheckValues","NullIfEmpty","tr_par_id","parent_id_field","itm","complete","status","errorTextFormat","statusText","closeAfterAdd","useDataProxy","dataProxy","nourl","dpret","nObj","oObj","posarr","totr","rowsInGrid","viewGridRow","labelswidth","view","frmgr_id","frmtb_id","maxw","setme","viewfld","tdtmpl","fmtnum","max1","max2","viewable","focusaref","trv","delGridRow","rowids","delData","delicon","cancelicon","ajaxDelOptions","serializeDelData","del","postd","dtbl","dtbl_id","pk","navGrid","pEdit","pAdd","pDel","pSearch","pView","editicon","add","addicon","searchicon","refresh","refreshicon","refreshstate","viewicon","beforeRefresh","afterRefresh","cloneToTop","alertwidth","alertheight","alerttop","alertleft","alertzIndex","alertIDs","innerHeight","clientWidth","alerttext","alertcap","onHoverIn","onHoverOut","tbd","elemids","navtbl","addtext","addtitle","addfunc","edittext","editfunc","viewtext","viewtitle","viewfunc","deltext","dr","delfunc","searchtext","searchfunc","refreshtext","refreshtitle","ef","navButtonAdd","buttonicon","onClickButton","findnav","navSeparatorAdd","sepclass","sepcontent","GridToForm","formid","rowdata","FormToGrid","mode","fields","serializeArray","griddata","inlineEdit","editRow","bfer","svr","beforeEditRow","treeg","eer1","eer2","saveRow","fr","cv","tmp2","tmp3","bfsr","beforeSaveRow","sel","positions","oldRowId","oldid","newCboxId","inlineData","resp","serializeRowData","async","sucret","rT","responseText","ajaxRowOptions","ares","bfcr","beforeCancelRow","addRow","rowID","initdata","useDefValues","useFormatter","addRowParams","bfar","beforeAddRow","inlineNav","save","cancel","addParams","editParams","restoreAfterSelect","onSelect","ap","savetext","savetitle","tmpParams","canceltext","canceltitle","cancelPrm","showAddEditButtons","editCell","ed","knv","ic","onSelectCell","formatCell","beforeEditCell","shiftKey","afterEditCell","saveCell","v2","nmjq","vvv","beforeSaveCell","vv","addpost","beforeSubmitCell","cellurl","serializeCellData","afterSubmitCell","afterSaveCell","errorCell","ajaxCellOptions","restoreCell","afterRestoreCell","nextCell","nCol","prevCell","GridNav","kdir","findNextVisible","iC","nROT","pROT","sl","nCOL","pCOL","getChangedCells","mthd","setSubGrid","subGridOptions","openicon","expandOnLoad","delayOnLoad","selectOnExpand","selectOnCollapse","reloadOnExpand","addSubGrid","_id","pID","atd","bfsc","subGridCell","trdiv","tddiv","subGridXml","sjxml","sbid","sgmap","dummy","mapping","subGridJson","populatesubgrid","dp","nd_","subgridtype","subGridUrl","serializeSubGridData","sxml","responseXML","ajaxSubgridOptions","nhc","subGridBeforeExpand","subGridRowExpanded","subGridRowColapsed","expandSubGridRow","sgc","collapseSubGridRow","toggleSubGridRow","setTreeNode","curLevel","ident","lftpos","twrap","ldat","lf","expCol","isLeaf","leaf_field","level","level_field","icon","icon_field","loaded","dind","left_field","right_field","_treeleafpos","treeIcons","leaf","plus","minus","wrapInner","pn","srcElement","ind2","ExpandColClick","setTreeGrid","pico","tkey","ecol","dupcols","expandRow","record","childern","collapseRow","getRootNodes","parent_id","getNodeDepth","getNodeParent","lftc","rgtc","levelc","dtid","getNodeChildren","getFullTreeNode","getNodeAncestors","ancestors","isVisibleNode","isNodeLoaded","expandNode","rc1","nodeid","n_left","n_right","n_level","parentid","collapseNode","SortTree","rec","roots","rt","collectChildrenSortTree","child","setTreeRow","delTreeNode","myright","right","addChildNode","expandData","method","parentindex","parentdata","parentlevel","maxright","rowind","prow","childs","end","al","nmarr","groupingSetup","visibiltyOnNextGrouping","lastvalues","counters","hideFirstGroupCol","summaryType","summaryDivider","vd","summaryRound","srt","summaryRoundType","fieldName","displayName","displayValue","grlen","changed","dataIndex","startRow","isInTheSameGroup","groupingToggle","hid","strpos","num","itemGroupingLevel","showData","uid","tar","tarspan","getGroupingLevelFromClass","nums","item","collapsed","tar2","r2","onClickGroup","groupingRender","grdata","colspans","clid","pmrtl","toEnd","buildSummaryTd","ik","foffset","fdata","findGroupIdx","tmpdata","tplfld","summaryTpl","groupCount","groupIndex","groupValue","sumreverse","egv","kk","gg","sgr","jj","hhdr","groupingGroupBy","groupingRemove","groupingCalculations","handler","roundType","funcs","count","avg","toFixed","mul","jqGridImport","imptype","impstring","impurl","impData","xmlGrid","config","jsonGrid","xmlConvert","jstr","jstr1","cnfg","xmldata","svdatatype","jsonConvert","jsonstr","_jsonparse","gprm","jdata","importComplete","xmld","ee","jqGridExport","exptype","excelExport","tag","exportOptions","pdata","location","_multiselect","ui","_setSelected","setSelected","selectedList","elt","element","destroy","container","Widget","widget","sortableColumns","tblrow","start","sortable_opts","update","currentItem","cmMap","floating","columnChooser","perm","apply_perm","cleanup","dialog_opts","colMap","ti","concat","insert","done","calldone","dlog","msel","msel_opts","classname","fixedCols","dopts","dlog_opts","mopts","sortableRows","_start_","_update_","ev","subgid","disableSelection","gridDnD","droppable","helper","connectWith","onstart","dropped","dragcopy","onstop","drag_opts","accept","drop","getdata","dropbyname","dropmodel","beforedrop","datatoinsert","autoid","random","autoidprefix","droppos","ondrop","drop_opts","updateDnD","datadnd","gridResize","_alsoResize_","_stop_","optstest","_pivotfilter","TypeError","assocArraySize","pivotSetup","pivotrows","summaries","member","groupOptions","rowTotals","rowTotalsText","colTotals","frozenStaticCols","rowindex","xlen","ylen","aggrlen","newObj","colc","rowlen","fun","extra","findGroup","calculation","agregateFunc","aggr","curr","jv","arrln","tmpmember","aggregator","yDimension","dn","dataName","converter","xDimension","aggregates","groupfields","tree","xValue","yValue","kj","existing","lastval","initColLen","swaplen","list","collen","ll","plen","jqPivot","pivotOpt","gridOpt","ajaxOpt","pivot","pivotGrid","gHead","response","norecords","ISO8601Long","ISO8601Short","ShortDate","LongDate","FullDateTime","MonthDay","ShortTime","LongTime","SortableDateTime","UniversalSortableDateTime","YearMonth","api","__esModule","default","locals","___CSS_LOADER_EXPORT___","orig","widgetUuid","widgetSlice","cleanData","events","existingConstructor","basePrototype","proxiedPrototype","namespace","fullName","_createWidget","_proto","_childConstructors","_super","_superApply","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","childPrototype","bridge","inputIndex","inputLength","isPlainObject","object","isMethodCall","methodValue","instance","jquery","pushStack","option","_init","defaultElement","create","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","ownerDocument","defaultView","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","noop","_destroy","_removeClass","off","removeData","parts","curOption","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","_classes","_toggleClass","enable","disable","full","processClassString","checkOption","_untrackClassesElement","_addClass","toggleClass","suppressDisabledCheck","handlers","delegateElement","handlerProxy","eventName","_off","_delay","delay","_hoverable","mouseenter","currentTarget","mouseleave","_focusable","focusin","focusout","callback","Event","originalEvent","isDefaultPrevented","defaultEffect","hasOptions","effect","effectName","duration","effects","easing","queue","needQuotes"],"mappings":"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","file":"vendors~widget-jqgrid-js.chunk.js","sourcesContent":["// ==ClosureCompiler==\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n\r\n/**\r\n * @license jqGrid  4.6.0 - jQuery Grid\r\n * Copyright (c) 2008, Tony Tomov, tony@trirand.com\r\n * Dual licensed under the MIT and GPL licenses\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n * Date: 2014-02-20\r\n */\r\n//jsHint options\r\n/*jshint evil:true, eqeqeq:false, eqnull:true, devel:true */\r\n/*global jQuery */\r\n//@add\r\nmodule.exports = function(jQuery) {\r\n//@add\r\n(function ($) {\r\n\"use strict\";\r\n$.jgrid = $.jgrid || {};\r\n$.extend($.jgrid,{\r\n\tversion : \"4.6.0\",\r\n\thtmlDecode : function(value){\r\n\t\tif(value && (value==='&nbsp;' || value==='&#160;' || (value.length===1 && value.charCodeAt(0)===160))) { return \"\";}\r\n\t\treturn !value ? value : String(value).replace(/&gt;/g, \">\").replace(/&lt;/g, \"<\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\");\r\n\t},\r\n\thtmlEncode : function (value){\r\n\t\treturn !value ? value : String(value).replace(/&/g, \"&amp;\").replace(/\\\"/g, \"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n\t},\r\n\tformat : function(format){ //jqgformat\r\n\t\tvar args = $.makeArray(arguments).slice(1);\r\n\t\tif(format==null) { format = \"\"; }\r\n\t\treturn format.replace(/\\{(\\d+)\\}/g, function(m, i){\r\n\t\t\treturn args[i];\r\n\t\t});\r\n\t},\r\n\tmsie : navigator.appName === 'Microsoft Internet Explorer',\r\n\tmsiever : function () {\r\n\t\tvar rv = -1;\r\n\t\tvar ua = navigator.userAgent;\r\n\t\tvar re  = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\r\n\t\tif (re.exec(ua) != null) {\r\n\t\t\trv = parseFloat( RegExp.$1 );\r\n\t\t}\r\n\t\treturn rv;\r\n\t},\r\n\tgetCellIndex : function (cell) {\r\n\t\tvar c = $(cell);\r\n\t\tif (c.is('tr')) { return -1; }\r\n\t\tc = (!c.is('td') && !c.is('th') ? c.closest(\"td,th\") : c)[0];\r\n\t\tif ($.jgrid.msie) { return $.inArray(c, c.parentNode.cells); }\r\n\t\treturn c.cellIndex;\r\n\t},\r\n\tstripHtml : function(v) {\r\n\t\tv = String(v);\r\n\t\tvar regexp = /<(\"[^\"]*\"|'[^']*'|[^'\">])*>/gi;\r\n\t\tif (v) {\r\n\t\t\tv = v.replace(regexp,\"\");\r\n\t\t\treturn (v && v !== '&nbsp;' && v !== '&#160;') ? v.replace(/\\\"/g,\"'\") : \"\";\r\n\t\t}\r\n\t\t\treturn v;\r\n\t},\r\n\tstripPref : function (pref, id) {\r\n\t\tvar obj = $.type( pref );\r\n\t\tif( obj === \"string\" || obj === \"number\") {\r\n\t\t\tpref =  String(pref);\r\n\t\t\tid = pref !== \"\" ? String(id).replace(String(pref), \"\") : id;\r\n\t\t}\r\n\t\treturn id;\r\n\t},\r\n\tparse : function(jsonString) {\r\n\t\tvar js = jsonString;\r\n\t\tif (js.substr(0,9) === \"while(1);\") { js = js.substr(9); }\r\n\t\tif (js.substr(0,2) === \"/*\") { js = js.substr(2,js.length-4); }\r\n\t\tif(!js) { js = \"{}\"; }\r\n\t\treturn ($.jgrid.useJSON===true && typeof JSON === 'object' && typeof JSON.parse === 'function') ?\r\n\t\t\tJSON.parse(js) :\r\n\t\t\teval('(' + js + ')');\r\n\t},\r\n\tparseDate : function(format, date, newformat, opts) {\r\n\t\tvar\ttoken = /\\\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,\r\n\t\ttimezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\r\n\t\ttimezoneClip = /[^-+\\dA-Z]/g,\r\n\t\tmsDateRegExp = new RegExp(\"^\\/Date\\\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\\\)\\/$\"),\r\n\t\tmsMatch = ((typeof date === 'string') ? date.match(msDateRegExp): null),\r\n\t\tpad = function (value, length) {\r\n\t\t\tvalue = String(value);\r\n\t\t\tlength = parseInt(length,10) || 2;\r\n\t\t\twhile (value.length < length)  { value = '0' + value; }\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tts = {m : 1, d : 1, y : 1970, h : 0, i : 0, s : 0, u:0},\r\n\t\ttimestamp=0, dM, k,hl,\r\n\t\th12to24 = function(ampm, h){\r\n\t\t\tif (ampm === 0){ if (h === 12) { h = 0;} }\r\n\t\t\telse { if (h !== 12) { h += 12; } }\r\n\t\t\treturn h;\r\n\t\t};\r\n\t\tif(opts === undefined) {\r\n\t\t\topts = $.jgrid.formatter.date;\r\n\t\t}\r\n\t\t// old lang files\r\n\t\tif(opts.parseRe === undefined ) {\r\n\t\t\topts.parseRe = /[#%\\\\\\/:_;.,\\t\\s-]/;\r\n\t\t}\r\n\t\tif( opts.masks.hasOwnProperty(format) ) { format = opts.masks[format]; }\r\n\t\tif(date && date != null) {\r\n\t\t\tif( !isNaN( date - 0 ) && String(format).toLowerCase() === \"u\") {\r\n\t\t\t\t//Unix timestamp\r\n\t\t\t\ttimestamp = new Date( parseFloat(date)*1000 );\r\n\t\t\t} else if(date.constructor === Date) {\r\n\t\t\t\ttimestamp = date;\r\n\t\t\t\t// Microsoft date format support\r\n\t\t\t} else if( msMatch !== null ) {\r\n\t\t\t\ttimestamp = new Date(parseInt(msMatch[1], 10));\r\n\t\t\t\tif (msMatch[3]) {\r\n\t\t\t\t\tvar offset = Number(msMatch[5]) * 60 + Number(msMatch[6]);\r\n\t\t\t\t\toffset *= ((msMatch[4] === '-') ? 1 : -1);\r\n\t\t\t\t\toffset -= timestamp.getTimezoneOffset();\r\n\t\t\t\t\ttimestamp.setTime(Number(Number(timestamp) + (offset * 60 * 1000)));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar offset = 0;\r\n\t\t\t\t//Support ISO8601Long that have Z at the end to indicate UTC timezone\r\n\t\t\t\tif(opts.srcformat === 'ISO8601Long' && date.charAt(date.length - 1) === 'Z') {\r\n\t\t\t\t\toffset -= (new Date()).getTimezoneOffset();\r\n\t\t\t\t}\r\n\t\t\t\tdate = String(date).replace(/\\T/g,\"#\").replace(/\\t/,\"%\").split(opts.parseRe);\r\n\t\t\t\tformat = format.replace(/\\T/g,\"#\").replace(/\\t/,\"%\").split(opts.parseRe);\r\n\t\t\t\t// parsing for month names\r\n\t\t\t\tfor(k=0,hl=format.length;k<hl;k++){\r\n\t\t\t\t\tif(format[k] === 'M') {\r\n\t\t\t\t\t\tdM = $.inArray(date[k],opts.monthNames);\r\n\t\t\t\t\t\tif(dM !== -1 && dM < 12){date[k] = dM+1; ts.m = date[k];}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(format[k] === 'F') {\r\n\t\t\t\t\t\tdM = $.inArray(date[k],opts.monthNames,12);\r\n\t\t\t\t\t\tif(dM !== -1 && dM > 11){date[k] = dM+1-12; ts.m = date[k];}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(format[k] === 'a') {\r\n\t\t\t\t\t\tdM = $.inArray(date[k],opts.AmPm);\r\n\t\t\t\t\t\tif(dM !== -1 && dM < 2 && date[k] === opts.AmPm[dM]){\r\n\t\t\t\t\t\t\tdate[k] = dM;\r\n\t\t\t\t\t\t\tts.h = h12to24(date[k], ts.h);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(format[k] === 'A') {\r\n\t\t\t\t\t\tdM = $.inArray(date[k],opts.AmPm);\r\n\t\t\t\t\t\tif(dM !== -1 && dM > 1 && date[k] === opts.AmPm[dM]){\r\n\t\t\t\t\t\t\tdate[k] = dM-2;\r\n\t\t\t\t\t\t\tts.h = h12to24(date[k], ts.h);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (format[k] === 'g') {\r\n\t\t\t\t\t\tts.h = parseInt(date[k], 10);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(date[k] !== undefined) {\r\n\t\t\t\t\t\tts[format[k].toLowerCase()] = parseInt(date[k],10);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.f) {ts.m = ts.f;}\r\n\t\t\t\tif( ts.m === 0 && ts.y === 0 && ts.d === 0) {\r\n\t\t\t\t\treturn \"&#160;\" ;\r\n\t\t\t\t}\r\n\t\t\t\tts.m = parseInt(ts.m,10)-1;\r\n\t\t\t\tvar ty = ts.y;\r\n\t\t\t\tif (ty >= 70 && ty <= 99) {ts.y = 1900+ts.y;}\r\n\t\t\t\telse if (ty >=0 && ty <=69) {ts.y= 2000+ts.y;}\r\n\t\t\t\ttimestamp = new Date(ts.y, ts.m, ts.d, ts.h, ts.i, ts.s, ts.u);\r\n\t\t\t\t//Apply offset to show date as local time.\r\n\t\t\t\tif(offset > 0) {\r\n\t\t\t\t\ttimestamp.setTime(Number(Number(timestamp) + (offset * 60 * 1000)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttimestamp = new Date(ts.y, ts.m, ts.d, ts.h, ts.i, ts.s, ts.u);\r\n\t\t}\r\n\t\tif( newformat === undefined ) {\r\n\t\t\treturn timestamp;\r\n\t\t}\r\n\t\tif( opts.masks.hasOwnProperty(newformat) )  {\r\n\t\t\tnewformat = opts.masks[newformat];\r\n\t\t} else if ( !newformat ) {\r\n\t\t\tnewformat = 'Y-m-d';\r\n\t\t}\r\n\t\tvar\r\n\t\t\tG = timestamp.getHours(),\r\n\t\t\ti = timestamp.getMinutes(),\r\n\t\t\tj = timestamp.getDate(),\r\n\t\t\tn = timestamp.getMonth() + 1,\r\n\t\t\to = timestamp.getTimezoneOffset(),\r\n\t\t\ts = timestamp.getSeconds(),\r\n\t\t\tu = timestamp.getMilliseconds(),\r\n\t\t\tw = timestamp.getDay(),\r\n\t\t\tY = timestamp.getFullYear(),\r\n\t\t\tN = (w + 6) % 7 + 1,\r\n\t\t\tz = (new Date(Y, n - 1, j) - new Date(Y, 0, 1)) / 86400000,\r\n\t\t\tflags = {\r\n\t\t\t\t// Day\r\n\t\t\t\td: pad(j),\r\n\t\t\t\tD: opts.dayNames[w],\r\n\t\t\t\tj: j,\r\n\t\t\t\tl: opts.dayNames[w + 7],\r\n\t\t\t\tN: N,\r\n\t\t\t\tS: opts.S(j),\r\n\t\t\t\t//j < 11 || j > 13 ? ['st', 'nd', 'rd', 'th'][Math.min((j - 1) % 10, 3)] : 'th',\r\n\t\t\t\tw: w,\r\n\t\t\t\tz: z,\r\n\t\t\t\t// Week\r\n\t\t\t\tW: N < 5 ? Math.floor((z + N - 1) / 7) + 1 : Math.floor((z + N - 1) / 7) || ((new Date(Y - 1, 0, 1).getDay() + 6) % 7 < 4 ? 53 : 52),\r\n\t\t\t\t// Month\r\n\t\t\t\tF: opts.monthNames[n - 1 + 12],\r\n\t\t\t\tm: pad(n),\r\n\t\t\t\tM: opts.monthNames[n - 1],\r\n\t\t\t\tn: n,\r\n\t\t\t\tt: '?',\r\n\t\t\t\t// Year\r\n\t\t\t\tL: '?',\r\n\t\t\t\to: '?',\r\n\t\t\t\tY: Y,\r\n\t\t\t\ty: String(Y).substring(2),\r\n\t\t\t\t// Time\r\n\t\t\t\ta: G < 12 ? opts.AmPm[0] : opts.AmPm[1],\r\n\t\t\t\tA: G < 12 ? opts.AmPm[2] : opts.AmPm[3],\r\n\t\t\t\tB: '?',\r\n\t\t\t\tg: G % 12 || 12,\r\n\t\t\t\tG: G,\r\n\t\t\t\th: pad(G % 12 || 12),\r\n\t\t\t\tH: pad(G),\r\n\t\t\t\ti: pad(i),\r\n\t\t\t\ts: pad(s),\r\n\t\t\t\tu: u,\r\n\t\t\t\t// Timezone\r\n\t\t\t\te: '?',\r\n\t\t\t\tI: '?',\r\n\t\t\t\tO: (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\r\n\t\t\t\tP: '?',\r\n\t\t\t\tT: (String(timestamp).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\r\n\t\t\t\tZ: '?',\r\n\t\t\t\t// Full Date/Time\r\n\t\t\t\tc: '?',\r\n\t\t\t\tr: '?',\r\n\t\t\t\tU: Math.floor(timestamp / 1000)\r\n\t\t\t};\r\n\t\treturn newformat.replace(token, function ($0) {\r\n\t\t\treturn flags.hasOwnProperty($0) ? flags[$0] : $0.substring(1);\r\n\t\t});\r\n\t},\r\n\tjqID : function(sid){\r\n\t\treturn String(sid).replace(/[!\"#$%&'()*+,.\\/:; <=>?@\\[\\\\\\]\\^`{|}~]/g,\"\\\\$&\");\r\n\t},\r\n\tguid : 1,\r\n\tuidPref: 'jqg',\r\n\trandId : function( prefix )\t{\r\n\t\treturn (prefix || $.jgrid.uidPref) + ($.jgrid.guid++);\r\n\t},\r\n\tgetAccessor : function(obj, expr) {\r\n\t\tvar ret,p,prm = [], i;\r\n\t\tif( typeof expr === 'function') { return expr(obj); }\r\n\t\tret = obj[expr];\r\n\t\tif(ret===undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tif ( typeof expr === 'string' ) {\r\n\t\t\t\t\tprm = expr.split('.');\r\n\t\t\t\t}\r\n\t\t\t\ti = prm.length;\r\n\t\t\t\tif( i ) {\r\n\t\t\t\t\tret = obj;\r\n\t\t\t\t\twhile (ret && i--) {\r\n\t\t\t\t\t\tp = prm.shift();\r\n\t\t\t\t\t\tret = ret[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\treturn ret;\r\n\t},\r\n\tgetXmlData: function (obj, expr, returnObj) {\r\n\t\tvar ret, m = typeof expr === 'string' ? expr.match(/^(.*)\\[(\\w+)\\]$/) : null;\r\n\t\tif (typeof expr === 'function') { return expr(obj); }\r\n\t\tif (m && m[2]) {\r\n\t\t\t// m[2] is the attribute selector\r\n\t\t\t// m[1] is an optional element selector\r\n\t\t\t// examples: \"[id]\", \"rows[page]\"\r\n\t\t\treturn m[1] ? $(m[1], obj).attr(m[2]) : $(obj).attr(m[2]);\r\n\t\t}\r\n\t\t\tret = $(expr, obj);\r\n\t\t\tif (returnObj) { return ret; }\r\n\t\t\t//$(expr, obj).filter(':last'); // we use ':last' to be more compatible with old version of jqGrid\r\n\t\t\treturn ret.length > 0 ? $(ret).text() : undefined;\r\n\t},\r\n\tcellWidth : function () {\r\n\t\tvar $testDiv = $(\"<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>\"),\r\n\t\ttestCell = $testDiv.appendTo(\"body\")\r\n\t\t\t.find(\"td\")\r\n\t\t\t.width();\r\n\t\t$testDiv.remove();\r\n\t\treturn Math.abs(testCell-5) > 0.1;\r\n\t},\r\n\tcell_width : true,\r\n\tajaxOptions: {},\r\n\tfrom : function(source){\r\n\t\t// Original Author Hugo Bonacci\r\n\t\t// License MIT http://jlinq.codeplex.com/license\r\n\t\tvar QueryObject=function(d,q){\r\n\t\tif(typeof d===\"string\"){\r\n\t\t\td=$.data(d);\r\n\t\t}\r\n\t\tvar self=this,\r\n\t\t_data=d,\r\n\t\t_usecase=true,\r\n\t\t_trim=false,\r\n\t\t_query=q,\r\n\t\t_stripNum = /[\\$,%]/g,\r\n\t\t_lastCommand=null,\r\n\t\t_lastField=null,\r\n\t\t_orDepth=0,\r\n\t\t_negate=false,\r\n\t\t_queuedOperator=\"\",\r\n\t\t_sorting=[],\r\n\t\t_useProperties=true;\r\n\t\tif(typeof d===\"object\"&&d.push) {\r\n\t\t\tif(d.length>0){\r\n\t\t\t\tif(typeof d[0]!==\"object\"){\r\n\t\t\t\t\t_useProperties=false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t_useProperties=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthrow \"data provides is not an array\";\r\n\t\t}\r\n\t\tthis._hasData=function(){\r\n\t\t\treturn _data===null?false:_data.length===0?false:true;\r\n\t\t};\r\n\t\tthis._getStr=function(s){\r\n\t\t\tvar phrase=[];\r\n\t\t\tif(_trim){\r\n\t\t\t\tphrase.push(\"jQuery.trim(\");\r\n\t\t\t}\r\n\t\t\tphrase.push(\"String(\"+s+\")\");\r\n\t\t\tif(_trim){\r\n\t\t\t\tphrase.push(\")\");\r\n\t\t\t}\r\n\t\t\tif(!_usecase){\r\n\t\t\t\tphrase.push(\".toLowerCase()\");\r\n\t\t\t}\r\n\t\t\treturn phrase.join(\"\");\r\n\t\t};\r\n\t\tthis._strComp=function(val){\r\n\t\t\tif(typeof val===\"string\"){\r\n\t\t\t\treturn\".toString()\";\r\n\t\t\t}\r\n\t\t\treturn\"\";\r\n\t\t};\r\n\t\tthis._group=function(f,u){\r\n\t\t\treturn({field:f.toString(),unique:u,items:[]});\r\n\t\t};\r\n\t\tthis._toStr=function(phrase){\r\n\t\t\tif(_trim){\r\n\t\t\t\tphrase=$.trim(phrase);\r\n\t\t\t}\r\n\t\t\tphrase=phrase.toString().replace(/\\\\/g,'\\\\\\\\').replace(/\\\"/g,'\\\\\"');\r\n\t\t\treturn _usecase ? phrase : phrase.toLowerCase();\r\n\t\t};\r\n\t\tthis._funcLoop=function(func){\r\n\t\t\tvar results=[];\r\n\t\t\t$.each(_data,function(i,v){\r\n\t\t\t\tresults.push(func(v));\r\n\t\t\t});\r\n\t\t\treturn results;\r\n\t\t};\r\n\t\tthis._append=function(s){\r\n\t\t\tvar i;\r\n\t\t\tif(_query===null){\r\n\t\t\t\t_query=\"\";\r\n\t\t\t} else {\r\n\t\t\t\t_query+=_queuedOperator === \"\" ? \" && \" :_queuedOperator;\r\n\t\t\t}\r\n\t\t\tfor (i=0;i<_orDepth;i++){\r\n\t\t\t\t_query+=\"(\";\r\n\t\t\t}\r\n\t\t\tif(_negate){\r\n\t\t\t\t_query+=\"!\";\r\n\t\t\t}\r\n\t\t\t_query+=\"(\"+s+\")\";\r\n\t\t\t_negate=false;\r\n\t\t\t_queuedOperator=\"\";\r\n\t\t\t_orDepth=0;\r\n\t\t};\r\n\t\tthis._setCommand=function(f,c){\r\n\t\t\t_lastCommand=f;\r\n\t\t\t_lastField=c;\r\n\t\t};\r\n\t\tthis._resetNegate=function(){\r\n\t\t\t_negate=false;\r\n\t\t};\r\n\t\tthis._repeatCommand=function(f,v){\r\n\t\t\tif(_lastCommand===null){\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t\tif(f!==null&&v!==null){\r\n\t\t\t\treturn _lastCommand(f,v);\r\n\t\t\t}\r\n\t\t\tif(_lastField===null){\r\n\t\t\t\treturn _lastCommand(f);\r\n\t\t\t}\r\n\t\t\tif(!_useProperties){\r\n\t\t\t\treturn _lastCommand(f);\r\n\t\t\t}\r\n\t\t\treturn _lastCommand(_lastField,f);\r\n\t\t};\r\n\t\tthis._equals=function(a,b){\r\n\t\t\treturn(self._compare(a,b,1)===0);\r\n\t\t};\r\n\t\tthis._compare=function(a,b,d){\r\n\t\t\tvar toString = Object.prototype.toString;\r\n\t\t\tif( d === undefined) { d = 1; }\r\n\t\t\tif(a===undefined) { a = null; }\r\n\t\t\tif(b===undefined) { b = null; }\r\n\t\t\tif(a===null && b===null){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\tif(a===null&&b!==null){\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif(a!==null&&b===null){\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (toString.call(a) === '[object Date]' && toString.call(b) === '[object Date]') {\r\n\t\t\t\tif (a < b) { return -d; }\r\n\t\t\t\tif (a > b) { return d; }\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\tif(!_usecase && typeof a !== \"number\" && typeof b !== \"number\" ) {\r\n\t\t\t\ta=String(a);\r\n\t\t\t\tb=String(b);\r\n\t\t\t}\r\n\t\t\tif(a<b){return -d;}\r\n\t\t\tif(a>b){return d;}\r\n\t\t\treturn 0;\r\n\t\t};\r\n\t\tthis._performSort=function(){\r\n\t\t\tif(_sorting.length===0){return;}\r\n\t\t\t_data=self._doSort(_data,0);\r\n\t\t};\r\n\t\tthis._doSort=function(d,q){\r\n\t\t\tvar by=_sorting[q].by,\r\n\t\t\tdir=_sorting[q].dir,\r\n\t\t\ttype = _sorting[q].type,\r\n\t\t\tdfmt = _sorting[q].datefmt,\r\n\t\t\tsfunc = _sorting[q].sfunc;\r\n\t\t\tif(q===_sorting.length-1){\r\n\t\t\t\treturn self._getOrder(d, by, dir, type, dfmt, sfunc);\r\n\t\t\t}\r\n\t\t\tq++;\r\n\t\t\tvar values=self._getGroup(d,by,dir,type,dfmt), results=[], i, j, sorted;\r\n\t\t\tfor(i=0;i<values.length;i++){\r\n\t\t\t\tsorted=self._doSort(values[i].items,q);\r\n\t\t\t\tfor(j=0;j<sorted.length;j++){\r\n\t\t\t\t\tresults.push(sorted[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t};\r\n\t\tthis._getOrder=function(data,by,dir,type, dfmt, sfunc){\r\n\t\t\tvar sortData=[],_sortData=[], newDir = dir===\"a\" ? 1 : -1, i,ab,j,\r\n\t\t\tfindSortKey;\r\n\r\n\t\t\tif(type === undefined ) { type = \"text\"; }\r\n\t\t\tif (type === 'float' || type=== 'number' || type=== 'currency' || type=== 'numeric') {\r\n\t\t\t\tfindSortKey = function($cell) {\r\n\t\t\t\t\tvar key = parseFloat( String($cell).replace(_stripNum, ''));\r\n\t\t\t\t\treturn isNaN(key) ? 0.00 : key;\r\n\t\t\t\t};\r\n\t\t\t} else if (type==='int' || type==='integer') {\r\n\t\t\t\tfindSortKey = function($cell) {\r\n\t\t\t\t\treturn $cell ? parseFloat(String($cell).replace(_stripNum, '')) : 0;\r\n\t\t\t\t};\r\n\t\t\t} else if(type === 'date' || type === 'datetime') {\r\n\t\t\t\tfindSortKey = function($cell) {\r\n\t\t\t\t\treturn $.jgrid.parseDate(dfmt,$cell).getTime();\r\n\t\t\t\t};\r\n\t\t\t} else if($.isFunction(type)) {\r\n\t\t\t\tfindSortKey = type;\r\n\t\t\t} else {\r\n\t\t\t\tfindSortKey = function($cell) {\r\n\t\t\t\t\t$cell = $cell ? $.trim(String($cell)) : \"\";\r\n\t\t\t\t\treturn _usecase ? $cell : $cell.toLowerCase();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t$.each(data,function(i,v){\r\n\t\t\t\tab = by!==\"\" ? $.jgrid.getAccessor(v,by) : v;\r\n\t\t\t\tif(ab === undefined) { ab = \"\"; }\r\n\t\t\t\tab = findSortKey(ab, v);\r\n\t\t\t\t_sortData.push({ 'vSort': ab,'index':i});\r\n\t\t\t});\r\n\t\t\tif($.isFunction(sfunc)) {\r\n\t\t\t\t_sortData.sort(function(a,b){\r\n\t\t\t\t\ta = a.vSort;\r\n\t\t\t\t\tb = b.vSort;\r\n\t\t\t\t\treturn sfunc.call(this,a,b,newDir);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t_sortData.sort(function(a,b){\r\n\t\t\t\t\ta = a.vSort;\r\n\t\t\t\t\tb = b.vSort;\r\n\t\t\t\t\treturn self._compare(a,b,newDir);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tj=0;\r\n\t\t\tvar nrec= data.length;\r\n\t\t\t// overhead, but we do not change the original data.\r\n\t\t\twhile(j<nrec) {\r\n\t\t\t\ti = _sortData[j].index;\r\n\t\t\t\tsortData.push(data[i]);\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\treturn sortData;\r\n\t\t};\r\n\t\tthis._getGroup=function(data,by,dir,type, dfmt){\r\n\t\t\tvar results=[],\r\n\t\t\tgroup=null,\r\n\t\t\tlast=null, val;\r\n\t\t\t$.each(self._getOrder(data,by,dir,type, dfmt),function(i,v){\r\n\t\t\t\tval = $.jgrid.getAccessor(v, by);\r\n\t\t\t\tif(val == null) { val = \"\"; }\r\n\t\t\t\tif(!self._equals(last,val)){\r\n\t\t\t\t\tlast=val;\r\n\t\t\t\t\tif(group !== null){\r\n\t\t\t\t\t\tresults.push(group);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgroup=self._group(by,val);\r\n\t\t\t\t}\r\n\t\t\t\tgroup.items.push(v);\r\n\t\t\t});\r\n\t\t\tif(group !== null){\r\n\t\t\t\tresults.push(group);\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t};\r\n\t\tthis.ignoreCase=function(){\r\n\t\t\t_usecase=false;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.useCase=function(){\r\n\t\t\t_usecase=true;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.trim=function(){\r\n\t\t\t_trim=true;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.noTrim=function(){\r\n\t\t\t_trim=false;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.execute=function(){\r\n\t\t\tvar match=_query, results=[];\r\n\t\t\tif(match === null){\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t\t$.each(_data,function(){\r\n\t\t\t\tif(eval(match)){results.push(this);}\r\n\t\t\t});\r\n\t\t\t_data=results;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.data=function(){\r\n\t\t\treturn _data;\r\n\t\t};\r\n\t\tthis.select=function(f){\r\n\t\t\tself._performSort();\r\n\t\t\tif(!self._hasData()){ return[]; }\r\n\t\t\tself.execute();\r\n\t\t\tif($.isFunction(f)){\r\n\t\t\t\tvar results=[];\r\n\t\t\t\t$.each(_data,function(i,v){\r\n\t\t\t\t\tresults.push(f(v));\r\n\t\t\t\t});\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t\treturn _data;\r\n\t\t};\r\n\t\tthis.hasMatch=function(){\r\n\t\t\tif(!self._hasData()) { return false; }\r\n\t\t\tself.execute();\r\n\t\t\treturn _data.length>0;\r\n\t\t};\r\n\t\tthis.andNot=function(f,v,x){\r\n\t\t\t_negate=!_negate;\r\n\t\t\treturn self.and(f,v,x);\r\n\t\t};\r\n\t\tthis.orNot=function(f,v,x){\r\n\t\t\t_negate=!_negate;\r\n\t\t\treturn self.or(f,v,x);\r\n\t\t};\r\n\t\tthis.not=function(f,v,x){\r\n\t\t\treturn self.andNot(f,v,x);\r\n\t\t};\r\n\t\tthis.and=function(f,v,x){\r\n\t\t\t_queuedOperator=\" && \";\r\n\t\t\tif(f===undefined){\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t\treturn self._repeatCommand(f,v,x);\r\n\t\t};\r\n\t\tthis.or=function(f,v,x){\r\n\t\t\t_queuedOperator=\" || \";\r\n\t\t\tif(f===undefined) { return self; }\r\n\t\t\treturn self._repeatCommand(f,v,x);\r\n\t\t};\r\n\t\tthis.orBegin=function(){\r\n\t\t\t_orDepth++;\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.orEnd=function(){\r\n\t\t\tif (_query !== null){\r\n\t\t\t\t_query+=\")\";\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.isNot=function(f){\r\n\t\t\t_negate=!_negate;\r\n\t\t\treturn self.is(f);\r\n\t\t};\r\n\t\tthis.is=function(f){\r\n\t\t\tself._append('this.'+f);\r\n\t\t\tself._resetNegate();\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis._compareValues=function(func,f,v,how,t){\r\n\t\t\tvar fld;\r\n\t\t\tif(_useProperties){\r\n\t\t\t\tfld='jQuery.jgrid.getAccessor(this,\\''+f+'\\')';\r\n\t\t\t}else{\r\n\t\t\t\tfld='this';\r\n\t\t\t}\r\n\t\t\tif(v===undefined) { v = null; }\r\n\t\t\t//var val=v===null?f:v,\r\n\t\t\tvar val =v,\r\n\t\t\tswst = t.stype === undefined ? \"text\" : t.stype;\r\n\t\t\tif(v !== null) {\r\n\t\t\tswitch(swst) {\r\n\t\t\t\tcase 'int':\r\n\t\t\t\tcase 'integer':\r\n\t\t\t\t\tval = (isNaN(Number(val)) || val===\"\") ? '0' : val; // To be fixed with more inteligent code\r\n\t\t\t\t\tfld = 'parseInt('+fld+',10)';\r\n\t\t\t\t\tval = 'parseInt('+val+',10)';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'float':\r\n\t\t\t\tcase 'number':\r\n\t\t\t\tcase 'numeric':\r\n\t\t\t\t\tval = String(val).replace(_stripNum, '');\r\n\t\t\t\t\tval = (isNaN(Number(val)) || val===\"\") ? '0' : val; // To be fixed with more inteligent code\r\n\t\t\t\t\tfld = 'parseFloat('+fld+')';\r\n\t\t\t\t\tval = 'parseFloat('+val+')';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'date':\r\n\t\t\t\tcase 'datetime':\r\n\t\t\t\t\tval = String($.jgrid.parseDate(t.newfmt || 'Y-m-d',val).getTime());\r\n\t\t\t\t\tfld = 'jQuery.jgrid.parseDate(\"'+t.srcfmt+'\",'+fld+').getTime()';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tfld=self._getStr(fld);\r\n\t\t\t\t\tval=self._getStr('\"'+self._toStr(val)+'\"');\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\tself._append(fld+' '+how+' '+val);\r\n\t\t\tself._setCommand(func,f);\r\n\t\t\tself._resetNegate();\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.equals=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.equals,f,v,\"==\",t);\r\n\t\t};\r\n\t\tthis.notEquals=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.equals,f,v,\"!==\",t);\r\n\t\t};\r\n\t\tthis.isNull = function(f,v,t){\r\n\t\t\treturn self._compareValues(self.equals,f,null,\"===\",t);\r\n\t\t};\r\n\t\tthis.greater=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.greater,f,v,\">\",t);\r\n\t\t};\r\n\t\tthis.less=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.less,f,v,\"<\",t);\r\n\t\t};\r\n\t\tthis.greaterOrEquals=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.greaterOrEquals,f,v,\">=\",t);\r\n\t\t};\r\n\t\tthis.lessOrEquals=function(f,v,t){\r\n\t\t\treturn self._compareValues(self.lessOrEquals,f,v,\"<=\",t);\r\n\t\t};\r\n\t\tthis.startsWith=function(f,v){\r\n\t\t\tvar val = (v==null) ? f: v,\r\n\t\t\tlength=_trim ? $.trim(val.toString()).length : val.toString().length;\r\n\t\t\tif(_useProperties){\r\n\t\t\t\tself._append(self._getStr('jQuery.jgrid.getAccessor(this,\\''+f+'\\')')+'.substr(0,'+length+') == '+self._getStr('\"'+self._toStr(v)+'\"'));\r\n\t\t\t}else{\r\n\t\t\t\tif (v!=null) { length=_trim?$.trim(v.toString()).length:v.toString().length; }\r\n\t\t\t\tself._append(self._getStr('this')+'.substr(0,'+length+') == '+self._getStr('\"'+self._toStr(f)+'\"'));\r\n\t\t\t}\r\n\t\t\tself._setCommand(self.startsWith,f);\r\n\t\t\tself._resetNegate();\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.endsWith=function(f,v){\r\n\t\t\tvar val = (v==null) ? f: v,\r\n\t\t\tlength=_trim ? $.trim(val.toString()).length:val.toString().length;\r\n\t\t\tif(_useProperties){\r\n\t\t\t\tself._append(self._getStr('jQuery.jgrid.getAccessor(this,\\''+f+'\\')')+'.substr('+self._getStr('jQuery.jgrid.getAccessor(this,\\''+f+'\\')')+'.length-'+length+','+length+') == \"'+self._toStr(v)+'\"');\r\n\t\t\t} else {\r\n\t\t\t\tself._append(self._getStr('this')+'.substr('+self._getStr('this')+'.length-\"'+self._toStr(f)+'\".length,\"'+self._toStr(f)+'\".length) == \"'+self._toStr(f)+'\"');\r\n\t\t\t}\r\n\t\t\tself._setCommand(self.endsWith,f);self._resetNegate();\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.contains=function(f,v){\r\n\t\t\tif(_useProperties){\r\n\t\t\t\tself._append(self._getStr('jQuery.jgrid.getAccessor(this,\\''+f+'\\')')+'.indexOf(\"'+self._toStr(v)+'\",0) > -1');\r\n\t\t\t}else{\r\n\t\t\t\tself._append(self._getStr('this')+'.indexOf(\"'+self._toStr(f)+'\",0) > -1');\r\n\t\t\t}\r\n\t\t\tself._setCommand(self.contains,f);\r\n\t\t\tself._resetNegate();\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\tthis.groupBy=function(by,dir,type, datefmt){\r\n\t\t\tif(!self._hasData()){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn self._getGroup(_data,by,dir,type, datefmt);\r\n\t\t};\r\n\t\tthis.orderBy=function(by,dir,stype, dfmt, sfunc){\r\n\t\t\tdir = dir == null ? \"a\" :$.trim(dir.toString().toLowerCase());\r\n\t\t\tif(stype == null) { stype = \"text\"; }\r\n\t\t\tif(dfmt == null) { dfmt = \"Y-m-d\"; }\r\n\t\t\tif(sfunc == null) { sfunc = false; }\r\n\t\t\tif(dir===\"desc\"||dir===\"descending\"){dir=\"d\";}\r\n\t\t\tif(dir===\"asc\"||dir===\"ascending\"){dir=\"a\";}\r\n\t\t\t_sorting.push({by:by,dir:dir,type:stype, datefmt: dfmt, sfunc: sfunc});\r\n\t\t\treturn self;\r\n\t\t};\r\n\t\treturn self;\r\n\t\t};\r\n\treturn new QueryObject(source,null);\r\n\t},\r\n\tgetMethod: function (name) {\r\n        return this.getAccessor($.fn.jqGrid, name);\r\n\t},\r\n\textend : function(methods) {\r\n\t\t$.extend($.fn.jqGrid,methods);\r\n\t\tif (!this.no_legacy_api) {\r\n\t\t\t$.fn.extend(methods);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n$.fn.jqGrid = function( pin ) {\r\n\tif (typeof pin === 'string') {\r\n\t\tvar fn = $.jgrid.getMethod(pin);\r\n\t\tif (!fn) {\r\n\t\t\tthrow (\"jqGrid - No such method: \" + pin);\r\n\t\t}\r\n\t\tvar args = $.makeArray(arguments).slice(1);\r\n\t\treturn fn.apply(this,args);\r\n\t}\r\n\treturn this.each( function() {\r\n\t\tif(this.grid) {return;}\r\n\r\n\t\tvar p = $.extend(true,{\r\n\t\t\turl: \"\",\r\n\t\t\theight: 150,\r\n\t\t\tpage: 1,\r\n\t\t\trowNum: 20,\r\n\t\t\trowTotal : null,\r\n\t\t\trecords: 0,\r\n\t\t\tpager: \"\",\r\n\t\t\tpgbuttons: true,\r\n\t\t\tpginput: true,\r\n\t\t\tcolModel: [],\r\n\t\t\trowList: [],\r\n\t\t\tcolNames: [],\r\n\t\t\tsortorder: \"asc\",\r\n\t\t\tsortname: \"\",\r\n\t\t\tdatatype: \"xml\",\r\n\t\t\tmtype: \"GET\",\r\n\t\t\taltRows: false,\r\n\t\t\tselarrrow: [],\r\n\t\t\tsavedRow: [],\r\n\t\t\tshrinkToFit: true,\r\n\t\t\txmlReader: {},\r\n\t\t\tjsonReader: {},\r\n\t\t\tsubGrid: false,\r\n\t\t\tsubGridModel :[],\r\n\t\t\treccount: 0,\r\n\t\t\tlastpage: 0,\r\n\t\t\tlastsort: 0,\r\n\t\t\tselrow: null,\r\n\t\t\tbeforeSelectRow: null,\r\n\t\t\tonSelectRow: null,\r\n\t\t\tonSortCol: null,\r\n\t\t\tondblClickRow: null,\r\n\t\t\tonRightClickRow: null,\r\n\t\t\tonPaging: null,\r\n\t\t\tonSelectAll: null,\r\n\t\t\tonInitGrid : null,\r\n\t\t\tloadComplete: null,\r\n\t\t\tgridComplete: null,\r\n\t\t\tloadError: null,\r\n\t\t\tloadBeforeSend: null,\r\n\t\t\tafterInsertRow: null,\r\n\t\t\tbeforeRequest: null,\r\n\t\t\tbeforeProcessing : null,\r\n\t\t\tonHeaderClick: null,\r\n\t\t\tviewrecords: false,\r\n\t\t\tloadonce: false,\r\n\t\t\tmultiselect: false,\r\n\t\t\tmultikey: false,\r\n\t\t\tediturl: null,\r\n\t\t\tsearch: false,\r\n\t\t\tcaption: \"\",\r\n\t\t\thidegrid: true,\r\n\t\t\thiddengrid: false,\r\n\t\t\tpostData: {},\r\n\t\t\tuserData: {},\r\n\t\t\ttreeGrid : false,\r\n\t\t\ttreeGridModel : 'nested',\r\n\t\t\ttreeReader : {},\r\n\t\t\ttreeANode : -1,\r\n\t\t\tExpandColumn: null,\r\n\t\t\ttree_root_level : 0,\r\n\t\t\tprmNames: {page:\"page\",rows:\"rows\", sort: \"sidx\",order: \"sord\", search:\"_search\", nd:\"nd\", id:\"id\",oper:\"oper\",editoper:\"edit\",addoper:\"add\",deloper:\"del\", subgridid:\"id\", npage: null, totalrows:\"totalrows\"},\r\n\t\t\tforceFit : false,\r\n\t\t\tgridstate : \"visible\",\r\n\t\t\tcellEdit: false,\r\n\t\t\tcellsubmit: \"remote\",\r\n\t\t\tnv:0,\r\n\t\t\tloadui: \"enable\",\r\n\t\t\ttoolbar: [false,\"\"],\r\n\t\t\tscroll: false,\r\n\t\t\tmultiboxonly : false,\r\n\t\t\tdeselectAfterSort : true,\r\n\t\t\tscrollrows : false,\r\n\t\t\tautowidth: false,\r\n\t\t\tscrollOffset :18,\r\n\t\t\tcellLayout: 5,\r\n\t\t\tsubGridWidth: 20,\r\n\t\t\tmultiselectWidth: 20,\r\n\t\t\tgridview: false,\r\n\t\t\trownumWidth: 25,\r\n\t\t\trownumbers : false,\r\n\t\t\tpagerpos: 'center',\r\n\t\t\trecordpos: 'right',\r\n\t\t\tfooterrow : false,\r\n\t\t\tuserDataOnFooter : false,\r\n\t\t\thoverrows : true,\r\n\t\t\taltclass : 'ui-priority-secondary',\r\n\t\t\tviewsortcols : [false,'vertical',true],\r\n\t\t\tresizeclass : '',\r\n\t\t\tautoencode : false,\r\n\t\t\tremapColumns : [],\r\n\t\t\tajaxGridOptions :{},\r\n\t\t\tdirection : \"ltr\",\r\n\t\t\ttoppager: false,\r\n\t\t\theadertitles: false,\r\n\t\t\tscrollTimeout: 40,\r\n\t\t\tdata : [],\r\n\t\t\t_index : {},\r\n\t\t\tgrouping : false,\r\n\t\t\tgroupingView : {groupField:[],groupOrder:[], groupText:[],groupColumnShow:[],groupSummary:[], showSummaryOnHide: false, sortitems:[], sortnames:[], summary:[],summaryval:[], plusicon: 'ui-icon-circlesmall-plus', minusicon: 'ui-icon-circlesmall-minus', displayField: [], groupSummaryPos:[], formatDisplayField : [], _locgr : false},\r\n\t\t\tignoreCase : false,\r\n\t\t\tcmTemplate : {},\r\n\t\t\tidPrefix : \"\",\r\n\t\t\tmultiSort :  false\r\n\t\t}, $.jgrid.defaults, pin || {});\r\n\t\tvar ts= this, grid={\r\n\t\t\theaders:[],\r\n\t\t\tcols:[],\r\n\t\t\tfooters: [],\r\n\t\t\tdragStart: function(i,x,y) {\r\n\t\t\t\tvar gridLeftPos = $(this.bDiv).offset().left;\r\n\t\t\t\tthis.resizing = { idx: i, startX: x.clientX, sOL : x.clientX - gridLeftPos };\r\n\t\t\t\tthis.hDiv.style.cursor = \"col-resize\";\r\n\t\t\t\tthis.curGbox = $(\"#rs_m\"+$.jgrid.jqID(p.id),\"#gbox_\"+$.jgrid.jqID(p.id));\r\n\t\t\t\tthis.curGbox.css({display:\"block\",left:x.clientX-gridLeftPos,top:y[1],height:y[2]});\r\n\t\t\t\t$(ts).triggerHandler(\"jqGridResizeStart\", [x, i]);\r\n\t\t\t\tif($.isFunction(p.resizeStart)) { p.resizeStart.call(ts,x,i); }\r\n\t\t\t\tdocument.onselectstart=function(){return false;};\r\n\t\t\t},\r\n\t\t\tdragMove: function(x) {\r\n\t\t\t\tif(this.resizing) {\r\n\t\t\t\t\tvar diff = x.clientX-this.resizing.startX,\r\n\t\t\t\t\th = this.headers[this.resizing.idx],\r\n\t\t\t\t\tnewWidth = p.direction === \"ltr\" ? h.width + diff : h.width - diff, hn, nWn;\r\n\t\t\t\t\tif(newWidth > 33) {\r\n\t\t\t\t\t\tthis.curGbox.css({left:this.resizing.sOL+diff});\r\n\t\t\t\t\t\tif(p.forceFit===true ){\r\n\t\t\t\t\t\t\thn = this.headers[this.resizing.idx+p.nv];\r\n\t\t\t\t\t\t\tnWn = p.direction === \"ltr\" ? hn.width - diff : hn.width + diff;\r\n\t\t\t\t\t\t\tif(nWn >33) {\r\n\t\t\t\t\t\t\t\th.newWidth = newWidth;\r\n\t\t\t\t\t\t\t\thn.newWidth = nWn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.newWidth = p.direction === \"ltr\" ? p.tblwidth+diff : p.tblwidth-diff;\r\n\t\t\t\t\t\t\th.newWidth = newWidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdragEnd: function() {\r\n\t\t\t\tthis.hDiv.style.cursor = \"default\";\r\n\t\t\t\tif(this.resizing) {\r\n\t\t\t\t\tvar idx = this.resizing.idx,\r\n\t\t\t\t\tnw = this.headers[idx].newWidth || this.headers[idx].width;\r\n\t\t\t\t\tnw = parseInt(nw,10);\r\n\t\t\t\t\tthis.resizing = false;\r\n\t\t\t\t\t$(\"#rs_m\"+$.jgrid.jqID(p.id)).css(\"display\",\"none\");\r\n\t\t\t\t\tp.colModel[idx].width = nw;\r\n\t\t\t\t\tthis.headers[idx].width = nw;\r\n\t\t\t\t\tthis.headers[idx].el.style.width = nw + \"px\";\r\n\t\t\t\t\tthis.cols[idx].style.width = nw+\"px\";\r\n\t\t\t\t\tif(this.footers.length>0) {this.footers[idx].style.width = nw+\"px\";}\r\n\t\t\t\t\tif(p.forceFit===true){\r\n\t\t\t\t\t\tnw = this.headers[idx+p.nv].newWidth || this.headers[idx+p.nv].width;\r\n\t\t\t\t\t\tthis.headers[idx+p.nv].width = nw;\r\n\t\t\t\t\t\tthis.headers[idx+p.nv].el.style.width = nw + \"px\";\r\n\t\t\t\t\t\tthis.cols[idx+p.nv].style.width = nw+\"px\";\r\n\t\t\t\t\t\tif(this.footers.length>0) {this.footers[idx+p.nv].style.width = nw+\"px\";}\r\n\t\t\t\t\t\tp.colModel[idx+p.nv].width = nw;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tp.tblwidth = this.newWidth || p.tblwidth;\r\n\t\t\t\t\t\t$('table:first',this.bDiv).css(\"width\",p.tblwidth+\"px\");\r\n\t\t\t\t\t\t$('table:first',this.hDiv).css(\"width\",p.tblwidth+\"px\");\r\n\t\t\t\t\t\tthis.hDiv.scrollLeft = this.bDiv.scrollLeft;\r\n\t\t\t\t\t\tif(p.footerrow) {\r\n\t\t\t\t\t\t\t$('table:first',this.sDiv).css(\"width\",p.tblwidth+\"px\");\r\n\t\t\t\t\t\t\tthis.sDiv.scrollLeft = this.bDiv.scrollLeft;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridResizeStop\", [nw, idx]);\r\n\t\t\t\t\tif($.isFunction(p.resizeStop)) { p.resizeStop.call(ts,nw,idx); }\r\n\t\t\t\t}\r\n\t\t\t\tthis.curGbox = null;\r\n\t\t\t\tdocument.onselectstart=function(){return true;};\r\n\t\t\t},\r\n\t\t\tpopulateVisible: function() {\r\n\t\t\t\tif (grid.timer) { clearTimeout(grid.timer); }\r\n\t\t\t\tgrid.timer = null;\r\n\t\t\t\tvar dh = $(grid.bDiv).height();\r\n\t\t\t\tif (!dh) { return; }\r\n\t\t\t\tvar table = $(\"table:first\", grid.bDiv);\r\n\t\t\t\tvar rows, rh;\r\n\t\t\t\tif(table[0].rows.length) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\trows = table[0].rows[1];\r\n\t\t\t\t\t\trh = rows ? $(rows).outerHeight() || grid.prevRowHeight : grid.prevRowHeight;\r\n\t\t\t\t\t} catch (pv) {\r\n\t\t\t\t\t\trh = grid.prevRowHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!rh) { return; }\r\n\t\t\t\tgrid.prevRowHeight = rh;\r\n\t\t\t\tvar rn = p.rowNum;\r\n\t\t\t\tvar scrollTop = grid.scrollTop = grid.bDiv.scrollTop;\r\n\t\t\t\tvar ttop = Math.round(table.position().top) - scrollTop;\r\n\t\t\t\tvar tbot = ttop + table.height();\r\n\t\t\t\tvar div = rh * rn;\r\n\t\t\t\tvar page, npage, empty;\r\n\t\t\t\tif ( tbot < dh && ttop <= 0 &&\r\n\t\t\t\t\t(p.lastpage===undefined||parseInt((tbot + scrollTop + div - 1) / div,10) <= p.lastpage))\r\n\t\t\t\t{\r\n\t\t\t\t\tnpage = parseInt((dh - tbot + div - 1) / div,10);\r\n\t\t\t\t\tif (tbot >= 0 || npage < 2 || p.scroll === true) {\r\n\t\t\t\t\t\tpage = Math.round((tbot + scrollTop) / div) + 1;\r\n\t\t\t\t\t\tttop = -1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tttop = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (ttop > 0) {\r\n\t\t\t\t\tpage = parseInt(scrollTop / div,10) + 1;\r\n\t\t\t\t\tnpage = parseInt((scrollTop + dh) / div,10) + 2 - page;\r\n\t\t\t\t\tempty = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (npage) {\r\n\t\t\t\t\tif (p.lastpage && (page > p.lastpage || p.lastpage===1 || (page === p.page && page===p.lastpage)) ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (grid.hDiv.loading) {\r\n\t\t\t\t\t\tgrid.timer = setTimeout(grid.populateVisible, p.scrollTimeout);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tp.page = page;\r\n\t\t\t\t\t\tif (empty) {\r\n\t\t\t\t\t\t\tgrid.selectionPreserver(table[0]);\r\n\t\t\t\t\t\t\tgrid.emptyRows.call(table[0], false, false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgrid.populate(npage);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollGrid: function( e ) {\r\n\t\t\t\tif(p.scroll) {\r\n\t\t\t\t\tvar scrollTop = grid.bDiv.scrollTop;\r\n\t\t\t\t\tif(grid.scrollTop === undefined) { grid.scrollTop = 0; }\r\n\t\t\t\t\tif (scrollTop !== grid.scrollTop) {\r\n\t\t\t\t\t\tgrid.scrollTop = scrollTop;\r\n\t\t\t\t\t\tif (grid.timer) { clearTimeout(grid.timer); }\r\n\t\t\t\t\t\tgrid.timer = setTimeout(grid.populateVisible, p.scrollTimeout);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgrid.hDiv.scrollLeft = grid.bDiv.scrollLeft;\r\n\t\t\t\tif(p.footerrow) {\r\n\t\t\t\t\tgrid.sDiv.scrollLeft = grid.bDiv.scrollLeft;\r\n\t\t\t\t}\r\n\t\t\t\tif( e ) { e.stopPropagation(); }\r\n\t\t\t},\r\n\t\t\tselectionPreserver : function(ts) {\r\n\t\t\t\tvar p = ts.p,\r\n\t\t\t\tsr = p.selrow, sra = p.selarrrow ? $.makeArray(p.selarrrow) : null,\r\n\t\t\t\tleft = ts.grid.bDiv.scrollLeft,\r\n\t\t\t\trestoreSelection = function() {\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tp.selrow = null;\r\n\t\t\t\t\tp.selarrrow = [];\r\n\t\t\t\t\tif(p.multiselect && sra && sra.length>0) {\r\n\t\t\t\t\t\tfor(i=0;i<sra.length;i++){\r\n\t\t\t\t\t\t\tif (sra[i] !== sr) {\r\n\t\t\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\",sra[i],false, null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sr) {\r\n\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\",sr,false,null);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tts.grid.bDiv.scrollLeft = left;\r\n\t\t\t\t\t$(ts).unbind('.selectionPreserver', restoreSelection);\r\n\t\t\t\t};\r\n\t\t\t\t$(ts).bind('jqGridGridComplete.selectionPreserver', restoreSelection);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif(this.tagName.toUpperCase() !== 'TABLE') {\r\n\t\t\talert(\"Element is not a table\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(document.documentMode !== undefined ) { // IE only\r\n\t\t\tif(document.documentMode <= 5) {\r\n\t\t\t\talert(\"Grid can not be used in this ('quirks') mode!\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$(this).empty().attr(\"tabindex\",\"0\");\r\n\t\tthis.p = p ;\r\n\t\tthis.p.useProp = !!$.fn.prop;\r\n\t\tvar i, dir;\r\n\t\tif(this.p.colNames.length === 0) {\r\n\t\t\tfor (i=0;i<this.p.colModel.length;i++){\r\n\t\t\t\tthis.p.colNames[i] = this.p.colModel[i].label || this.p.colModel[i].name;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( this.p.colNames.length !== this.p.colModel.length ) {\r\n\t\t\talert($.jgrid.errors.model);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar gv = $(\"<div class='ui-jqgrid-view'></div>\"),\r\n\t\tisMSIE = $.jgrid.msie;\r\n\t\tts.p.direction = $.trim(ts.p.direction.toLowerCase());\r\n\t\tif($.inArray(ts.p.direction,[\"ltr\",\"rtl\"]) === -1) { ts.p.direction = \"ltr\"; }\r\n\t\tdir = ts.p.direction;\r\n\r\n\t\t$(gv).insertBefore(this);\r\n\t\t$(this).removeClass(\"scroll\").appendTo(gv);\r\n\t\tvar eg = $(\"<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>\");\r\n\t\t$(eg).attr({\"id\" : \"gbox_\"+this.id,\"dir\":dir}).insertBefore(gv);\r\n\t\t$(gv).attr(\"id\",\"gview_\"+this.id).appendTo(eg);\r\n\t\t$(\"<div class='ui-widget-overlay jqgrid-overlay' id='lui_\"+this.id+\"'></div>\").insertBefore(gv);\r\n\t\t$(\"<div class='loading ui-state-default ui-state-active' id='load_\"+this.id+\"'>\"+this.p.loadtext+\"</div>\").insertBefore(gv);\r\n\t\t$(this).attr({cellspacing:\"0\",cellpadding:\"0\",border:\"0\",\"role\":\"grid\",\"aria-multiselectable\":!!this.p.multiselect,\"aria-labelledby\":\"gbox_\"+this.id});\r\n\t\tvar sortkeys = [\"shiftKey\",\"altKey\",\"ctrlKey\"],\r\n\t\tintNum = function(val,defval) {\r\n\t\t\tval = parseInt(val,10);\r\n\t\t\tif (isNaN(val)) { return defval || 0;}\r\n\t\t\treturn val;\r\n\t\t},\r\n\t\tformatCol = function (pos, rowInd, tv, rawObject, rowId, rdata){\r\n\t\t\tvar cm = ts.p.colModel[pos],\r\n\t\t\tral = cm.align, result=\"style=\\\"\", clas = cm.classes, nm = cm.name, celp, acp=[];\r\n\t\t\tif(ral) { result += \"text-align:\"+ral+\";\"; }\r\n\t\t\tif(cm.hidden===true) { result += \"display:none;\"; }\r\n\t\t\tif(rowInd===0) {\r\n\t\t\t\tresult += \"width: \"+grid.headers[pos].width+\"px;\";\r\n\t\t\t} else if (cm.cellattr && $.isFunction(cm.cellattr))\r\n\t\t\t{\r\n\t\t\t\tcelp = cm.cellattr.call(ts, rowId, tv, rawObject, cm, rdata);\r\n\t\t\t\tif(celp && typeof celp === \"string\") {\r\n\t\t\t\t\tcelp = celp.replace(/style/i,'style').replace(/title/i,'title');\r\n\t\t\t\t\tif(celp.indexOf('title') > -1) { cm.title=false;}\r\n\t\t\t\t\tif(celp.indexOf('class') > -1) { clas = undefined;}\r\n\t\t\t\t\tacp = celp.replace('-style','-sti').split(/style/);\r\n\t\t\t\t\tif(acp.length === 2 ) {\r\n\t\t\t\t\t\tacp[1] =  $.trim(acp[1].replace('-sti','-style').replace(\"=\",\"\"));\r\n\t\t\t\t\t\tif(acp[1].indexOf(\"'\") === 0 || acp[1].indexOf('\"') === 0) {\r\n\t\t\t\t\t\t\tacp[1] = acp[1].substring(1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult += acp[1].replace(/'/gi,'\"');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresult += \"\\\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!acp.length) { acp[0] = \"\"; result += \"\\\"\";}\r\n\t\t\tresult += (clas !== undefined ? (\" class=\\\"\"+clas+\"\\\"\") :\"\") + ((cm.title && tv) ? (\" title=\\\"\"+$.jgrid.stripHtml(tv)+\"\\\"\") :\"\");\r\n\t\t\tresult += \" aria-describedby=\\\"\"+ts.p.id+\"_\"+nm+\"\\\"\";\r\n\t\t\treturn result + acp[0];\r\n\t\t},\r\n\t\tcellVal =  function (val) {\r\n\t\t\treturn val == null || val === \"\" ? \"&#160;\" : (ts.p.autoencode ? $.jgrid.htmlEncode(val) : String(val));\r\n\t\t},\r\n\t\tformatter = function (rowId, cellval , colpos, rwdat, _act){\r\n\t\t\tvar cm = ts.p.colModel[colpos],v;\r\n\t\t\tif(cm.formatter !== undefined) {\r\n\t\t\t\trowId = String(ts.p.idPrefix) !== \"\" ? $.jgrid.stripPref(ts.p.idPrefix, rowId) : rowId;\r\n\t\t\t\tvar opts= {rowId: rowId, colModel:cm, gid:ts.p.id, pos:colpos };\r\n\t\t\t\tif($.isFunction( cm.formatter ) ) {\r\n\t\t\t\t\tv = cm.formatter.call(ts,cellval,opts,rwdat,_act);\r\n\t\t\t\t} else if($.fmatter){\r\n\t\t\t\t\tv = $.fn.fmatter.call(ts,cm.formatter,cellval,opts,rwdat,_act);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv = cellVal(cellval);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tv = cellVal(cellval);\r\n\t\t\t}\r\n\t\t\treturn v;\r\n\t\t},\r\n\t\taddCell = function(rowId,cell,pos,irow, srvr, rdata) {\r\n\t\t\tvar v,prp;\r\n\t\t\tv = formatter(rowId,cell,pos,srvr,'add');\r\n\t\t\tprp = formatCol( pos,irow, v, srvr, rowId, rdata);\r\n\t\t\treturn \"<td role=\\\"gridcell\\\" \"+prp+\">\"+v+\"</td>\";\r\n\t\t},\r\n\t\taddMulti = function(rowid,pos,irow,checked){\r\n\t\t\tvar\tv = \"<input role=\\\"checkbox\\\" type=\\\"checkbox\\\"\"+\" id=\\\"jqg_\"+ts.p.id+\"_\"+rowid+\"\\\" class=\\\"cbox\\\" name=\\\"jqg_\"+ts.p.id+\"_\"+rowid+\"\\\"\" + (checked ? \"checked=\\\"checked\\\"\" : \"\")+\"/>\",\r\n\t\t\tprp = formatCol( pos,irow,'',null, rowid, true);\r\n\t\t\treturn \"<td role=\\\"gridcell\\\" \"+prp+\">\"+v+\"</td>\";\r\n\t\t},\r\n\t\taddRowNum = function (pos,irow,pG,rN) {\r\n\t\t\tvar v =  (parseInt(pG,10)-1)*parseInt(rN,10)+1+irow,\r\n\t\t\tprp = formatCol( pos,irow,v, null, irow, true);\r\n\t\t\treturn \"<td role=\\\"gridcell\\\" class=\\\"ui-state-default jqgrid-rownum\\\" \"+prp+\">\"+v+\"</td>\";\r\n\t\t},\r\n\t\treader = function (datatype) {\r\n\t\t\tvar field, f=[], j=0, i;\r\n\t\t\tfor(i =0; i<ts.p.colModel.length; i++){\r\n\t\t\t\tfield = ts.p.colModel[i];\r\n\t\t\t\tif (field.name !== 'cb' && field.name !=='subgrid' && field.name !=='rn') {\r\n\t\t\t\t\tf[j]= datatype === \"local\" ?\r\n\t\t\t\t\tfield.name :\r\n\t\t\t\t\t( (datatype===\"xml\" || datatype === \"xmlstring\") ? field.xmlmap || field.name : field.jsonmap || field.name );\r\n\t\t\t\t\tif(ts.p.keyIndex !== false && field.key===true ) {\r\n\t\t\t\t\t\tts.p.keyName = f[j];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn f;\r\n\t\t},\r\n\t\torderedCols = function (offset) {\r\n\t\t\tvar order = ts.p.remapColumns;\r\n\t\t\tif (!order || !order.length) {\r\n\t\t\t\torder = $.map(ts.p.colModel, function(v,i) { return i; });\r\n\t\t\t}\r\n\t\t\tif (offset) {\r\n\t\t\t\torder = $.map(order, function(v) { return v<offset?null:v-offset; });\r\n\t\t\t}\r\n\t\t\treturn order;\r\n\t\t},\r\n\t\temptyRows = function (scroll, locdata) {\r\n\t\t\tvar firstrow;\r\n\t\t\tif (this.p.deepempty) {\r\n\t\t\t\t$(this.rows).slice(1).remove();\r\n\t\t\t} else {\r\n\t\t\t\tfirstrow = this.rows.length > 0 ? this.rows[0] : null;\r\n\t\t\t\t$(this.firstChild).empty().append(firstrow);\r\n\t\t\t}\r\n\t\t\tif (scroll && this.p.scroll) {\r\n\t\t\t\t$(this.grid.bDiv.firstChild).css({height: \"auto\"});\r\n\t\t\t\t$(this.grid.bDiv.firstChild.firstChild).css({height: 0, display: \"none\"});\r\n\t\t\t\tif (this.grid.bDiv.scrollTop !== 0) {\r\n\t\t\t\t\tthis.grid.bDiv.scrollTop = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(locdata === true && this.p.treeGrid) {\r\n\t\t\t\tthis.p.data = []; this.p._index = {};\r\n\t\t\t}\r\n\t\t},\r\n\t\trefreshIndex = function() {\r\n\t\t\tvar datalen = ts.p.data.length, idname, i, val,\r\n\t\t\tni = ts.p.rownumbers===true ? 1 :0,\r\n\t\t\tgi = ts.p.multiselect ===true ? 1 :0,\r\n\t\t\tsi = ts.p.subGrid===true ? 1 :0;\r\n\r\n\t\t\tif(ts.p.keyIndex === false || ts.p.loadonce === true) {\r\n\t\t\t\tidname = ts.p.localReader.id;\r\n\t\t\t} else {\r\n\t\t\t\tidname = ts.p.colModel[ts.p.keyIndex+gi+si+ni].name;\r\n\t\t\t}\r\n\t\t\tfor(i =0;i < datalen; i++) {\r\n\t\t\t\tval = $.jgrid.getAccessor(ts.p.data[i],idname);\r\n\t\t\t\tif (val === undefined) { val=String(i+1); }\r\n\t\t\t\tts.p._index[val] = i;\r\n\t\t\t}\r\n\t\t},\r\n\t\tconstructTr = function(id, hide, altClass, rd, cur, selected) {\r\n\t\t\tvar tabindex = '-1', restAttr = '', attrName, style = hide ? 'display:none;' : '',\r\n\t\t\t\tclasses = 'ui-widget-content jqgrow ui-row-' + ts.p.direction + (altClass ? ' ' + altClass : '') + (selected ? ' ui-state-highlight' : ''),\r\n\t\t\t\trowAttrObj = $(ts).triggerHandler(\"jqGridRowAttr\", [rd, cur, id]);\r\n\t\t\t\tif( typeof rowAttrObj !== \"object\" ) {\r\n\t\t\t\t\trowAttrObj =   $.isFunction(ts.p.rowattr) ? ts.p.rowattr.call(ts, rd, cur, id) :{};\r\n\t\t\t\t}\r\n\t\t\tif(!$.isEmptyObject( rowAttrObj )) {\r\n\t\t\t\tif (rowAttrObj.hasOwnProperty(\"id\")) {\r\n\t\t\t\t\tid = rowAttrObj.id;\r\n\t\t\t\t\tdelete rowAttrObj.id;\r\n\t\t\t\t}\r\n\t\t\t\tif (rowAttrObj.hasOwnProperty(\"tabindex\")) {\r\n\t\t\t\t\ttabindex = rowAttrObj.tabindex;\r\n\t\t\t\t\tdelete rowAttrObj.tabindex;\r\n\t\t\t\t}\r\n\t\t\t\tif (rowAttrObj.hasOwnProperty(\"style\")) {\r\n\t\t\t\t\tstyle += rowAttrObj.style;\r\n\t\t\t\t\tdelete rowAttrObj.style;\r\n\t\t\t\t}\r\n\t\t\t\tif (rowAttrObj.hasOwnProperty(\"class\")) {\r\n\t\t\t\t\tclasses += ' ' + rowAttrObj['class'];\r\n\t\t\t\t\tdelete rowAttrObj['class'];\r\n\t\t\t\t}\r\n\t\t\t\t// dot't allow to change role attribute\r\n\t\t\t\ttry { delete rowAttrObj.role; } catch(ra){}\r\n\t\t\t\tfor (attrName in rowAttrObj) {\r\n\t\t\t\t\tif (rowAttrObj.hasOwnProperty(attrName)) {\r\n\t\t\t\t\t\trestAttr += ' ' + attrName + '=' + rowAttrObj[attrName];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn '<tr role=\"row\" id=\"' + id + '\" tabindex=\"' + tabindex + '\" class=\"' + classes + '\"' +\r\n\t\t\t\t(style === '' ? '' : ' style=\"' + style + '\"') + restAttr + '>';\r\n\t\t},\r\n\t\taddXmlData = function (xml,t, rcnt, more, adjust) {\r\n\t\t\tvar startReq = new Date(),\r\n\t\t\tlocdata = (ts.p.datatype !== \"local\" && ts.p.loadonce) || ts.p.datatype === \"xmlstring\",\r\n\t\t\txmlid = \"_id_\", xmlRd = ts.p.xmlReader,\r\n\t\t\tfrd = ts.p.datatype === \"local\" ? \"local\" : \"xml\";\r\n\t\t\tif(locdata) {\r\n\t\t\t\tts.p.data = [];\r\n\t\t\t\tts.p._index = {};\r\n\t\t\t\tts.p.localReader.id = xmlid;\r\n\t\t\t}\r\n\t\t\tts.p.reccount = 0;\r\n\t\t\tif($.isXMLDoc(xml)) {\r\n\t\t\t\tif(ts.p.treeANode===-1 && !ts.p.scroll) {\r\n\t\t\t\t\temptyRows.call(ts, false, true);\r\n\t\t\t\t\trcnt=1;\r\n\t\t\t\t} else { rcnt = rcnt > 1 ? rcnt :1; }\r\n\t\t\t} else { return; }\r\n\t\t\tvar self= $(ts), i,fpos,ir=0,v,gi=ts.p.multiselect===true?1:0,si=0,addSubGridCell,ni=ts.p.rownumbers===true?1:0,idn, getId,f=[],F,rd ={}, xmlr,rid, rowData=[], cn=(ts.p.altRows === true) ? ts.p.altclass:\"\",cn1;\r\n\t\t\tif(ts.p.subGrid===true) {\r\n\t\t\t\tsi = 1;\r\n\t\t\t\taddSubGridCell = $.jgrid.getMethod(\"addSubGridCell\");\r\n\t\t\t}\r\n\t\t\tif(!xmlRd.repeatitems) {f = reader(frd);}\r\n\t\t\tif( ts.p.keyIndex===false) {\r\n\t\t\t\tidn = $.isFunction( xmlRd.id ) ?  xmlRd.id.call(ts, xml) : xmlRd.id;\r\n\t\t\t} else {\r\n\t\t\t\tidn = ts.p.keyIndex;\r\n\t\t\t}\r\n\t\t\tif(f.length>0 && !isNaN(idn)) {\r\n\t\t\t\tidn=ts.p.keyName;\r\n\t\t\t}\r\n\t\t\tif( String(idn).indexOf(\"[\") === -1 ) {\r\n\t\t\t\tif (f.length) {\r\n\t\t\t\t\tgetId = function( trow, k) {return $(idn,trow).text() || k;};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetId = function( trow, k) {return $(xmlRd.cell,trow).eq(idn).text() || k;};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tgetId = function( trow, k) {return trow.getAttribute(idn.replace(/[\\[\\]]/g,\"\")) || k;};\r\n\t\t\t}\r\n\t\t\tts.p.userData = {};\r\n\t\t\tts.p.page = intNum($.jgrid.getXmlData(xml, xmlRd.page), ts.p.page);\r\n\t\t\tts.p.lastpage = intNum($.jgrid.getXmlData(xml, xmlRd.total), 1);\r\n\t\t\tts.p.records = intNum($.jgrid.getXmlData(xml, xmlRd.records));\r\n\t\t\tif($.isFunction(xmlRd.userdata)) {\r\n\t\t\t\tts.p.userData = xmlRd.userdata.call(ts, xml) || {};\r\n\t\t\t} else {\r\n\t\t\t\t$.jgrid.getXmlData(xml, xmlRd.userdata, true).each(function() {ts.p.userData[this.getAttribute(\"name\")]= $(this).text();});\r\n\t\t\t}\r\n\t\t\tvar gxml = $.jgrid.getXmlData( xml, xmlRd.root, true);\r\n\t\t\tgxml = $.jgrid.getXmlData( gxml, xmlRd.row, true);\r\n\t\t\tif (!gxml) { gxml = []; }\r\n\t\t\tvar gl = gxml.length, j=0, grpdata=[], rn = parseInt(ts.p.rowNum,10), br=ts.p.scroll?$.jgrid.randId():1, altr;\r\n\t\t\tif (gl > 0 &&  ts.p.page <= 0) { ts.p.page = 1; }\r\n\t\t\tif(gxml && gl){\r\n\t\t\tif (adjust) { rn *= adjust+1; }\r\n\t\t\tvar afterInsRow = $.isFunction(ts.p.afterInsertRow), hiderow=false, groupingPrepare;\r\n\t\t\tif(ts.p.grouping)  {\r\n\t\t\t\thiderow = ts.p.groupingView.groupCollapse === true;\r\n\t\t\t\tgroupingPrepare = $.jgrid.getMethod(\"groupingPrepare\");\r\n\t\t\t}\r\n\t\t\twhile (j<gl) {\r\n\t\t\t\txmlr = gxml[j];\r\n\t\t\t\trid = getId(xmlr,br+j);\r\n\t\t\t\trid  = ts.p.idPrefix + rid;\r\n\t\t\t\taltr = rcnt === 0 ? 0 : rcnt+1;\r\n\t\t\t\tcn1 = (altr+j)%2 === 1 ? cn : '';\r\n\t\t\t\tvar iStartTrTag = rowData.length;\r\n\t\t\t\trowData.push(\"\");\r\n\t\t\t\tif( ni ) {\r\n\t\t\t\t\trowData.push( addRowNum(0,j,ts.p.page,ts.p.rowNum) );\r\n\t\t\t\t}\r\n\t\t\t\tif( gi ) {\r\n\t\t\t\t\trowData.push( addMulti(rid,ni,j, false) );\r\n\t\t\t\t}\r\n\t\t\t\tif( si ) {\r\n\t\t\t\t\trowData.push( addSubGridCell.call(self,gi+ni,j+rcnt) );\r\n\t\t\t\t}\r\n\t\t\t\tif(xmlRd.repeatitems){\r\n\t\t\t\t\tif (!F) { F=orderedCols(gi+si+ni); }\r\n\t\t\t\t\tvar cells = $.jgrid.getXmlData( xmlr, xmlRd.cell, true);\r\n\t\t\t\t\t$.each(F, function (k) {\r\n\t\t\t\t\t\tvar cell = cells[this];\r\n\t\t\t\t\t\tif (!cell) { return false; }\r\n\t\t\t\t\t\tv = cell.textContent || cell.text;\r\n\t\t\t\t\t\trd[ts.p.colModel[k+gi+si+ni].name] = v;\r\n\t\t\t\t\t\trowData.push( addCell(rid,v,k+gi+si+ni,j+rcnt,xmlr, rd) );\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor(i = 0; i < f.length;i++) {\r\n\t\t\t\t\t\tv = $.jgrid.getXmlData( xmlr, f[i]);\r\n\t\t\t\t\t\trd[ts.p.colModel[i+gi+si+ni].name] = v;\r\n\t\t\t\t\t\trowData.push( addCell(rid, v, i+gi+si+ni, j+rcnt, xmlr, rd) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\trowData[iStartTrTag] = constructTr(rid, hiderow, cn1, rd, xmlr, false);\r\n\t\t\t\trowData.push(\"</tr>\");\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tgrpdata.push( rowData );\r\n\t\t\t\t\tif(!ts.p.groupingView._locgr) {\r\n\t\t\t\t\t\tgroupingPrepare.call(self, rd, j );\r\n\t\t\t\t\t}\r\n\t\t\t\t\trowData = [];\r\n\t\t\t\t}\r\n\t\t\t\tif(locdata || ts.p.treeGrid === true) {\r\n\t\t\t\t\trd[xmlid] = $.jgrid.stripPref(ts.p.idPrefix, rid);\r\n\t\t\t\t\tts.p.data.push(rd);\r\n\t\t\t\t\tts.p._index[rd[xmlid]] = ts.p.data.length-1;\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.gridview === false ) {\r\n\t\t\t\t\t$(\"tbody:first\",t).append(rowData.join(''));\r\n\t\t\t\t\tself.triggerHandler(\"jqGridAfterInsertRow\", [rid, rd, xmlr]);\r\n\t\t\t\t\tif(afterInsRow) {ts.p.afterInsertRow.call(ts,rid,rd,xmlr);}\r\n\t\t\t\t\trowData=[];\r\n\t\t\t\t}\r\n\t\t\t\trd={};\r\n\t\t\t\tir++;\r\n\t\t\t\tj++;\r\n\t\t\t\tif(ir===rn) {break;}\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.gridview === true) {\r\n\t\t\t\tfpos = ts.p.treeANode > -1 ? ts.p.treeANode: 0;\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tif(!locdata) {\r\n\t\t\t\t\t\tself.jqGrid('groupingRender',grpdata,ts.p.colModel.length, ts.p.page, rn);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrpdata = null;\r\n\t\t\t\t} else if(ts.p.treeGrid === true && fpos > 0) {\r\n\t\t\t\t\t$(ts.rows[fpos]).after(rowData.join(''));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"tbody:first\",t).append(rowData.join(''));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.subGrid === true ) {\r\n\t\t\t\ttry {self.jqGrid(\"addSubGrid\",gi+ni);} catch (_){}\r\n\t\t\t}\r\n\t\t\tts.p.totaltime = new Date() - startReq;\r\n\t\t\tif(ir>0) { if(ts.p.records===0) { ts.p.records=gl;} }\r\n\t\t\trowData =null;\r\n\t\t\tif( ts.p.treeGrid === true) {\r\n\t\t\t\ttry {self.jqGrid(\"setTreeNode\", fpos+1, ir+fpos+1);} catch (e) {}\r\n\t\t\t}\r\n\t\t\tif(!ts.p.treeGrid && !ts.p.scroll) {ts.grid.bDiv.scrollTop = 0;}\r\n\t\t\tts.p.reccount=ir;\r\n\t\t\tts.p.treeANode = -1;\r\n\t\t\tif(ts.p.userDataOnFooter) { self.jqGrid(\"footerData\",\"set\",ts.p.userData,true); }\r\n\t\t\tif(locdata) {\r\n\t\t\t\tts.p.records = gl;\r\n\t\t\t\tts.p.lastpage = Math.ceil(gl/ rn);\r\n\t\t\t}\r\n\t\t\tif (!more) { ts.updatepager(false,true); }\r\n\t\t\tif(locdata) {\r\n\t\t\t\twhile (ir<gl) {\r\n\t\t\t\t\txmlr = gxml[ir];\r\n\t\t\t\t\trid = getId(xmlr,ir+br);\r\n\t\t\t\t\trid  = ts.p.idPrefix + rid;\r\n\t\t\t\t\tif(xmlRd.repeatitems){\r\n\t\t\t\t\t\tif (!F) { F=orderedCols(gi+si+ni); }\r\n\t\t\t\t\t\tvar cells2 = $.jgrid.getXmlData( xmlr, xmlRd.cell, true);\r\n\t\t\t\t\t\t$.each(F, function (k) {\r\n\t\t\t\t\t\t\tvar cell = cells2[this];\r\n\t\t\t\t\t\t\tif (!cell) { return false; }\r\n\t\t\t\t\t\t\tv = cell.textContent || cell.text;\r\n\t\t\t\t\t\t\trd[ts.p.colModel[k+gi+si+ni].name] = v;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor(i = 0; i < f.length;i++) {\r\n\t\t\t\t\t\t\tv = $.jgrid.getXmlData( xmlr, f[i]);\r\n\t\t\t\t\t\t\trd[ts.p.colModel[i+gi+si+ni].name] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\trd[xmlid] = $.jgrid.stripPref(ts.p.idPrefix, rid);\r\n\t\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\t\tgroupingPrepare.call(self, rd, ir );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tts.p.data.push(rd);\r\n\t\t\t\t\tts.p._index[rd[xmlid]] = ts.p.data.length-1;\r\n\t\t\t\t\trd = {};\r\n\t\t\t\t\tir++;\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tts.p.groupingView._locgr = true;\r\n\t\t\t\t\tself.jqGrid('groupingRender', grpdata, ts.p.colModel.length, ts.p.page, rn);\r\n\t\t\t\t\tgrpdata = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\taddJSONData = function(data,t, rcnt, more, adjust) {\r\n\t\t\tvar startReq = new Date();\r\n\t\t\tif(data) {\r\n\t\t\t\tif(ts.p.treeANode === -1 && !ts.p.scroll) {\r\n\t\t\t\t\temptyRows.call(ts, false, true);\r\n\t\t\t\t\trcnt=1;\r\n\t\t\t\t} else { rcnt = rcnt > 1 ? rcnt :1; }\r\n\t\t\t} else { return; }\r\n\r\n\t\t\tvar dReader, locid = \"_id_\", frd,\r\n\t\t\tlocdata = (ts.p.datatype !== \"local\" && ts.p.loadonce) || ts.p.datatype === \"jsonstring\";\r\n\t\t\tif(locdata) { ts.p.data = []; ts.p._index = {}; ts.p.localReader.id = locid;}\r\n\t\t\tts.p.reccount = 0;\r\n\t\t\tif(ts.p.datatype === \"local\") {\r\n\t\t\t\tdReader =  ts.p.localReader;\r\n\t\t\t\tfrd= 'local';\r\n\t\t\t} else {\r\n\t\t\t\tdReader =  ts.p.jsonReader;\r\n\t\t\t\tfrd='json';\r\n\t\t\t}\r\n\t\t\tvar self = $(ts), ir=0,v,i,j,f=[],cur,gi=ts.p.multiselect?1:0,si=ts.p.subGrid===true?1:0,addSubGridCell,ni=ts.p.rownumbers===true?1:0,arrayReader=orderedCols(gi+si+ni),objectReader=reader(frd),rowReader,len,drows,idn,rd={}, fpos, idr,rowData=[],cn=(ts.p.altRows === true) ? ts.p.altclass:\"\",cn1;\r\n\t\t\tts.p.page = intNum($.jgrid.getAccessor(data,dReader.page), ts.p.page);\r\n\t\t\tts.p.lastpage = intNum($.jgrid.getAccessor(data,dReader.total), 1);\r\n\t\t\tts.p.records = intNum($.jgrid.getAccessor(data,dReader.records));\r\n\t\t\tts.p.userData = $.jgrid.getAccessor(data,dReader.userdata) || {};\r\n\t\t\tif(si) {\r\n\t\t\t\taddSubGridCell = $.jgrid.getMethod(\"addSubGridCell\");\r\n\t\t\t}\r\n\t\t\tif( ts.p.keyIndex===false ) {\r\n\t\t\t\tidn = $.isFunction(dReader.id) ? dReader.id.call(ts, data) : dReader.id;\r\n\t\t\t} else {\r\n\t\t\t\tidn = ts.p.keyIndex;\r\n\t\t\t}\r\n\t\t\tif(!dReader.repeatitems) {\r\n\t\t\t\tf = objectReader;\r\n\t\t\t\tif(f.length>0 && !isNaN(idn)) {\r\n\t\t\t\t\tidn=ts.p.keyName;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdrows = $.jgrid.getAccessor(data,dReader.root);\r\n\t\t\tif (drows == null && $.isArray(data)) { drows = data; }\r\n\t\t\tif (!drows) { drows = []; }\r\n\t\t\tlen = drows.length; i=0;\r\n\t\t\tif (len > 0 && ts.p.page <= 0) { ts.p.page = 1; }\r\n\t\t\tvar rn = parseInt(ts.p.rowNum,10),br=ts.p.scroll?$.jgrid.randId():1, altr, selected=false, selr;\r\n\t\t\tif (adjust) { rn *= adjust+1; }\r\n\t\t\tif(ts.p.datatype === \"local\" && !ts.p.deselectAfterSort) {\r\n\t\t\t\tselected = true;\r\n\t\t\t}\r\n\t\t\tvar afterInsRow = $.isFunction(ts.p.afterInsertRow), grpdata=[],hiderow=false, groupingPrepare;\r\n\t\t\tif(ts.p.grouping)  {\r\n\t\t\t\thiderow = ts.p.groupingView.groupCollapse === true;\r\n\t\t\t\tgroupingPrepare = $.jgrid.getMethod(\"groupingPrepare\");\r\n\t\t\t}\r\n\t\t\twhile (i<len) {\r\n\t\t\t\tcur = drows[i];\r\n\t\t\t\tidr = $.jgrid.getAccessor(cur,idn);\r\n\t\t\t\tif(idr === undefined) {\r\n\t\t\t\t\tif (typeof idn === \"number\" && ts.p.colModel[idn+gi+si+ni] != null) {\r\n\t\t\t\t\t\t// reread id by name\r\n\t\t\t\t\t\tidr = $.jgrid.getAccessor(cur,ts.p.colModel[idn+gi+si+ni].name);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(idr === undefined) {\r\n\t\t\t\t\t\tidr = br+i;\r\n\t\t\t\t\t\tif(f.length===0){\r\n\t\t\t\t\t\t\tif(dReader.cell){\r\n\t\t\t\t\t\t\t\tvar ccur = $.jgrid.getAccessor(cur,dReader.cell) || cur;\r\n\t\t\t\t\t\t\t\tidr = ccur != null && ccur[idn] !== undefined ? ccur[idn] : idr;\r\n\t\t\t\t\t\t\t\tccur=null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tidr  = ts.p.idPrefix + idr;\r\n\t\t\t\taltr = rcnt === 1 ? 0 : rcnt;\r\n\t\t\t\tcn1 = (altr+i)%2 === 1 ? cn : '';\r\n\t\t\t\tif( selected) {\r\n\t\t\t\t\tif( ts.p.multiselect) {\r\n\t\t\t\t\t\tselr = ($.inArray(idr, ts.p.selarrrow) !== -1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselr = (idr === ts.p.selrow);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar iStartTrTag = rowData.length;\r\n\t\t\t\trowData.push(\"\");\r\n\t\t\t\tif( ni ) {\r\n\t\t\t\t\trowData.push( addRowNum(0,i,ts.p.page,ts.p.rowNum) );\r\n\t\t\t\t}\r\n\t\t\t\tif( gi ){\r\n\t\t\t\t\trowData.push( addMulti(idr,ni,i,selr) );\r\n\t\t\t\t}\r\n\t\t\t\tif( si ) {\r\n\t\t\t\t\trowData.push( addSubGridCell.call(self,gi+ni,i+rcnt) );\r\n\t\t\t\t}\r\n\t\t\t\trowReader=objectReader;\r\n\t\t\t\tif (dReader.repeatitems) {\r\n\t\t\t\t\tif(dReader.cell) {cur = $.jgrid.getAccessor(cur,dReader.cell) || cur;}\r\n\t\t\t\t\tif ($.isArray(cur)) { rowReader=arrayReader; }\r\n\t\t\t\t}\r\n\t\t\t\tfor (j=0;j<rowReader.length;j++) {\r\n\t\t\t\t\tv = $.jgrid.getAccessor(cur,rowReader[j]);\r\n\t\t\t\t\trd[ts.p.colModel[j+gi+si+ni].name] = v;\r\n\t\t\t\t\trowData.push( addCell(idr,v,j+gi+si+ni,i+rcnt,cur, rd) );\r\n\t\t\t\t}\r\n\t\t\t\trowData[iStartTrTag] = constructTr(idr, hiderow, cn1, rd, cur, selr);\r\n\t\t\t\trowData.push( \"</tr>\" );\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tgrpdata.push( rowData );\r\n\t\t\t\t\tif(!ts.p.groupingView._locgr) {\r\n\t\t\t\t\t\tgroupingPrepare.call(self, rd, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\trowData = [];\r\n\t\t\t\t}\r\n\t\t\t\tif(locdata || ts.p.treeGrid===true) {\r\n\t\t\t\t\trd[locid] = $.jgrid.stripPref(ts.p.idPrefix, idr);\r\n\t\t\t\t\tts.p.data.push(rd);\r\n\t\t\t\t\tts.p._index[rd[locid]] = ts.p.data.length-1;\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.gridview === false ) {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID(ts.p.id)+\" tbody:first\").append(rowData.join(''));\r\n\t\t\t\t\tself.triggerHandler(\"jqGridAfterInsertRow\", [idr, rd, cur]);\r\n\t\t\t\t\tif(afterInsRow) {ts.p.afterInsertRow.call(ts,idr,rd,cur);}\r\n\t\t\t\t\trowData=[];//ari=0;\r\n\t\t\t\t}\r\n\t\t\t\trd={};\r\n\t\t\t\tir++;\r\n\t\t\t\ti++;\r\n\t\t\t\tif(ir===rn) { break; }\r\n\t\t\t}\r\n\t\t\tif(ts.p.gridview === true ) {\r\n\t\t\t\tfpos = ts.p.treeANode > -1 ? ts.p.treeANode: 0;\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tif(!locdata) {\r\n\t\t\t\t\t\tself.jqGrid('groupingRender', grpdata, ts.p.colModel.length, ts.p.page, rn);\r\n\t\t\t\t\t\tgrpdata = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(ts.p.treeGrid === true && fpos > 0) {\r\n\t\t\t\t\t$(ts.rows[fpos]).after(rowData.join(''));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID(ts.p.id)+\" tbody:first\").append(rowData.join(''));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.subGrid === true ) {\r\n\t\t\t\ttry { self.jqGrid(\"addSubGrid\",gi+ni);} catch (_){}\r\n\t\t\t}\r\n\t\t\tts.p.totaltime = new Date() - startReq;\r\n\t\t\tif(ir>0) {\r\n\t\t\t\tif(ts.p.records===0) { ts.p.records=len; }\r\n\t\t\t}\r\n\t\t\trowData = null;\r\n\t\t\tif( ts.p.treeGrid === true) {\r\n\t\t\t\ttry {self.jqGrid(\"setTreeNode\", fpos+1, ir+fpos+1);} catch (e) {}\r\n\t\t\t}\r\n\t\t\tif(!ts.p.treeGrid && !ts.p.scroll) {ts.grid.bDiv.scrollTop = 0;}\r\n\t\t\tts.p.reccount=ir;\r\n\t\t\tts.p.treeANode = -1;\r\n\t\t\tif(ts.p.userDataOnFooter) { self.jqGrid(\"footerData\",\"set\",ts.p.userData,true); }\r\n\t\t\tif(locdata) {\r\n\t\t\t\tts.p.records = len;\r\n\t\t\t\tts.p.lastpage = Math.ceil(len/ rn);\r\n\t\t\t}\r\n\t\t\tif (!more) { ts.updatepager(false,true); }\r\n\t\t\tif(locdata) {\r\n\t\t\t\twhile (ir<len && drows[ir]) {\r\n\t\t\t\t\tcur = drows[ir];\r\n\t\t\t\t\tidr = $.jgrid.getAccessor(cur,idn);\r\n\t\t\t\t\tif(idr === undefined) {\r\n\t\t\t\t\t\tif (typeof idn === \"number\" && ts.p.colModel[idn+gi+si+ni] != null) {\r\n\t\t\t\t\t\t\t// reread id by name\r\n\t\t\t\t\t\t\tidr = $.jgrid.getAccessor(cur,ts.p.colModel[idn+gi+si+ni].name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(idr === undefined) {\r\n\t\t\t\t\t\t\tidr = br+ir;\r\n\t\t\t\t\t\t\tif(f.length===0){\r\n\t\t\t\t\t\t\t\tif(dReader.cell){\r\n\t\t\t\t\t\t\t\t\tvar ccur2 = $.jgrid.getAccessor(cur,dReader.cell) || cur;\r\n\t\t\t\t\t\t\t\t\tidr = ccur2 != null && ccur2[idn] !== undefined ? ccur2[idn] : idr;\r\n\t\t\t\t\t\t\t\t\tccur2=null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(cur) {\r\n\t\t\t\t\t\tidr  = ts.p.idPrefix + idr;\r\n\t\t\t\t\t\trowReader=objectReader;\r\n\t\t\t\t\t\tif (dReader.repeatitems) {\r\n\t\t\t\t\t\t\tif(dReader.cell) {cur = $.jgrid.getAccessor(cur,dReader.cell) || cur;}\r\n\t\t\t\t\t\t\tif ($.isArray(cur)) { rowReader=arrayReader; }\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfor (j=0;j<rowReader.length;j++) {\r\n\t\t\t\t\t\t\trd[ts.p.colModel[j+gi+si+ni].name] = $.jgrid.getAccessor(cur,rowReader[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trd[locid] = $.jgrid.stripPref(ts.p.idPrefix, idr);\r\n\t\t\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\t\t\tgroupingPrepare.call(self, rd, ir );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tts.p.data.push(rd);\r\n\t\t\t\t\t\tts.p._index[rd[locid]] = ts.p.data.length-1;\r\n\t\t\t\t\t\trd = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tir++;\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\tts.p.groupingView._locgr = true;\r\n\t\t\t\t\tself.jqGrid('groupingRender', grpdata, ts.p.colModel.length, ts.p.page, rn);\r\n\t\t\t\t\tgrpdata = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\taddLocalData = function() {\r\n\t\t\tvar st = ts.p.multiSort ? [] : \"\", sto=[], fndsort=false, cmtypes={}, grtypes=[], grindexes=[], srcformat, sorttype, newformat;\r\n\t\t\tif(!$.isArray(ts.p.data)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar grpview = ts.p.grouping ? ts.p.groupingView : false, lengrp, gin;\r\n\t\t\t$.each(ts.p.colModel,function(){\r\n\t\t\t\tsorttype = this.sorttype || \"text\";\r\n\t\t\t\tif(sorttype === \"date\" || sorttype === \"datetime\") {\r\n\t\t\t\t\tif(this.formatter && typeof this.formatter === 'string' && this.formatter === 'date') {\r\n\t\t\t\t\t\tif(this.formatoptions && this.formatoptions.srcformat) {\r\n\t\t\t\t\t\t\tsrcformat = this.formatoptions.srcformat;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsrcformat = $.jgrid.formatter.date.srcformat;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.formatoptions && this.formatoptions.newformat) {\r\n\t\t\t\t\t\t\tnewformat = this.formatoptions.newformat;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewformat = $.jgrid.formatter.date.newformat;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsrcformat = newformat = this.datefmt || \"Y-m-d\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcmtypes[this.name] = {\"stype\": sorttype, \"srcfmt\": srcformat,\"newfmt\":newformat, \"sfunc\": this.sortfunc || null};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcmtypes[this.name] = {\"stype\": sorttype, \"srcfmt\":'',\"newfmt\":'', \"sfunc\": this.sortfunc || null};\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.grouping ) {\r\n\t\t\t\t\tfor(gin =0, lengrp = grpview.groupField.length; gin< lengrp; gin++) {\r\n\t\t\t\t\t\tif( this.name === grpview.groupField[gin]) {\r\n\t\t\t\t\t\t\tvar grindex = this.name;\r\n\t\t\t\t\t\t\tif (this.index) {\r\n\t\t\t\t\t\t\t\tgrindex = this.index;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgrtypes[gin] = cmtypes[grindex];\r\n\t\t\t\t\t\t\tgrindexes[gin]= grindex;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.multiSort) {\r\n\t\t\t\t\tif(this.lso) {\r\n\t\t\t\t\t\tst.push(this.name);\r\n\t\t\t\t\t\tvar tmplso= this.lso.split(\"-\");\r\n\t\t\t\t\t\tsto.push( tmplso[tmplso.length-1] );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(!fndsort && (this.index === ts.p.sortname || this.name === ts.p.sortname)){\r\n\t\t\t\t\t\tst = this.name; // ???\r\n\t\t\t\t\t\tfndsort = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(ts.p.treeGrid) {\r\n\t\t\t\t$(ts).jqGrid(\"SortTree\", st, ts.p.sortorder, cmtypes[st].stype || 'text', cmtypes[st].srcfmt || '');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar compareFnMap = {\r\n\t\t\t\t'eq':function(queryObj) {return queryObj.equals;},\r\n\t\t\t\t'ne':function(queryObj) {return queryObj.notEquals;},\r\n\t\t\t\t'lt':function(queryObj) {return queryObj.less;},\r\n\t\t\t\t'le':function(queryObj) {return queryObj.lessOrEquals;},\r\n\t\t\t\t'gt':function(queryObj) {return queryObj.greater;},\r\n\t\t\t\t'ge':function(queryObj) {return queryObj.greaterOrEquals;},\r\n\t\t\t\t'cn':function(queryObj) {return queryObj.contains;},\r\n\t\t\t\t'nc':function(queryObj,op) {return op === \"OR\" ? queryObj.orNot().contains : queryObj.andNot().contains;},\r\n\t\t\t\t'bw':function(queryObj) {return queryObj.startsWith;},\r\n\t\t\t\t'bn':function(queryObj,op) {return op === \"OR\" ? queryObj.orNot().startsWith : queryObj.andNot().startsWith;},\r\n\t\t\t\t'en':function(queryObj,op) {return op === \"OR\" ? queryObj.orNot().endsWith : queryObj.andNot().endsWith;},\r\n\t\t\t\t'ew':function(queryObj) {return queryObj.endsWith;},\r\n\t\t\t\t'ni':function(queryObj,op) {return op === \"OR\" ? queryObj.orNot().equals : queryObj.andNot().equals;},\r\n\t\t\t\t'in':function(queryObj) {return queryObj.equals;},\r\n\t\t\t\t'nu':function(queryObj) {return queryObj.isNull;},\r\n\t\t\t\t'nn':function(queryObj,op) {return op === \"OR\" ? queryObj.orNot().isNull : queryObj.andNot().isNull;}\r\n\r\n\t\t\t},\r\n\t\t\tquery = $.jgrid.from(ts.p.data);\r\n\t\t\tif (ts.p.ignoreCase) { query = query.ignoreCase(); }\r\n\t\t\tfunction tojLinq ( group ) {\r\n\t\t\t\tvar s = 0, index, gor, ror, opr, rule;\r\n\t\t\t\tif (group.groups != null) {\r\n\t\t\t\t\tgor = group.groups.length && group.groupOp.toString().toUpperCase() === \"OR\";\r\n\t\t\t\t\tif (gor) {\r\n\t\t\t\t\t\tquery.orBegin();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\r\n\t\t\t\t\t\tif (s > 0 && gor) {\r\n\t\t\t\t\t\t\tquery.or();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\ttojLinq(group.groups[index]);\r\n\t\t\t\t\t\t} catch (e) {alert(e);}\r\n\t\t\t\t\t\ts++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (gor) {\r\n\t\t\t\t\t\tquery.orEnd();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (group.rules != null) {\r\n\t\t\t\t\t//if(s>0) {\r\n\t\t\t\t\t//\tvar result = query.select();\r\n\t\t\t\t\t//\tquery = $.jgrid.from( result);\r\n\t\t\t\t\t//\tif (ts.p.ignoreCase) { query = query.ignoreCase(); }\r\n\t\t\t\t\t//}\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tror = group.rules.length && group.groupOp.toString().toUpperCase() === \"OR\";\r\n\t\t\t\t\t\tif (ror) {\r\n\t\t\t\t\t\t\tquery.orBegin();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\r\n\t\t\t\t\t\t\trule = group.rules[index];\r\n\t\t\t\t\t\t\topr = group.groupOp.toString().toUpperCase();\r\n\t\t\t\t\t\t\tif (compareFnMap[rule.op] && rule.field ) {\r\n\t\t\t\t\t\t\t\tif(s > 0 && opr && opr === \"OR\") {\r\n\t\t\t\t\t\t\t\t\tquery = query.or();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tquery = compareFnMap[rule.op](query, opr)(rule.field, rule.data, cmtypes[rule.field]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ts++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (ror) {\r\n\t\t\t\t\t\t\tquery.orEnd();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (g) {alert(g);}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (ts.p.search === true) {\r\n\t\t\t\tvar srules = ts.p.postData.filters;\r\n\t\t\t\tif(srules) {\r\n\t\t\t\t\tif(typeof srules === \"string\") { srules = $.jgrid.parse(srules);}\r\n\t\t\t\t\ttojLinq( srules );\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tquery = compareFnMap[ts.p.postData.searchOper](query)(ts.p.postData.searchField, ts.p.postData.searchString,cmtypes[ts.p.postData.searchField]);\r\n\t\t\t\t\t} catch (se){}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.grouping) {\r\n\t\t\t\tfor(gin=0; gin<lengrp;gin++) {\r\n\t\t\t\t\tquery.orderBy(grindexes[gin],grpview.groupOrder[gin],grtypes[gin].stype, grtypes[gin].srcfmt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.multiSort) {\r\n\t\t\t\t$.each(st,function(i){\r\n\t\t\t\t\tquery.orderBy(this, sto[i], cmtypes[this].stype, cmtypes[this].srcfmt, cmtypes[this].sfunc);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (st && ts.p.sortorder && fndsort) {\r\n\t\t\t\t\tif(ts.p.sortorder.toUpperCase() === \"DESC\") {\r\n\t\t\t\t\t\tquery.orderBy(ts.p.sortname, \"d\", cmtypes[st].stype, cmtypes[st].srcfmt, cmtypes[st].sfunc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tquery.orderBy(ts.p.sortname, \"a\", cmtypes[st].stype, cmtypes[st].srcfmt, cmtypes[st].sfunc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar queryResults = query.select(),\r\n\t\t\trecordsperpage = parseInt(ts.p.rowNum,10),\r\n\t\t\ttotal = queryResults.length,\r\n\t\t\tpage = parseInt(ts.p.page,10),\r\n\t\t\ttotalpages = Math.ceil(total / recordsperpage),\r\n\t\t\tretresult = {};\r\n\t\t\tif((ts.p.search || ts.p.resetsearch) && ts.p.grouping && ts.p.groupingView._locgr) {\r\n\t\t\t\tts.p.groupingView.groups =[];\r\n\t\t\t\tvar j, grPrepare = $.jgrid.getMethod(\"groupingPrepare\"), key, udc;\r\n\t\t\t\tif(ts.p.footerrow && ts.p.userDataOnFooter) {\r\n\t\t\t\t\tfor (key in ts.p.userData) {\r\n\t\t\t\t\t\tif(ts.p.userData.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\tts.p.userData[key] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tudc = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor(j=0; j<total; j++) {\r\n\t\t\t\t\tif(udc) {\r\n\t\t\t\t\t\tfor(key in ts.p.userData){\r\n\t\t\t\t\t\t\tts.p.userData[key] += parseFloat(queryResults[j][key] || 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrPrepare.call($(ts),queryResults[j],j, recordsperpage );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tqueryResults = queryResults.slice( (page-1)*recordsperpage , page*recordsperpage );\r\n\t\t\tquery = null;\r\n\t\t\tcmtypes = null;\r\n\t\t\tretresult[ts.p.localReader.total] = totalpages;\r\n\t\t\tretresult[ts.p.localReader.page] = page;\r\n\t\t\tretresult[ts.p.localReader.records] = total;\r\n\t\t\tretresult[ts.p.localReader.root] = queryResults;\r\n\t\t\tretresult[ts.p.localReader.userdata] = ts.p.userData;\r\n\t\t\tqueryResults = null;\r\n\t\t\treturn  retresult;\r\n\t\t},\r\n\t\tupdatepager = function(rn, dnd) {\r\n\t\t\tvar cp, last, base, from,to,tot,fmt, pgboxes = \"\", sppg,\r\n\t\t\ttspg = ts.p.pager ? \"_\"+$.jgrid.jqID(ts.p.pager.substr(1)) : \"\",\r\n\t\t\ttspg_t = ts.p.toppager ? \"_\"+ts.p.toppager.substr(1) : \"\";\r\n\t\t\tbase = parseInt(ts.p.page,10)-1;\r\n\t\t\tif(base < 0) { base = 0; }\r\n\t\t\tbase = base*parseInt(ts.p.rowNum,10);\r\n\t\t\tto = base + ts.p.reccount;\r\n\t\t\tif (ts.p.scroll) {\r\n\t\t\t\tvar rows = $(\"tbody:first > tr:gt(0)\", ts.grid.bDiv);\r\n\t\t\t\tbase = to - rows.length;\r\n\t\t\t\tts.p.reccount = rows.length;\r\n\t\t\t\tvar rh = rows.outerHeight() || ts.grid.prevRowHeight;\r\n\t\t\t\tif (rh) {\r\n\t\t\t\t\tvar top = base * rh;\r\n\t\t\t\t\tvar height = parseInt(ts.p.records,10) * rh;\r\n\t\t\t\t\t$(\">div:first\",ts.grid.bDiv).css({height : height}).children(\"div:first\").css({height:top,display:top?\"\":\"none\"});\r\n\t\t\t\t\tif (ts.grid.bDiv.scrollTop == 0 && ts.p.page > 1) {\r\n\t\t\t\t\t\tts.grid.bDiv.scrollTop = ts.p.rowNum * (ts.p.page - 1) * rh;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tts.grid.bDiv.scrollLeft = ts.grid.hDiv.scrollLeft;\r\n\t\t\t}\r\n\t\t\tpgboxes = ts.p.pager || \"\";\r\n\t\t\tpgboxes += ts.p.toppager ?  (pgboxes ? \",\" + ts.p.toppager : ts.p.toppager) : \"\";\r\n\t\t\tif(pgboxes) {\r\n\t\t\t\tfmt = $.jgrid.formatter.integer || {};\r\n\t\t\t\tcp = intNum(ts.p.page);\r\n\t\t\t\tlast = intNum(ts.p.lastpage);\r\n\t\t\t\t$(\".selbox\",pgboxes)[ this.p.useProp ? 'prop' : 'attr' ](\"disabled\",false);\r\n\t\t\t\tif(ts.p.pginput===true) {\r\n\t\t\t\t\t$('.ui-pg-input',pgboxes).val(ts.p.page);\r\n\t\t\t\t\tsppg = ts.p.toppager ? '#sp_1'+tspg+\",#sp_1\"+tspg_t : '#sp_1'+tspg;\r\n\t\t\t\t\t$(sppg).html($.fmatter ? $.fmatter.util.NumberFormat(ts.p.lastpage,fmt):ts.p.lastpage);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (ts.p.viewrecords){\r\n\t\t\t\t\tif(ts.p.reccount === 0) {\r\n\t\t\t\t\t\t$(\".ui-paging-info\",pgboxes).html(ts.p.emptyrecords);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfrom = base+1;\r\n\t\t\t\t\t\ttot=ts.p.records;\r\n\t\t\t\t\t\tif($.fmatter) {\r\n\t\t\t\t\t\t\tfrom = $.fmatter.util.NumberFormat(from,fmt);\r\n\t\t\t\t\t\t\tto = $.fmatter.util.NumberFormat(to,fmt);\r\n\t\t\t\t\t\t\ttot = $.fmatter.util.NumberFormat(tot,fmt);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".ui-paging-info\",pgboxes).html($.jgrid.format(ts.p.recordtext,from,to,tot));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.pgbuttons===true) {\r\n\t\t\t\t\tif(cp<=0) {cp = last = 0;}\r\n\t\t\t\t\tif(cp===1 || cp === 0) {\r\n\t\t\t\t\t\t$(\"#first\"+tspg+\", #prev\"+tspg).addClass('ui-state-disabled').removeClass('ui-state-hover');\r\n\t\t\t\t\t\tif(ts.p.toppager) { $(\"#first_t\"+tspg_t+\", #prev_t\"+tspg_t).addClass('ui-state-disabled').removeClass('ui-state-hover'); }\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"#first\"+tspg+\", #prev\"+tspg).removeClass('ui-state-disabled');\r\n\t\t\t\t\t\tif(ts.p.toppager) { $(\"#first_t\"+tspg_t+\", #prev_t\"+tspg_t).removeClass('ui-state-disabled'); }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(cp===last || cp === 0) {\r\n\t\t\t\t\t\t$(\"#next\"+tspg+\", #last\"+tspg).addClass('ui-state-disabled').removeClass('ui-state-hover');\r\n\t\t\t\t\t\tif(ts.p.toppager) { $(\"#next_t\"+tspg_t+\", #last_t\"+tspg_t).addClass('ui-state-disabled').removeClass('ui-state-hover'); }\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"#next\"+tspg+\", #last\"+tspg).removeClass('ui-state-disabled');\r\n\t\t\t\t\t\tif(ts.p.toppager) { $(\"#next_t\"+tspg_t+\", #last_t\"+tspg_t).removeClass('ui-state-disabled'); }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(rn===true && ts.p.rownumbers === true) {\r\n\t\t\t\t$(\">td.jqgrid-rownum\",ts.rows).each(function(i){\r\n\t\t\t\t\t$(this).html(base+1+i);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(dnd && ts.p.jqgdnd) { $(ts).jqGrid('gridDnD','updateDnD');}\r\n\t\t\t$(ts).triggerHandler(\"jqGridGridComplete\");\r\n\t\t\tif($.isFunction(ts.p.gridComplete)) {ts.p.gridComplete.call(ts);}\r\n\t\t\t$(ts).triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t},\r\n\t\tbeginReq = function() {\r\n\t\t\tts.grid.hDiv.loading = true;\r\n\t\t\tif(ts.p.hiddengrid) { return;}\r\n\t\t\tswitch(ts.p.loadui) {\r\n\t\t\t\tcase \"disable\":\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"enable\":\r\n\t\t\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).show();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"block\":\r\n\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID(ts.p.id)).show();\r\n\t\t\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).show();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tendReq = function() {\r\n\t\t\tts.grid.hDiv.loading = false;\r\n\t\t\tswitch(ts.p.loadui) {\r\n\t\t\t\tcase \"disable\":\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"enable\":\r\n\t\t\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).hide();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"block\":\r\n\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID(ts.p.id)).hide();\r\n\t\t\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).hide();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tpopulate = function (npage) {\r\n\t\t\tif(!ts.grid.hDiv.loading) {\r\n\t\t\t\tvar pvis = ts.p.scroll && npage === false,\r\n\t\t\t\tprm = {}, dt, dstr, pN=ts.p.prmNames;\r\n\t\t\t\tif(ts.p.page <=0) { ts.p.page = Math.min(1,ts.p.lastpage); }\r\n\t\t\t\tif(pN.search !== null) {prm[pN.search] = ts.p.search;} if(pN.nd !== null) {prm[pN.nd] = new Date().getTime();}\r\n\t\t\t\tif(pN.rows !== null) {prm[pN.rows]= ts.p.rowNum;} if(pN.page !== null) {prm[pN.page]= ts.p.page;}\r\n\t\t\t\tif(pN.sort !== null) {prm[pN.sort]= ts.p.sortname;} if(pN.order !== null) {prm[pN.order]= ts.p.sortorder;}\r\n\t\t\t\tif(ts.p.rowTotal !== null && pN.totalrows !== null) { prm[pN.totalrows]= ts.p.rowTotal; }\r\n\t\t\t\tvar lcf = $.isFunction(ts.p.loadComplete), lc = lcf ? ts.p.loadComplete : null;\r\n\t\t\t\tvar adjust = 0;\r\n\t\t\t\tnpage = npage || 1;\r\n\t\t\t\tif (npage > 1) {\r\n\t\t\t\t\tif(pN.npage !== null) {\r\n\t\t\t\t\t\tprm[pN.npage] = npage;\r\n\t\t\t\t\t\tadjust = npage - 1;\r\n\t\t\t\t\t\tnpage = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlc = function(req) {\r\n\t\t\t\t\t\t\tts.p.page++;\r\n\t\t\t\t\t\t\tts.grid.hDiv.loading = false;\r\n\t\t\t\t\t\t\tif (lcf) {\r\n\t\t\t\t\t\t\t\tts.p.loadComplete.call(ts,req);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpopulate(npage-1);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (pN.npage !== null) {\r\n\t\t\t\t\tdelete ts.p.postData[pN.npage];\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.grouping) {\r\n\t\t\t\t\t$(ts).jqGrid('groupingSetup');\r\n\t\t\t\t\tvar grp = ts.p.groupingView, gi, gs=\"\";\r\n\t\t\t\t\tfor(gi=0;gi<grp.groupField.length;gi++) {\r\n\t\t\t\t\t\tvar index = grp.groupField[gi];\r\n\t\t\t\t\t\t$.each(ts.p.colModel, function(cmIndex, cmValue) {\r\n\t\t\t\t\t\t\tif (cmValue.name === index && cmValue.index){\r\n\t\t\t\t\t\t\t\tindex = cmValue.index;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tgs += index +\" \"+grp.groupOrder[gi]+\", \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprm[pN.sort] = gs + prm[pN.sort];\r\n\t\t\t\t}\r\n\t\t\t\t$.extend(ts.p.postData,prm);\r\n\t\t\t\tvar rcnt = !ts.p.scroll ? 1 : ts.rows.length-1;\r\n\t\t\t\tvar bfr = $(ts).triggerHandler(\"jqGridBeforeRequest\");\r\n\t\t\t\tif (bfr === false || bfr === 'stop') { return; }\r\n\t\t\t\tif ($.isFunction(ts.p.datatype)) { ts.p.datatype.call(ts,ts.p.postData,\"load_\"+ts.p.id, rcnt, npage, adjust); return;}\r\n\t\t\t\tif ($.isFunction(ts.p.beforeRequest)) {\r\n\t\t\t\t\tbfr = ts.p.beforeRequest.call(ts);\r\n\t\t\t\t\tif(bfr === undefined) { bfr = true; }\r\n\t\t\t\t\tif ( bfr === false ) { return; }\r\n\t\t\t\t}\r\n\t\t\t\tdt = ts.p.datatype.toLowerCase();\r\n\t\t\t\tswitch(dt)\r\n\t\t\t\t{\r\n\t\t\t\tcase \"json\":\r\n\t\t\t\tcase \"jsonp\":\r\n\t\t\t\tcase \"xml\":\r\n\t\t\t\tcase \"script\":\r\n\t\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\t\turl:ts.p.url,\r\n\t\t\t\t\t\ttype:ts.p.mtype,\r\n\t\t\t\t\t\tdataType: dt ,\r\n\t\t\t\t\t\tdata: $.isFunction(ts.p.serializeGridData)? ts.p.serializeGridData.call(ts,ts.p.postData) : ts.p.postData,\r\n\t\t\t\t\t\tsuccess:function(data,st, xhr) {\r\n\t\t\t\t\t\t\tif ($.isFunction(ts.p.beforeProcessing)) {\r\n\t\t\t\t\t\t\t\tif (ts.p.beforeProcessing.call(ts, data, st, xhr) === false) {\r\n\t\t\t\t\t\t\t\t\tendReq();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(dt === \"xml\") { addXmlData(data,ts.grid.bDiv,rcnt,npage>1,adjust); }\r\n\t\t\t\t\t\t\telse { addJSONData(data,ts.grid.bDiv,rcnt,npage>1,adjust); }\r\n\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridLoadComplete\", [data]);\r\n\t\t\t\t\t\t\tif(lc) { lc.call(ts,data); }\r\n\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridAfterLoadComplete\", [data]);\r\n\t\t\t\t\t\t\tif (pvis) { ts.grid.populateVisible(); }\r\n\t\t\t\t\t\t\tif( ts.p.loadonce || ts.p.treeGrid) {ts.p.datatype = \"local\";}\r\n\t\t\t\t\t\t\tdata=null;\r\n\t\t\t\t\t\t\tif (npage === 1) { endReq(); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror:function(xhr,st,err){\r\n\t\t\t\t\t\t\tif($.isFunction(ts.p.loadError)) { ts.p.loadError.call(ts,xhr,st,err); }\r\n\t\t\t\t\t\t\tif (npage === 1) { endReq(); }\r\n\t\t\t\t\t\t\txhr=null;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbeforeSend: function(xhr, settings ){\r\n\t\t\t\t\t\t\tvar gotoreq = true;\r\n\t\t\t\t\t\t\tif($.isFunction(ts.p.loadBeforeSend)) {\r\n\t\t\t\t\t\t\t\tgotoreq = ts.p.loadBeforeSend.call(ts,xhr, settings);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(gotoreq === undefined) { gotoreq = true; }\r\n\t\t\t\t\t\t\tif(gotoreq === false) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbeginReq();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t},$.jgrid.ajaxOptions, ts.p.ajaxGridOptions));\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"xmlstring\":\r\n\t\t\t\t\tbeginReq();\r\n\t\t\t\t\tdstr = typeof ts.p.datastr !== 'string' ? ts.p.datastr : $.parseXML(ts.p.datastr);\r\n\t\t\t\t\taddXmlData(dstr,ts.grid.bDiv);\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridLoadComplete\", [dstr]);\r\n\t\t\t\t\tif(lcf) {ts.p.loadComplete.call(ts,dstr);}\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridAfterLoadComplete\", [dstr]);\r\n\t\t\t\t\tts.p.datatype = \"local\";\r\n\t\t\t\t\tts.p.datastr = null;\r\n\t\t\t\t\tendReq();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"jsonstring\":\r\n\t\t\t\t\tbeginReq();\r\n\t\t\t\t\tif(typeof ts.p.datastr === 'string') { dstr = $.jgrid.parse(ts.p.datastr); }\r\n\t\t\t\t\telse { dstr = ts.p.datastr; }\r\n\t\t\t\t\taddJSONData(dstr,ts.grid.bDiv);\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridLoadComplete\", [dstr]);\r\n\t\t\t\t\tif(lcf) {ts.p.loadComplete.call(ts,dstr);}\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridAfterLoadComplete\", [dstr]);\r\n\t\t\t\t\tts.p.datatype = \"local\";\r\n\t\t\t\t\tts.p.datastr = null;\r\n\t\t\t\t\tendReq();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"local\":\r\n\t\t\t\tcase \"clientside\":\r\n\t\t\t\t\tbeginReq();\r\n\t\t\t\t\tts.p.datatype = \"local\";\r\n\t\t\t\t\tvar req = addLocalData();\r\n\t\t\t\t\taddJSONData(req,ts.grid.bDiv,rcnt,npage>1,adjust);\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridLoadComplete\", [req]);\r\n\t\t\t\t\tif(lc) { lc.call(ts,req); }\r\n\t\t\t\t\t$(ts).triggerHandler(\"jqGridAfterLoadComplete\", [req]);\r\n\t\t\t\t\tif (pvis) { ts.grid.populateVisible(); }\r\n\t\t\t\t\tendReq();\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetHeadCheckBox = function ( checked ) {\r\n\t\t\t$('#cb_'+$.jgrid.jqID(ts.p.id),ts.grid.hDiv)[ts.p.useProp ? 'prop': 'attr'](\"checked\", checked);\r\n\t\t\tvar fid = ts.p.frozenColumns ? ts.p.id+\"_frozen\" : \"\";\r\n\t\t\tif(fid) {\r\n\t\t\t\t$('#cb_'+$.jgrid.jqID(ts.p.id),ts.grid.fhDiv)[ts.p.useProp ? 'prop': 'attr'](\"checked\", checked);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetPager = function (pgid, tp){\r\n\t\t\t// TBD - consider escaping pgid with pgid = $.jgrid.jqID(pgid);\r\n\t\t\tvar sep = \"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>\",\r\n\t\t\tpginp = \"\",\r\n\t\t\tpgl=\"<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>\",\r\n\t\t\tstr=\"\", pgcnt, lft, cent, rgt, twd, tdw, i,\r\n\t\t\tclearVals = function(onpaging){\r\n\t\t\t\tvar ret;\r\n\t\t\t\tif ($.isFunction(ts.p.onPaging) ) { ret = ts.p.onPaging.call(ts,onpaging); }\r\n\t\t\t\tif(ret==='stop') {return false;}\r\n\t\t\t\tts.p.selrow = null;\r\n\t\t\t\tif(ts.p.multiselect) {ts.p.selarrrow =[]; setHeadCheckBox( false );}\r\n\t\t\t\tts.p.savedRow = [];\r\n\t\t\t\treturn true;\r\n\t\t\t};\r\n\t\t\tpgid = pgid.substr(1);\r\n\t\t\ttp += \"_\" + pgid;\r\n\t\t\tpgcnt = \"pg_\"+pgid;\r\n\t\t\tlft = pgid+\"_left\"; cent = pgid+\"_center\"; rgt = pgid+\"_right\";\r\n\t\t\t$(\"#\"+$.jgrid.jqID(pgid) )\r\n\t\t\t.append(\"<div id='\"+pgcnt+\"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='\"+lft+\"' align='left'></td><td id='\"+cent+\"' align='center' style='white-space:pre;'></td><td id='\"+rgt+\"' align='right'></td></tr></tbody></table></div>\")\r\n\t\t\t.attr(\"dir\",\"ltr\"); //explicit setting\r\n\t\t\tif(ts.p.rowList.length >0){\r\n\t\t\t\tstr = \"<td dir='\"+dir+\"'>\";\r\n\t\t\t\tstr +=\"<select class='ui-pg-selbox' role='listbox'>\";\r\n\t\t\t\tfor(i=0;i<ts.p.rowList.length;i++){\r\n\t\t\t\t\tstr +=\"<option role=\\\"option\\\" value=\\\"\"+ts.p.rowList[i]+\"\\\"\"+((ts.p.rowNum === ts.p.rowList[i])?\" selected=\\\"selected\\\"\":\"\")+\">\"+ts.p.rowList[i]+\"</option>\";\r\n\t\t\t\t}\r\n\t\t\t\tstr +=\"</select></td>\";\r\n\t\t\t}\r\n\t\t\tif(dir===\"rtl\") { pgl += str; }\r\n\t\t\tif(ts.p.pginput===true) { pginp= \"<td dir='\"+dir+\"'>\"+$.jgrid.format(ts.p.pgtext || \"\",\"<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>\",\"<span id='sp_1_\"+$.jgrid.jqID(pgid)+\"'></span>\")+\"</td>\";}\r\n\t\t\tif(ts.p.pgbuttons===true) {\r\n\t\t\t\tvar po=[\"first\"+tp,\"prev\"+tp, \"next\"+tp,\"last\"+tp]; if(dir===\"rtl\") { po.reverse(); }\r\n\t\t\t\tpgl += \"<td id='\"+po[0]+\"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>\";\r\n\t\t\t\tpgl += \"<td id='\"+po[1]+\"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>\";\r\n\t\t\t\tpgl += pginp !== \"\" ? sep+pginp+sep:\"\";\r\n\t\t\t\tpgl += \"<td id='\"+po[2]+\"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>\";\r\n\t\t\t\tpgl += \"<td id='\"+po[3]+\"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>\";\r\n\t\t\t} else if (pginp !== \"\") { pgl += pginp; }\r\n\t\t\tif(dir===\"ltr\") { pgl += str; }\r\n\t\t\tpgl += \"</tr></tbody></table>\";\r\n\t\t\tif(ts.p.viewrecords===true) {$(\"td#\"+pgid+\"_\"+ts.p.recordpos,\"#\"+pgcnt).append(\"<div dir='\"+dir+\"' style='text-align:\"+ts.p.recordpos+\"' class='ui-paging-info'></div>\");}\r\n\t\t\t$(\"td#\"+pgid+\"_\"+ts.p.pagerpos,\"#\"+pgcnt).append(pgl);\r\n\t\t\ttdw = $(\".ui-jqgrid\").css(\"font-size\") || \"11px\";\r\n\t\t\t$(document.body).append(\"<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:\"+tdw+\";visibility:hidden;' ></div>\");\r\n\t\t\ttwd = $(pgl).clone().appendTo(\"#testpg\").width();\r\n\t\t\t$(\"#testpg\").remove();\r\n\t\t\tif(twd > 0) {\r\n\t\t\t\tif(pginp !== \"\") { twd += 50; } //should be param\r\n\t\t\t\t$(\"td#\"+pgid+\"_\"+ts.p.pagerpos,\"#\"+pgcnt).width(twd);\r\n\t\t\t}\r\n\t\t\tts.p._nvtd = [];\r\n\t\t\tts.p._nvtd[0] = twd ? Math.floor((ts.p.width - twd)/2) : Math.floor(ts.p.width/3);\r\n\t\t\tts.p._nvtd[1] = 0;\r\n\t\t\tpgl=null;\r\n\t\t\t$('.ui-pg-selbox',\"#\"+pgcnt).bind('change',function() {\r\n\t\t\t\tif(!clearVals('records')) { return false; }\r\n\t\t\t\tts.p.page = Math.round(ts.p.rowNum*(ts.p.page-1)/this.value-0.5)+1;\r\n\t\t\t\tts.p.rowNum = this.value;\r\n\t\t\t\tif(ts.p.pager) { $('.ui-pg-selbox',ts.p.pager).val(this.value); }\r\n\t\t\t\tif(ts.p.toppager) { $('.ui-pg-selbox',ts.p.toppager).val(this.value); }\r\n\t\t\t\tpopulate();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tif(ts.p.pgbuttons===true) {\r\n\t\t\t$(\".ui-pg-button\",\"#\"+pgcnt).hover(function(){\r\n\t\t\t\tif($(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\tthis.style.cursor='default';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(this).addClass('ui-state-hover');\r\n\t\t\t\t\tthis.style.cursor='pointer';\r\n\t\t\t\t}\r\n\t\t\t},function() {\r\n\t\t\t\tif(!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t$(this).removeClass('ui-state-hover');\r\n\t\t\t\t\tthis.style.cursor= \"default\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\"#first\"+$.jgrid.jqID(tp)+\", #prev\"+$.jgrid.jqID(tp)+\", #next\"+$.jgrid.jqID(tp)+\", #last\"+$.jgrid.jqID(tp)).click( function() {\r\n\t\t\t\tif ($(this).hasClass(\"ui-state-disabled\")) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar cp = intNum(ts.p.page,1),\r\n\t\t\t\tlast = intNum(ts.p.lastpage,1), selclick = false,\r\n\t\t\t\tfp=true, pp=true, np=true,lp=true;\r\n\t\t\t\tif(last ===0 || last===1) {fp=false;pp=false;np=false;lp=false; }\r\n\t\t\t\telse if( last>1 && cp >=1) {\r\n\t\t\t\t\tif( cp === 1) { fp=false; pp=false; }\r\n\t\t\t\t\t//else if( cp>1 && cp <last){ }\r\n\t\t\t\t\telse if( cp===last){ np=false;lp=false; }\r\n\t\t\t\t} else if( last>1 && cp===0 ) { np=false;lp=false; cp=last-1;}\r\n\t\t\t\tif(!clearVals(this.id)) { return false; }\r\n\t\t\t\tif( this.id === 'first'+tp && fp ) { ts.p.page=1; selclick=true;}\r\n\t\t\t\tif( this.id === 'prev'+tp && pp) { ts.p.page=(cp-1); selclick=true;}\r\n\t\t\t\tif( this.id === 'next'+tp && np) { ts.p.page=(cp+1); selclick=true;}\r\n\t\t\t\tif( this.id === 'last'+tp && lp) { ts.p.page=last; selclick=true;}\r\n\t\t\t\tif(selclick) {\r\n\t\t\t\t\tpopulate();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(ts.p.pginput===true) {\r\n\t\t\t$('input.ui-pg-input',\"#\"+pgcnt).keypress( function(e) {\r\n\t\t\t\tvar key = e.charCode || e.keyCode || 0;\r\n\t\t\t\tif(key === 13) {\r\n\t\t\t\t\tif(!clearVals('user')) { return false; }\r\n\t\t\t\t\t$(this).val( intNum( $(this).val(), 1));\r\n\t\t\t\t\tts.p.page = ($(this).val()>0) ? $(this).val():ts.p.page;\r\n\t\t\t\t\tpopulate();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmultiSort = function(iCol, obj ) {\r\n\t\t\tvar splas, sort=\"\", cm = ts.p.colModel, fs=false, ls,\r\n\t\t\t\t\tselTh = ts.p.frozenColumns ?  obj : ts.grid.headers[iCol].el, so=\"\";\r\n\t\t\t$(\"span.ui-grid-ico-sort\",selTh).addClass('ui-state-disabled');\r\n\t\t\t$(selTh).attr(\"aria-selected\",\"false\");\r\n\r\n\t\t\tif(cm[iCol].lso) {\r\n\t\t\t\tif(cm[iCol].lso===\"asc\") {\r\n\t\t\t\t\tcm[iCol].lso += \"-desc\";\r\n\t\t\t\t\tso = \"desc\";\r\n\t\t\t\t} else if(cm[iCol].lso===\"desc\") {\r\n\t\t\t\t\tcm[iCol].lso += \"-asc\";\r\n\t\t\t\t\tso = \"asc\";\r\n\t\t\t\t} else if(cm[iCol].lso===\"asc-desc\" || cm[iCol].lso===\"desc-asc\") {\r\n\t\t\t\t\tcm[iCol].lso=\"\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcm[iCol].lso = so = cm[iCol].firstsortorder || 'asc';\r\n\t\t\t}\r\n\t\t\tif( so ) {\r\n\t\t\t\t$(\"span.s-ico\",selTh).show();\r\n\t\t\t\t$(\"span.ui-icon-\"+so,selTh).removeClass('ui-state-disabled');\r\n\t\t\t\t$(selTh).attr(\"aria-selected\",\"true\");\r\n\t\t\t} else {\r\n\t\t\t\tif(!ts.p.viewsortcols[0]) {\r\n\t\t\t\t\t$(\"span.s-ico\",selTh).hide();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tts.p.sortorder = \"\";\r\n\t\t\t$.each(cm, function(i){\r\n\t\t\t\tif(this.lso) {\r\n\t\t\t\t\tif(i>0 && fs) {\r\n\t\t\t\t\t\tsort += \", \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsplas = this.lso.split(\"-\");\r\n\t\t\t\t\tsort += cm[i].index || cm[i].name;\r\n\t\t\t\t\tsort += \" \"+splas[splas.length-1];\r\n\t\t\t\t\tfs = true;\r\n\t\t\t\t\tts.p.sortorder = splas[splas.length-1];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tls = sort.lastIndexOf(ts.p.sortorder);\r\n\t\t\tsort = sort.substring(0, ls);\r\n\t\t\tts.p.sortname = sort;\r\n\t\t},\r\n\t\tsortData = function (index, idxcol,reload,sor, obj){\r\n\t\t\tif(!ts.p.colModel[idxcol].sortable) { return; }\r\n\t\t\tif(ts.p.savedRow.length > 0) {return;}\r\n\t\t\tif(!reload) {\r\n\t\t\t\tif( ts.p.lastsort === idxcol ) {\r\n\t\t\t\t\tif( ts.p.sortorder === 'asc') {\r\n\t\t\t\t\t\tts.p.sortorder = 'desc';\r\n\t\t\t\t\t} else if(ts.p.sortorder === 'desc') { ts.p.sortorder = 'asc';}\r\n\t\t\t\t} else { ts.p.sortorder = ts.p.colModel[idxcol].firstsortorder || 'asc'; }\r\n\t\t\t\tts.p.page = 1;\r\n\t\t\t}\r\n\t\t\tif(ts.p.multiSort) {\r\n\t\t\t\tmultiSort( idxcol, obj);\r\n\t\t\t} else {\r\n\t\t\t\tif(sor) {\r\n\t\t\t\t\tif(ts.p.lastsort === idxcol && ts.p.sortorder === sor && !reload) { return; }\r\n\t\t\t\t\tts.p.sortorder = sor;\r\n\t\t\t\t}\r\n\t\t\t\tvar previousSelectedTh = ts.grid.headers[ts.p.lastsort].el, newSelectedTh = ts.p.frozenColumns ?  obj : ts.grid.headers[idxcol].el;\r\n\r\n\t\t\t\t$(\"span.ui-grid-ico-sort\",previousSelectedTh).addClass('ui-state-disabled');\r\n\t\t\t\t$(previousSelectedTh).attr(\"aria-selected\",\"false\");\r\n\t\t\t\tif(ts.p.frozenColumns) {\r\n\t\t\t\t\tts.grid.fhDiv.find(\"span.ui-grid-ico-sort\").addClass('ui-state-disabled');\r\n\t\t\t\t\tts.grid.fhDiv.find(\"th\").attr(\"aria-selected\",\"false\");\r\n\t\t\t\t}\r\n\t\t\t\t$(\"span.ui-icon-\"+ts.p.sortorder,newSelectedTh).removeClass('ui-state-disabled');\r\n\t\t\t\t$(newSelectedTh).attr(\"aria-selected\",\"true\");\r\n\t\t\t\tif(!ts.p.viewsortcols[0]) {\r\n\t\t\t\t\tif(ts.p.lastsort !== idxcol) {\r\n\t\t\t\t\t\tif(ts.p.frozenColumns){\r\n\t\t\t\t\t\t\tts.grid.fhDiv.find(\"span.s-ico\").hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\"span.s-ico\",previousSelectedTh).hide();\r\n\t\t\t\t\t\t$(\"span.s-ico\",newSelectedTh).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tindex = index.substring(5 + ts.p.id.length + 1); // bad to be changed!?!\r\n\t\t\t\tts.p.sortname = ts.p.colModel[idxcol].index || index;\r\n\t\t\t}\r\n\t\t\tif ($(ts).triggerHandler(\"jqGridSortCol\", [ts.p.sortname, idxcol, ts.p.sortorder]) === 'stop') {\r\n\t\t\t\tts.p.lastsort = idxcol;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif($.isFunction(ts.p.onSortCol)) {if (ts.p.onSortCol.call(ts, ts.p.sortname, idxcol, ts.p.sortorder)==='stop') {ts.p.lastsort = idxcol; return;}}\r\n\t\t\tif(ts.p.datatype === \"local\") {\r\n\t\t\t\tif(ts.p.deselectAfterSort) {$(ts).jqGrid(\"resetSelection\");}\r\n\t\t\t} else {\r\n\t\t\t\tts.p.selrow = null;\r\n\t\t\t\tif(ts.p.multiselect){setHeadCheckBox( false );}\r\n\t\t\t\tts.p.selarrrow =[];\r\n\t\t\t\tts.p.savedRow =[];\r\n\t\t\t}\r\n\t\t\tif(ts.p.scroll) {\r\n\t\t\t\tvar sscroll = ts.grid.bDiv.scrollLeft;\r\n\t\t\t\temptyRows.call(ts, true, false);\r\n\t\t\t\tts.grid.hDiv.scrollLeft = sscroll;\r\n\t\t\t}\r\n\t\t\tif(ts.p.subGrid && ts.p.datatype === 'local') {\r\n\t\t\t\t$(\"td.sgexpanded\",\"#\"+$.jgrid.jqID(ts.p.id)).each(function(){\r\n\t\t\t\t\t$(this).trigger(\"click\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tpopulate();\r\n\t\t\tts.p.lastsort = idxcol;\r\n\t\t\tif(ts.p.sortname !== index && idxcol) {ts.p.lastsort = idxcol;}\r\n\t\t},\r\n\t\tsetColWidth = function () {\r\n\t\t\tvar initwidth = 0, brd=$.jgrid.cell_width? 0: intNum(ts.p.cellLayout,0), vc=0, lvc, scw=intNum(ts.p.scrollOffset,0),cw,hs=false,aw,gw=0,cr;\r\n\t\t\t$.each(ts.p.colModel, function() {\r\n\t\t\t\tif(this.hidden === undefined) {this.hidden=false;}\r\n\t\t\t\tif(ts.p.grouping && ts.p.autowidth) {\r\n\t\t\t\t\tvar ind = $.inArray(this.name, ts.p.groupingView.groupField);\r\n\t\t\t\t\tif(ind >= 0 && ts.p.groupingView.groupColumnShow.length > ind) {\r\n\t\t\t\t\t\tthis.hidden = !ts.p.groupingView.groupColumnShow[ind];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.widthOrg = cw = intNum(this.width,0);\r\n\t\t\t\tif(this.hidden===false){\r\n\t\t\t\t\tinitwidth += cw+brd;\r\n\t\t\t\t\tif(this.fixed) {\r\n\t\t\t\t\t\tgw += cw+brd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvc++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(isNaN(ts.p.width)) {\r\n\t\t\t\tts.p.width  = initwidth + ((ts.p.shrinkToFit ===false && !isNaN(ts.p.height)) ? scw : 0);\r\n\t\t\t}\r\n\t\t\tgrid.width = ts.p.width;\r\n\t\t\tts.p.tblwidth = initwidth;\r\n\t\t\tif(ts.p.shrinkToFit ===false && ts.p.forceFit === true) {ts.p.forceFit=false;}\r\n\t\t\tif(ts.p.shrinkToFit===true && vc > 0) {\r\n\t\t\t\taw = grid.width-brd*vc-gw;\r\n\t\t\t\tif(!isNaN(ts.p.height)) {\r\n\t\t\t\t\taw -= scw;\r\n\t\t\t\t\ths = true;\r\n\t\t\t\t}\r\n\t\t\t\tinitwidth =0;\r\n\t\t\t\t$.each(ts.p.colModel, function(i) {\r\n\t\t\t\t\tif(this.hidden === false && !this.fixed){\r\n\t\t\t\t\t\tcw = Math.round(aw*this.width/(ts.p.tblwidth-brd*vc-gw));\r\n\t\t\t\t\t\tthis.width =cw;\r\n\t\t\t\t\t\tinitwidth += cw;\r\n\t\t\t\t\t\tlvc = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcr =0;\r\n\t\t\t\tif (hs) {\r\n\t\t\t\t\tif(grid.width-gw-(initwidth+brd*vc) !== scw){\r\n\t\t\t\t\t\tcr = grid.width-gw-(initwidth+brd*vc)-scw;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(!hs && Math.abs(grid.width-gw-(initwidth+brd*vc)) !== 1) {\r\n\t\t\t\t\tcr = grid.width-gw-(initwidth+brd*vc);\r\n\t\t\t\t}\r\n\t\t\t\tts.p.colModel[lvc].width += cr;\r\n\t\t\t\tts.p.tblwidth = initwidth+cr+brd*vc+gw;\r\n\t\t\t\tif(ts.p.tblwidth > ts.p.width) {\r\n\t\t\t\t\tts.p.colModel[lvc].width -= (ts.p.tblwidth - parseInt(ts.p.width,10));\r\n\t\t\t\t\tts.p.tblwidth = ts.p.width;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tnextVisible= function(iCol) {\r\n\t\t\tvar ret = iCol, j=iCol, i;\r\n\t\t\tfor (i = iCol+1;i<ts.p.colModel.length;i++){\r\n\t\t\t\tif(ts.p.colModel[i].hidden !== true ) {\r\n\t\t\t\t\tj=i; break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn j-ret;\r\n\t\t},\r\n\t\tgetOffset = function (iCol) {\r\n\t\t\tvar $th = $(ts.grid.headers[iCol].el), ret = [$th.position().left + $th.outerWidth()];\r\n\t\t\tif(ts.p.direction===\"rtl\") { ret[0] = ts.p.width - ret[0]; }\r\n\t\t\tret[0] -= ts.grid.bDiv.scrollLeft;\r\n\t\t\tret.push($(ts.grid.hDiv).position().top);\r\n\t\t\tret.push($(ts.grid.bDiv).offset().top - $(ts.grid.hDiv).offset().top + $(ts.grid.bDiv).height());\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tgetColumnHeaderIndex = function (th) {\r\n\t\t\tvar i, headers = ts.grid.headers, ci = $.jgrid.getCellIndex(th);\r\n\t\t\tfor (i = 0; i < headers.length; i++) {\r\n\t\t\t\tif (th === headers[i].el) {\r\n\t\t\t\t\tci = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ci;\r\n\t\t};\r\n\t\tthis.p.id = this.id;\r\n\t\tif ($.inArray(ts.p.multikey,sortkeys) === -1 ) {ts.p.multikey = false;}\r\n\t\tts.p.keyIndex=false;\r\n\t\tts.p.keyName=false;\r\n\t\tfor (i=0; i<ts.p.colModel.length;i++) {\r\n\t\t\tts.p.colModel[i] = $.extend(true, {}, ts.p.cmTemplate, ts.p.colModel[i].template || {}, ts.p.colModel[i]);\r\n\t\t\tif (ts.p.keyIndex === false && ts.p.colModel[i].key===true) {\r\n\t\t\t\tts.p.keyIndex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tts.p.sortorder = ts.p.sortorder.toLowerCase();\r\n\t\t$.jgrid.cell_width = $.jgrid.cellWidth();\r\n\t\tif(ts.p.grouping===true) {\r\n\t\t\tts.p.scroll = false;\r\n\t\t\tts.p.rownumbers = false;\r\n\t\t\t//ts.p.subGrid = false; expiremental\r\n\t\t\tts.p.treeGrid = false;\r\n\t\t\tts.p.gridview = true;\r\n\t\t}\r\n\t\tif(this.p.treeGrid === true) {\r\n\t\t\ttry { $(this).jqGrid(\"setTreeGrid\");} catch (_) {}\r\n\t\t\tif(ts.p.datatype !== \"local\") { ts.p.localReader = {id: \"_id_\"};\t}\r\n\t\t}\r\n\t\tif(this.p.subGrid) {\r\n\t\t\ttry { $(ts).jqGrid(\"setSubGrid\");} catch (s){}\r\n\t\t}\r\n\t\tif(this.p.multiselect) {\r\n\t\t\tthis.p.colNames.unshift(\"<input role='checkbox' id='cb_\"+this.p.id+\"' class='cbox' type='checkbox'/>\");\r\n\t\t\tthis.p.colModel.unshift({name:'cb',width:$.jgrid.cell_width ? ts.p.multiselectWidth+ts.p.cellLayout : ts.p.multiselectWidth,sortable:false,resizable:false,hidedlg:true,search:false,align:'center',fixed:true});\r\n\t\t}\r\n\t\tif(this.p.rownumbers) {\r\n\t\t\tthis.p.colNames.unshift(\"\");\r\n\t\t\tthis.p.colModel.unshift({name:'rn',width:ts.p.rownumWidth,sortable:false,resizable:false,hidedlg:true,search:false,align:'center',fixed:true});\r\n\t\t}\r\n\t\tts.p.xmlReader = $.extend(true,{\r\n\t\t\troot: \"rows\",\r\n\t\t\trow: \"row\",\r\n\t\t\tpage: \"rows>page\",\r\n\t\t\ttotal: \"rows>total\",\r\n\t\t\trecords : \"rows>records\",\r\n\t\t\trepeatitems: true,\r\n\t\t\tcell: \"cell\",\r\n\t\t\tid: \"[id]\",\r\n\t\t\tuserdata: \"userdata\",\r\n\t\t\tsubgrid: {root:\"rows\", row: \"row\", repeatitems: true, cell:\"cell\"}\r\n\t\t}, ts.p.xmlReader);\r\n\t\tts.p.jsonReader = $.extend(true,{\r\n\t\t\troot: \"rows\",\r\n\t\t\tpage: \"page\",\r\n\t\t\ttotal: \"total\",\r\n\t\t\trecords: \"records\",\r\n\t\t\trepeatitems: true,\r\n\t\t\tcell: \"cell\",\r\n\t\t\tid: \"id\",\r\n\t\t\tuserdata: \"userdata\",\r\n\t\t\tsubgrid: {root:\"rows\", repeatitems: true, cell:\"cell\"}\r\n\t\t},ts.p.jsonReader);\r\n\t\tts.p.localReader = $.extend(true,{\r\n\t\t\troot: \"rows\",\r\n\t\t\tpage: \"page\",\r\n\t\t\ttotal: \"total\",\r\n\t\t\trecords: \"records\",\r\n\t\t\trepeatitems: false,\r\n\t\t\tcell: \"cell\",\r\n\t\t\tid: \"id\",\r\n\t\t\tuserdata: \"userdata\",\r\n\t\t\tsubgrid: {root:\"rows\", repeatitems: true, cell:\"cell\"}\r\n\t\t},ts.p.localReader);\r\n\t\tif(ts.p.scroll){\r\n\t\t\tts.p.pgbuttons = false; ts.p.pginput=false; ts.p.rowList=[];\r\n\t\t}\r\n\t\tif(ts.p.data.length) { refreshIndex(); }\r\n\t\tvar thead = \"<thead><tr class='ui-jqgrid-labels' role='rowheader'>\",\r\n\t\ttdc, idn, w, res, sort,\r\n\t\ttd, ptr, tbody, imgs,iac=\"\",idc=\"\",sortarr=[], sortord=[], sotmp=[];\r\n\t\tif(ts.p.shrinkToFit===true && ts.p.forceFit===true) {\r\n\t\t\tfor (i=ts.p.colModel.length-1;i>=0;i--){\r\n\t\t\t\tif(!ts.p.colModel[i].hidden) {\r\n\t\t\t\t\tts.p.colModel[i].resizable=false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(ts.p.viewsortcols[1] === 'horizontal') {iac=\" ui-i-asc\";idc=\" ui-i-desc\";}\r\n\t\ttdc = isMSIE ?  \"class='ui-th-div-ie'\" :\"\";\r\n\t\timgs = \"<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc\"+iac+\" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-\"+dir+\"'></span>\";\r\n\t\timgs += \"<span sort='desc' class='ui-grid-ico-sort ui-icon-desc\"+idc+\" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-\"+dir+\"'></span></span>\";\r\n\t\tif(ts.p.multiSort) {\r\n\t\t\tsortarr = ts.p.sortname.split(\",\");\r\n\t\t\tfor (i=0; i<sortarr.length; i++) {\r\n\t\t\t\tsotmp = $.trim(sortarr[i]).split(\" \");\r\n\t\t\t\tsortarr[i] = $.trim(sotmp[0]);\r\n\t\t\t\tsortord[i] = sotmp[1] ? $.trim(sotmp[1]) : ts.p.sortorder || \"asc\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(i=0;i<this.p.colNames.length;i++){\r\n\t\t\tvar tooltip = ts.p.headertitles ? (\" title=\\\"\"+$.jgrid.stripHtml(ts.p.colNames[i])+\"\\\"\") :\"\";\r\n\t\t\tthead += \"<th id='\"+ts.p.id+\"_\"+ts.p.colModel[i].name+\"' role='columnheader' class='ui-state-default ui-th-column ui-th-\"+dir+\"'\"+ tooltip+\">\";\r\n\t\t\tidn = ts.p.colModel[i].index || ts.p.colModel[i].name;\r\n\t\t\tthead += \"<div id='jqgh_\"+ts.p.id+\"_\"+ts.p.colModel[i].name+\"' \"+tdc+\">\"+ts.p.colNames[i];\r\n\t\t\tif(!ts.p.colModel[i].width)  { ts.p.colModel[i].width = 150; }\r\n\t\t\telse { ts.p.colModel[i].width = parseInt(ts.p.colModel[i].width,10); }\r\n\t\t\tif(typeof ts.p.colModel[i].title !== \"boolean\") { ts.p.colModel[i].title = true; }\r\n\t\t\tts.p.colModel[i].lso = \"\";\r\n\t\t\tif (idn === ts.p.sortname) {\r\n\t\t\t\tts.p.lastsort = i;\r\n\t\t\t}\r\n\t\t\tif(ts.p.multiSort) {\r\n\t\t\t\tsotmp = $.inArray(idn,sortarr);\r\n\t\t\t\tif( sotmp !== -1 ) {\r\n\t\t\t\t\tts.p.colModel[i].lso = sortord[sotmp];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthead += imgs+\"</div></th>\";\r\n\t\t}\r\n\t\tthead += \"</tr></thead>\";\r\n\t\timgs = null;\r\n\t\t$(this).append(thead);\r\n\t\t$(\"thead tr:first th\",this).hover(function(){$(this).addClass('ui-state-hover');},function(){$(this).removeClass('ui-state-hover');});\r\n\t\tif(this.p.multiselect) {\r\n\t\t\tvar emp=[], chk;\r\n\t\t\t$('#cb_'+$.jgrid.jqID(ts.p.id),this).bind('click',function(){\r\n\t\t\t\tts.p.selarrrow = [];\r\n\t\t\t\tvar froz = ts.p.frozenColumns === true ? ts.p.id + \"_frozen\" : \"\";\r\n\t\t\t\tif (this.checked) {\r\n\t\t\t\t\t$(ts.rows).each(function(i) {\r\n\t\t\t\t\t\tif (i>0) {\r\n\t\t\t\t\t\t\tif(!$(this).hasClass(\"ui-subgrid\") && !$(this).hasClass(\"jqgroup\") && !$(this).hasClass('ui-state-disabled')){\r\n\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(this.id) )[ts.p.useProp ? 'prop': 'attr'](\"checked\",true);\r\n\t\t\t\t\t\t\t\t$(this).addClass(\"ui-state-highlight\").attr(\"aria-selected\",\"true\");\r\n\t\t\t\t\t\t\t\tts.p.selarrrow.push(this.id);\r\n\t\t\t\t\t\t\t\tts.p.selrow = this.id;\r\n\t\t\t\t\t\t\t\tif(froz) {\r\n\t\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(this.id), ts.grid.fbDiv )[ts.p.useProp ? 'prop': 'attr'](\"checked\",true);\r\n\t\t\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(this.id), ts.grid.fbDiv).addClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tchk=true;\r\n\t\t\t\t\temp=[];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$(ts.rows).each(function(i) {\r\n\t\t\t\t\t\tif(i>0) {\r\n\t\t\t\t\t\t\tif(!$(this).hasClass(\"ui-subgrid\") && !$(this).hasClass('ui-state-disabled')){\r\n\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(this.id) )[ts.p.useProp ? 'prop': 'attr'](\"checked\", false);\r\n\t\t\t\t\t\t\t\t$(this).removeClass(\"ui-state-highlight\").attr(\"aria-selected\",\"false\");\r\n\t\t\t\t\t\t\t\temp.push(this.id);\r\n\t\t\t\t\t\t\t\tif(froz) {\r\n\t\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(this.id), ts.grid.fbDiv )[ts.p.useProp ? 'prop': 'attr'](\"checked\",false);\r\n\t\t\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(this.id), ts.grid.fbDiv).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tts.p.selrow = null;\r\n\t\t\t\t\tchk=false;\r\n\t\t\t\t}\r\n\t\t\t\t$(ts).triggerHandler(\"jqGridSelectAll\", [chk ? ts.p.selarrrow : emp, chk]);\r\n\t\t\t\tif($.isFunction(ts.p.onSelectAll)) {ts.p.onSelectAll.call(ts, chk ? ts.p.selarrrow : emp,chk);}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(ts.p.autowidth===true) {\r\n\t\t\tvar pw = $(eg).innerWidth();\r\n\t\t\tts.p.width = pw > 0?  pw: 'nw';\r\n\t\t}\r\n\t\tsetColWidth();\r\n\t\t$(eg).css(\"width\",grid.width+\"px\").append(\"<div class='ui-jqgrid-resize-mark' id='rs_m\"+ts.p.id+\"'>&#160;</div>\");\r\n\t\t$(gv).css(\"width\",grid.width+\"px\");\r\n\t\tthead = $(\"thead:first\",ts).get(0);\r\n\t\tvar\ttfoot = \"\";\r\n\t\tif(ts.p.footerrow) { tfoot += \"<table role='grid' style='width:\"+ts.p.tblwidth+\"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-\"+dir+\"'>\"; }\r\n\t\tvar thr = $(\"tr:first\",thead),\r\n\t\tfirstr = \"<tr class='jqgfirstrow' role='row' style='height:auto'>\";\r\n\t\tts.p.disableClick=false;\r\n\t\t$(\"th\",thr).each(function ( j ) {\r\n\t\t\tw = ts.p.colModel[j].width;\r\n\t\t\tif(ts.p.colModel[j].resizable === undefined) {ts.p.colModel[j].resizable = true;}\r\n\t\t\tif(ts.p.colModel[j].resizable){\r\n\t\t\t\tres = document.createElement(\"span\");\r\n\t\t\t\t$(res).html(\"&#160;\").addClass('ui-jqgrid-resize ui-jqgrid-resize-'+dir)\r\n\t\t\t\t.css(\"cursor\",\"col-resize\");\r\n\t\t\t\t$(this).addClass(ts.p.resizeclass);\r\n\t\t\t} else {\r\n\t\t\t\tres = \"\";\r\n\t\t\t}\r\n\t\t\t$(this).css(\"width\",w+\"px\").prepend(res);\r\n\t\t\tres = null;\r\n\t\t\tvar hdcol = \"\";\r\n\t\t\tif( ts.p.colModel[j].hidden ) {\r\n\t\t\t\t$(this).css(\"display\",\"none\");\r\n\t\t\t\thdcol = \"display:none;\";\r\n\t\t\t}\r\n\t\t\tfirstr += \"<td role='gridcell' style='height:0px;width:\"+w+\"px;\"+hdcol+\"'></td>\";\r\n\t\t\tgrid.headers[j] = { width: w, el: this };\r\n\t\t\tsort = ts.p.colModel[j].sortable;\r\n\t\t\tif( typeof sort !== 'boolean') {ts.p.colModel[j].sortable =  true; sort=true;}\r\n\t\t\tvar nm = ts.p.colModel[j].name;\r\n\t\t\tif( !(nm === 'cb' || nm==='subgrid' || nm==='rn') ) {\r\n\t\t\t\tif(ts.p.viewsortcols[2]){\r\n\t\t\t\t\t$(\">div\",this).addClass('ui-jqgrid-sortable');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sort) {\r\n\t\t\t\tif(ts.p.multiSort) {\r\n\t\t\t\t\tif(ts.p.viewsortcols[0]) {\r\n\t\t\t\t\t\t$(\"div span.s-ico\",this).show();\r\n\t\t\t\t\t\tif(ts.p.colModel[j].lso){\r\n\t\t\t\t\t\t\t$(\"div span.ui-icon-\"+ts.p.colModel[j].lso,this).removeClass(\"ui-state-disabled\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if( ts.p.colModel[j].lso) {\r\n\t\t\t\t\t\t$(\"div span.s-ico\",this).show();\r\n\t\t\t\t\t\t$(\"div span.ui-icon-\"+ts.p.colModel[j].lso,this).removeClass(\"ui-state-disabled\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(ts.p.viewsortcols[0]) {$(\"div span.s-ico\",this).show(); if(j===ts.p.lastsort){ $(\"div span.ui-icon-\"+ts.p.sortorder,this).removeClass(\"ui-state-disabled\");}}\r\n\t\t\t\t\telse if( j === ts.p.lastsort) {$(\"div span.s-ico\",this).show();$(\"div span.ui-icon-\"+ts.p.sortorder,this).removeClass(\"ui-state-disabled\");}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ts.p.footerrow) { tfoot += \"<td role='gridcell' \"+formatCol(j,0,'', null, '', false)+\">&#160;</td>\"; }\r\n\t\t}).mousedown(function(e) {\r\n\t\t\tif ($(e.target).closest(\"th>span.ui-jqgrid-resize\").length !== 1) { return; }\r\n\t\t\tvar ci = getColumnHeaderIndex(this);\r\n\t\t\tif(ts.p.forceFit===true) {ts.p.nv= nextVisible(ci);}\r\n\t\t\tgrid.dragStart(ci, e, getOffset(ci));\r\n\t\t\treturn false;\r\n\t\t}).click(function(e) {\r\n\t\t\tif (ts.p.disableClick) {\r\n\t\t\t\tts.p.disableClick = false;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar s = \"th>div.ui-jqgrid-sortable\",r,d;\r\n\t\t\tif (!ts.p.viewsortcols[2]) { s = \"th>div>span>span.ui-grid-ico-sort\"; }\r\n\t\t\tvar t = $(e.target).closest(s);\r\n\t\t\tif (t.length !== 1) { return; }\r\n\t\t\tvar ci;\r\n\t\t\tif(ts.p.frozenColumns) {\r\n\t\t\t\tvar tid =  $(this)[0].id.substring( ts.p.id.length + 1 );\r\n\t\t\t\t$(ts.p.colModel).each(function(i){\r\n\t\t\t\t\tif (this.name === tid) {\r\n\t\t\t\t\t\tci = i;return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tci = getColumnHeaderIndex(this);\r\n\t\t\t}\r\n\t\t\tif (!ts.p.viewsortcols[2]) { r=true;d=t.attr(\"sort\"); }\r\n\t\t\tif(ci != null){\r\n\t\t\t\tsortData( $('div',this)[0].id, ci, r, d, this);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\tif (ts.p.sortable && $.fn.sortable) {\r\n\t\t\ttry {\r\n\t\t\t\t$(ts).jqGrid(\"sortableColumns\", thr);\r\n\t\t\t} catch (e){}\r\n\t\t}\r\n\t\tif(ts.p.footerrow) { tfoot += \"</tr></tbody></table>\"; }\r\n\t\tfirstr += \"</tr>\";\r\n\t\ttbody = document.createElement(\"tbody\");\r\n\t\tthis.appendChild(tbody);\r\n\t\t$(this).addClass('ui-jqgrid-btable').append(firstr);\r\n\t\tfirstr = null;\r\n\t\tvar hTable = $(\"<table class='ui-jqgrid-htable' style='width:\"+ts.p.tblwidth+\"px' role='grid' aria-labelledby='gbox_\"+this.id+\"' cellspacing='0' cellpadding='0' border='0'></table>\").append(thead),\r\n\t\thg = (ts.p.caption && ts.p.hiddengrid===true) ? true : false,\r\n\t\thb = $(\"<div class='ui-jqgrid-hbox\" + (dir===\"rtl\" ? \"-rtl\" : \"\" )+\"'></div>\");\r\n\t\tthead = null;\r\n\t\tgrid.hDiv = document.createElement(\"div\");\r\n\t\t$(grid.hDiv)\r\n\t\t\t.css({ width: grid.width+\"px\"})\r\n\t\t\t.addClass(\"ui-state-default ui-jqgrid-hdiv\")\r\n\t\t\t.append(hb);\r\n\t\t$(hb).append(hTable);\r\n\t\thTable = null;\r\n\t\tif(hg) { $(grid.hDiv).hide(); }\r\n\t\tif(ts.p.pager){\r\n\t\t\t// TBD -- escape ts.p.pager here?\r\n\t\t\tif(typeof ts.p.pager === \"string\") {if(ts.p.pager.substr(0,1) !== \"#\") { ts.p.pager = \"#\"+ts.p.pager;} }\r\n\t\t\telse { ts.p.pager = \"#\"+ $(ts.p.pager).attr(\"id\");}\r\n\t\t\t$(ts.p.pager).css({width: grid.width+\"px\"}).addClass('ui-state-default ui-jqgrid-pager ui-corner-bottom').appendTo(eg);\r\n\t\t\tif(hg) {$(ts.p.pager).hide();}\r\n\t\t\tsetPager(ts.p.pager,'');\r\n\t\t}\r\n\t\tif( ts.p.cellEdit === false && ts.p.hoverrows === true) {\r\n\t\t$(ts).bind('mouseover',function(e) {\r\n\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\r\n\t\t\tif($(ptr).attr(\"class\") !== \"ui-subgrid\") {\r\n\t\t\t\t$(ptr).addClass(\"ui-state-hover\");\r\n\t\t\t}\r\n\t\t}).bind('mouseout',function(e) {\r\n\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\r\n\t\t\t$(ptr).removeClass(\"ui-state-hover\");\r\n\t\t});\r\n\t\t}\r\n\t\tvar ri,ci, tdHtml;\r\n\t\t$(ts).before(grid.hDiv).click(function(e) {\r\n\t\t\ttd = e.target;\r\n\t\t\tptr = $(td,ts.rows).closest(\"tr.jqgrow\");\r\n\t\t\tif($(ptr).length === 0 || ptr[0].className.indexOf( 'ui-state-disabled' ) > -1 || ($(td,ts).closest(\"table.ui-jqgrid-btable\").attr('id') || '').replace(\"_frozen\",\"\") !== ts.id ) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tvar scb = $(td).hasClass(\"cbox\"),\r\n\t\t\tcSel = $(ts).triggerHandler(\"jqGridBeforeSelectRow\", [ptr[0].id, e]);\r\n\t\t\tcSel = (cSel === false || cSel === 'stop') ? false : true;\r\n\t\t\tif(cSel && $.isFunction(ts.p.beforeSelectRow)) { cSel = ts.p.beforeSelectRow.call(ts,ptr[0].id, e); }\r\n\t\t\tif (td.tagName === 'A' || ((td.tagName === 'INPUT' || td.tagName === 'TEXTAREA' || td.tagName === 'OPTION' || td.tagName === 'SELECT' ) && !scb) ) { return; }\r\n\t\t\tif(cSel === true) {\r\n\t\t\t\tri = ptr[0].id;\r\n\t\t\t\tci = $.jgrid.getCellIndex(td);\r\n\t\t\t\ttdHtml = $(td).closest(\"td,th\").html();\r\n\t\t\t\t$(ts).triggerHandler(\"jqGridCellSelect\", [ri,ci,tdHtml,e]);\r\n\t\t\t\tif($.isFunction(ts.p.onCellSelect)) {\r\n\t\t\t\t\tts.p.onCellSelect.call(ts,ri,ci,tdHtml,e);\r\n\t\t\t\t}\r\n\t\t\t\tif(ts.p.cellEdit === true) {\r\n\t\t\t\t\tif(ts.p.multiselect && scb){\r\n\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\", ri ,true,e);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tri = ptr[0].rowIndex;\r\n\t\t\t\t\t\ttry {$(ts).jqGrid(\"editCell\",ri,ci,true);} catch (_) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( !ts.p.multikey ) {\r\n\t\t\t\t\tif(ts.p.multiselect && ts.p.multiboxonly) {\r\n\t\t\t\t\t\tif(scb){$(ts).jqGrid(\"setSelection\",ri,true,e);}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvar frz = ts.p.frozenColumns ? ts.p.id+\"_frozen\" : \"\";\r\n\t\t\t\t\t\t\t$(ts.p.selarrrow).each(function(i,n){\r\n\t\t\t\t\t\t\t\tvar trid = $(ts).jqGrid('getGridRowById',n);\r\n\t\t\t\t\t\t\t\t$( trid ).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(n))[ts.p.useProp ? 'prop': 'attr'](\"checked\", false);\r\n\t\t\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(n), \"#\"+$.jgrid.jqID(frz)).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+$.jgrid.jqID(n), \"#\"+$.jgrid.jqID(frz))[ts.p.useProp ? 'prop': 'attr'](\"checked\", false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tts.p.selarrrow = [];\r\n\t\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\",ri,true,e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\",ri,true,e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(e[ts.p.multikey]) {\r\n\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\",ri,true,e);\r\n\t\t\t\t\t} else if(ts.p.multiselect && scb) {\r\n\t\t\t\t\t\tscb = $(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+ri).is(\":checked\");\r\n\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(ts.p.id)+\"_\"+ri)[ts.p.useProp ? 'prop' : 'attr'](\"checked\", scb);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).bind('reloadGrid', function(e,opts) {\r\n\t\t\tif(ts.p.treeGrid ===true) {\tts.p.datatype = ts.p.treedatatype;}\r\n\t\t\tif (opts && opts.current) {\r\n\t\t\t\tts.grid.selectionPreserver(ts);\r\n\t\t\t}\r\n\t\t\tif(ts.p.datatype===\"local\"){ $(ts).jqGrid(\"resetSelection\");  if(ts.p.data.length) { refreshIndex();} }\r\n\t\t\telse if(!ts.p.treeGrid) {\r\n\t\t\t\tts.p.selrow=null;\r\n\t\t\t\tif(ts.p.multiselect) {ts.p.selarrrow =[];setHeadCheckBox(false);}\r\n\t\t\t\tts.p.savedRow = [];\r\n\t\t\t}\r\n\t\t\tif(ts.p.scroll) {emptyRows.call(ts, true, false);}\r\n\t\t\tif (opts && opts.page) {\r\n\t\t\t\tvar page = opts.page;\r\n\t\t\t\tif (page > ts.p.lastpage) { page = ts.p.lastpage; }\r\n\t\t\t\tif (page < 1) { page = 1; }\r\n\t\t\t\tts.p.page = page;\r\n\t\t\t\tif (ts.grid.prevRowHeight) {\r\n\t\t\t\t\tts.grid.bDiv.scrollTop = (page - 1) * ts.grid.prevRowHeight * ts.p.rowNum;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tts.grid.bDiv.scrollTop = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (ts.grid.prevRowHeight && ts.p.scroll) {\r\n\t\t\t\tdelete ts.p.lastpage;\r\n\t\t\t\tts.grid.populateVisible();\r\n\t\t\t} else {\r\n\t\t\t\tts.grid.populate();\r\n\t\t\t}\r\n\t\t\tif(ts.p._inlinenav===true) {$(ts).jqGrid('showAddEditButtons');}\r\n\t\t\treturn false;\r\n\t\t})\r\n\t\t.dblclick(function(e) {\r\n\t\t\ttd = e.target;\r\n\t\t\tptr = $(td,ts.rows).closest(\"tr.jqgrow\");\r\n\t\t\tif($(ptr).length === 0 ){return;}\r\n\t\t\tri = ptr[0].rowIndex;\r\n\t\t\tci = $.jgrid.getCellIndex(td);\r\n\t\t\t$(ts).triggerHandler(\"jqGridDblClickRow\", [$(ptr).attr(\"id\"),ri,ci,e]);\r\n\t\t\tif ($.isFunction(ts.p.ondblClickRow)) { ts.p.ondblClickRow.call(ts,$(ptr).attr(\"id\"),ri,ci, e); }\r\n\t\t})\r\n\t\t.bind('contextmenu', function(e) {\r\n\t\t\ttd = e.target;\r\n\t\t\tptr = $(td,ts.rows).closest(\"tr.jqgrow\");\r\n\t\t\tif($(ptr).length === 0 ){return;}\r\n\t\t\tif(!ts.p.multiselect) {\t$(ts).jqGrid(\"setSelection\",ptr[0].id,true,e);\t}\r\n\t\t\tri = ptr[0].rowIndex;\r\n\t\t\tci = $.jgrid.getCellIndex(td);\r\n\t\t\t$(ts).triggerHandler(\"jqGridRightClickRow\", [$(ptr).attr(\"id\"),ri,ci,e]);\r\n\t\t\tif ($.isFunction(ts.p.onRightClickRow)) { ts.p.onRightClickRow.call(ts,$(ptr).attr(\"id\"),ri,ci, e); }\r\n\t\t});\r\n\t\tgrid.bDiv = document.createElement(\"div\");\r\n\t\tif(isMSIE) { if(String(ts.p.height).toLowerCase() === \"auto\") { ts.p.height = \"100%\"; } }\r\n\t\t$(grid.bDiv)\r\n\t\t\t.append($('<div style=\"position:relative;'+(isMSIE && $.jgrid.msiever() < 8 ? \"height:0.01%;\" : \"\")+'\"></div>').append('<div></div>').append(this))\r\n\t\t\t.addClass(\"ui-jqgrid-bdiv\")\r\n\t\t\t.css({ height: ts.p.height+(isNaN(ts.p.height)?\"\":\"px\"), width: (grid.width)+\"px\"})\r\n\t\t\t.scroll(grid.scrollGrid);\r\n\t\t$(\"table:first\",grid.bDiv).css({width:ts.p.tblwidth+\"px\"});\r\n\t\tif( !$.support.tbody ) { //IE\r\n\t\t\tif( $(\"tbody\",this).length === 2 ) { $(\"tbody:gt(0)\",this).remove();}\r\n\t\t}\r\n\t\tif(ts.p.multikey){\r\n\t\t\tif( $.jgrid.msie) {\r\n\t\t\t\t$(grid.bDiv).bind(\"selectstart\",function(){return false;});\r\n\t\t\t} else {\r\n\t\t\t\t$(grid.bDiv).bind(\"mousedown\",function(){return false;});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(hg) {$(grid.bDiv).hide();}\r\n\t\tgrid.cDiv = document.createElement(\"div\");\r\n\t\tvar arf = ts.p.hidegrid===true ? $(\"<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' />\").hover(\r\n\t\t\tfunction(){ arf.addClass('ui-state-hover');},\r\n\t\t\tfunction() {arf.removeClass('ui-state-hover');})\r\n\t\t.append(\"<span class='ui-icon ui-icon-circle-triangle-n'></span>\").css((dir===\"rtl\"?\"left\":\"right\"),\"0px\") : \"\";\r\n\t\t$(grid.cDiv).append(arf).append(\"<span class='ui-jqgrid-title'>\"+ts.p.caption+\"</span>\")\r\n\t\t.addClass(\"ui-jqgrid-titlebar ui-jqgrid-caption\"+(dir===\"rtl\" ? \"-rtl\" :\"\" )+\" ui-widget-header ui-corner-top ui-helper-clearfix\");\r\n\t\t$(grid.cDiv).insertBefore(grid.hDiv);\r\n\t\tif( ts.p.toolbar[0] ) {\r\n\t\t\tgrid.uDiv = document.createElement(\"div\");\r\n\t\t\tif(ts.p.toolbar[1] === \"top\") {$(grid.uDiv).insertBefore(grid.hDiv);}\r\n\t\t\telse if (ts.p.toolbar[1]===\"bottom\" ) {$(grid.uDiv).insertAfter(grid.hDiv);}\r\n\t\t\tif(ts.p.toolbar[1]===\"both\") {\r\n\t\t\t\tgrid.ubDiv = document.createElement(\"div\");\r\n\t\t\t\t$(grid.uDiv).addClass(\"ui-userdata ui-state-default\").attr(\"id\",\"t_\"+this.id).insertBefore(grid.hDiv);\r\n\t\t\t\t$(grid.ubDiv).addClass(\"ui-userdata ui-state-default\").attr(\"id\",\"tb_\"+this.id).insertAfter(grid.hDiv);\r\n\t\t\t\tif(hg)  {$(grid.ubDiv).hide();}\r\n\t\t\t} else {\r\n\t\t\t\t$(grid.uDiv).width(grid.width).addClass(\"ui-userdata ui-state-default\").attr(\"id\",\"t_\"+this.id);\r\n\t\t\t}\r\n\t\t\tif(hg) {$(grid.uDiv).hide();}\r\n\t\t}\r\n\t\tif(ts.p.toppager) {\r\n\t\t\tts.p.toppager = $.jgrid.jqID(ts.p.id)+\"_toppager\";\r\n\t\t\tgrid.topDiv = $(\"<div id='\"+ts.p.toppager+\"'></div>\")[0];\r\n\t\t\tts.p.toppager = \"#\"+ts.p.toppager;\r\n\t\t\t$(grid.topDiv).addClass('ui-state-default ui-jqgrid-toppager').width(grid.width).insertBefore(grid.hDiv);\r\n\t\t\tsetPager(ts.p.toppager,'_t');\r\n\t\t}\r\n\t\tif(ts.p.footerrow) {\r\n\t\t\tgrid.sDiv = $(\"<div class='ui-jqgrid-sdiv'></div>\")[0];\r\n\t\t\thb = $(\"<div class='ui-jqgrid-hbox\"+(dir===\"rtl\"?\"-rtl\":\"\")+\"'></div>\");\r\n\t\t\t$(grid.sDiv).append(hb).width(grid.width).insertAfter(grid.hDiv);\r\n\t\t\t$(hb).append(tfoot);\r\n\t\t\tgrid.footers = $(\".ui-jqgrid-ftable\",grid.sDiv)[0].rows[0].cells;\r\n\t\t\tif(ts.p.rownumbers) { grid.footers[0].className = 'ui-state-default jqgrid-rownum'; }\r\n\t\t\tif(hg) {$(grid.sDiv).hide();}\r\n\t\t}\r\n\t\thb = null;\r\n\t\tif(ts.p.caption) {\r\n\t\t\tvar tdt = ts.p.datatype;\r\n\t\t\tif(ts.p.hidegrid===true) {\r\n\t\t\t\t$(\".ui-jqgrid-titlebar-close\",grid.cDiv).click( function(e){\r\n\t\t\t\t\tvar onHdCl = $.isFunction(ts.p.onHeaderClick),\r\n\t\t\t\t\telems = \".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv\",\r\n\t\t\t\t\tcounter, self = this;\r\n\t\t\t\t\tif(ts.p.toolbar[0]===true) {\r\n\t\t\t\t\t\tif( ts.p.toolbar[1]==='both') {\r\n\t\t\t\t\t\t\telems += ', #' + $(grid.ubDiv).attr('id');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telems += ', #' + $(grid.uDiv).attr('id');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcounter = $(elems,\"#gview_\"+$.jgrid.jqID(ts.p.id)).length;\r\n\r\n\t\t\t\t\tif(ts.p.gridstate === 'visible') {\r\n\t\t\t\t\t\t$(elems,\"#gbox_\"+$.jgrid.jqID(ts.p.id)).slideUp(\"fast\", function() {\r\n\t\t\t\t\t\t\tcounter--;\r\n\t\t\t\t\t\t\tif (counter === 0) {\r\n\t\t\t\t\t\t\t\t$(\"span\",self).removeClass(\"ui-icon-circle-triangle-n\").addClass(\"ui-icon-circle-triangle-s\");\r\n\t\t\t\t\t\t\t\tts.p.gridstate = 'hidden';\r\n\t\t\t\t\t\t\t\tif($(\"#gbox_\"+$.jgrid.jqID(ts.p.id)).hasClass(\"ui-resizable\")) { $(\".ui-resizable-handle\",\"#gbox_\"+$.jgrid.jqID(ts.p.id)).hide(); }\r\n\t\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridHeaderClick\", [ts.p.gridstate,e]);\r\n\t\t\t\t\t\t\t\tif(onHdCl) {if(!hg) {ts.p.onHeaderClick.call(ts,ts.p.gridstate,e);}}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if(ts.p.gridstate === 'hidden'){\r\n\t\t\t\t\t\t$(elems,\"#gbox_\"+$.jgrid.jqID(ts.p.id)).slideDown(\"fast\", function() {\r\n\t\t\t\t\t\t\tcounter--;\r\n\t\t\t\t\t\t\tif (counter === 0) {\r\n\t\t\t\t\t\t\t\t$(\"span\",self).removeClass(\"ui-icon-circle-triangle-s\").addClass(\"ui-icon-circle-triangle-n\");\r\n\t\t\t\t\t\t\t\tif(hg) {ts.p.datatype = tdt;populate();hg=false;}\r\n\t\t\t\t\t\t\t\tts.p.gridstate = 'visible';\r\n\t\t\t\t\t\t\t\tif($(\"#gbox_\"+$.jgrid.jqID(ts.p.id)).hasClass(\"ui-resizable\")) { $(\".ui-resizable-handle\",\"#gbox_\"+$.jgrid.jqID(ts.p.id)).show(); }\r\n\t\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridHeaderClick\", [ts.p.gridstate,e]);\r\n\t\t\t\t\t\t\t\tif(onHdCl) {if(!hg) {ts.p.onHeaderClick.call(ts,ts.p.gridstate,e);}}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\tif(hg) {ts.p.datatype=\"local\"; $(\".ui-jqgrid-titlebar-close\",grid.cDiv).trigger(\"click\");}\r\n\t\t\t}\r\n\t\t} else {$(grid.cDiv).hide();}\r\n\t\t$(grid.hDiv).after(grid.bDiv)\r\n\t\t.mousemove(function (e) {\r\n\t\t\tif(grid.resizing){grid.dragMove(e);return false;}\r\n\t\t});\r\n\t\t$(\".ui-jqgrid-labels\",grid.hDiv).bind(\"selectstart\", function () { return false; });\r\n\t\t$(document).bind( \"mouseup.jqGrid\" + ts.p.id, function () {\r\n\t\t\tif(grid.resizing) {\tgrid.dragEnd(); return false;}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tts.formatCol = formatCol;\r\n\t\tts.sortData = sortData;\r\n\t\tts.updatepager = updatepager;\r\n\t\tts.refreshIndex = refreshIndex;\r\n\t\tts.setHeadCheckBox = setHeadCheckBox;\r\n\t\tts.constructTr = constructTr;\r\n\t\tts.formatter = function ( rowId, cellval , colpos, rwdat, act){return formatter(rowId, cellval , colpos, rwdat, act);};\r\n\t\t$.extend(grid,{populate : populate, emptyRows: emptyRows, beginReq: beginReq, endReq: endReq});\r\n\t\tthis.grid = grid;\r\n\t\tts.addXmlData = function(d) {addXmlData(d,ts.grid.bDiv);};\r\n\t\tts.addJSONData = function(d) {addJSONData(d,ts.grid.bDiv);};\r\n\t\tthis.grid.cols = this.rows[0].cells;\r\n\t\t$(ts).triggerHandler(\"jqGridInitGrid\");\r\n\t\tif ($.isFunction( ts.p.onInitGrid )) { ts.p.onInitGrid.call(ts); }\r\n\r\n\t\tpopulate();ts.p.hiddengrid=false;\r\n\t});\r\n};\r\n$.jgrid.extend({\r\n\tgetGridParam : function(pName) {\r\n\t\tvar $t = this[0];\r\n\t\tif (!$t || !$t.grid) {return;}\r\n\t\tif (!pName) { return $t.p; }\r\n\t\treturn $t.p[pName] !== undefined ? $t.p[pName] : null;\r\n\t},\r\n\tsetGridParam : function (newParams){\r\n\t\treturn this.each(function(){\r\n\t\t\tif (this.grid && typeof newParams === 'object') {$.extend(true,this.p,newParams);}\r\n\t\t});\r\n\t},\r\n\tgetGridRowById: function ( rowid ) {\r\n\t\tvar row;\r\n\t\tthis.each( function(){\r\n\t\t\ttry {\r\n\t\t\t\t//row = this.rows.namedItem( rowid );\r\n\t\t\t\tvar i = this.rows.length;\r\n\t\t\t\twhile(i--) {\r\n\t\t\t\t\tif( rowid.toString() === this.rows[i].id) {\r\n\t\t\t\t\t\trow = this.rows[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\trow = $(this.grid.bDiv).find( \"#\" + $.jgrid.jqID( rowid ));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn row;\r\n\t},\r\n\tgetDataIDs : function () {\r\n\t\tvar ids=[], i=0, len, j=0;\r\n\t\tthis.each(function(){\r\n\t\t\tlen = this.rows.length;\r\n\t\t\tif(len && len>0){\r\n\t\t\t\twhile(i<len) {\r\n\t\t\t\t\tif($(this.rows[i]).hasClass('jqgrow')) {\r\n\t\t\t\t\t\tids[j] = this.rows[i].id;\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ids;\r\n\t},\r\n\tsetSelection : function(selection,onsr, e) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, stat,pt, ner, ia, tpsr, fid;\r\n\t\t\tif(selection === undefined) { return; }\r\n\t\t\tonsr = onsr === false ? false : true;\r\n\t\t\tpt=$($t).jqGrid('getGridRowById', selection);\r\n\t\t\tif(!pt || !pt.className || pt.className.indexOf( 'ui-state-disabled' ) > -1 ) { return; }\r\n\t\t\tfunction scrGrid(iR){\r\n\t\t\t\tvar ch = $($t.grid.bDiv)[0].clientHeight,\r\n\t\t\t\tst = $($t.grid.bDiv)[0].scrollTop,\r\n\t\t\t\trpos = $($t.rows[iR]).position().top,\r\n\t\t\t\trh = $t.rows[iR].clientHeight;\r\n\t\t\t\tif(rpos+rh >= ch+st) { $($t.grid.bDiv)[0].scrollTop = rpos-(ch+st)+rh+st; }\r\n\t\t\t\telse if(rpos < ch+st) {\r\n\t\t\t\t\tif(rpos < st) {\r\n\t\t\t\t\t\t$($t.grid.bDiv)[0].scrollTop = rpos;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif($t.p.scrollrows===true) {\r\n\t\t\t\tner = $($t).jqGrid('getGridRowById',selection).rowIndex;\r\n\t\t\t\tif(ner >=0 ){\r\n\t\t\t\t\tscrGrid(ner);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif($t.p.frozenColumns === true ) {\r\n\t\t\t\tfid = $t.p.id+\"_frozen\";\r\n\t\t\t}\r\n\t\t\tif(!$t.p.multiselect) {\r\n\t\t\t\tif(pt.className !== \"ui-subgrid\") {\r\n\t\t\t\t\tif( $t.p.selrow !== pt.id) {\r\n\t\t\t\t\t\t$( $($t).jqGrid('getGridRowById', $t.p.selrow) ).removeClass(\"ui-state-highlight\").attr({\"aria-selected\":\"false\", \"tabindex\" : \"-1\"});\r\n\t\t\t\t\t\t$(pt).addClass(\"ui-state-highlight\").attr({\"aria-selected\":\"true\", \"tabindex\" : \"0\"});//.focus();\r\n\t\t\t\t\t\tif(fid) {\r\n\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID($t.p.selrow), \"#\"+$.jgrid.jqID(fid)).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(selection), \"#\"+$.jgrid.jqID(fid)).addClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstat = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstat = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$t.p.selrow = pt.id;\r\n\t\t\t\t\tif( onsr ) {\r\n\t\t\t\t\t\t$($t).triggerHandler(\"jqGridSelectRow\", [pt.id, stat, e]);\r\n\t\t\t\t\t\tif( $t.p.onSelectRow) { $t.p.onSelectRow.call($t, pt.id, stat, e); }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//unselect selectall checkbox when deselecting a specific row\r\n\t\t\t\t$t.setHeadCheckBox( false );\r\n\t\t\t\t$t.p.selrow = pt.id;\r\n\t\t\t\tia = $.inArray($t.p.selrow,$t.p.selarrrow);\r\n\t\t\t\tif (  ia === -1 ){\r\n\t\t\t\t\tif(pt.className !== \"ui-subgrid\") { $(pt).addClass(\"ui-state-highlight\").attr(\"aria-selected\",\"true\");}\r\n\t\t\t\t\tstat = true;\r\n\t\t\t\t\t$t.p.selarrrow.push($t.p.selrow);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(pt.className !== \"ui-subgrid\") { $(pt).removeClass(\"ui-state-highlight\").attr(\"aria-selected\",\"false\");}\r\n\t\t\t\t\tstat = false;\r\n\t\t\t\t\t$t.p.selarrrow.splice(ia,1);\r\n\t\t\t\t\ttpsr = $t.p.selarrrow[0];\r\n\t\t\t\t\t$t.p.selrow = (tpsr === undefined) ? null : tpsr;\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID($t.p.id)+\"_\"+$.jgrid.jqID(pt.id))[$t.p.useProp ? 'prop': 'attr'](\"checked\",stat);\r\n\t\t\t\tif(fid) {\r\n\t\t\t\t\tif(ia === -1) {\r\n\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(selection), \"#\"+$.jgrid.jqID(fid)).addClass(\"ui-state-highlight\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(selection), \"#\"+$.jgrid.jqID(fid)).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID($t.p.id)+\"_\"+$.jgrid.jqID(selection), \"#\"+$.jgrid.jqID(fid))[$t.p.useProp ? 'prop': 'attr'](\"checked\",stat);\r\n\t\t\t\t}\r\n\t\t\t\tif( onsr ) {\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridSelectRow\", [pt.id, stat, e]);\r\n\t\t\t\t\tif( $t.p.onSelectRow) { $t.p.onSelectRow.call($t, pt.id , stat, e); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tresetSelection : function( rowid ){\r\n\t\treturn this.each(function(){\r\n\t\t\tvar t = this, sr, fid;\r\n\t\t\tif( t.p.frozenColumns === true ) {\r\n\t\t\t\tfid = t.p.id+\"_frozen\";\r\n\t\t\t}\r\n\t\t\tif(rowid !== undefined ) {\r\n\t\t\t\tsr = rowid === t.p.selrow ? t.p.selrow : rowid;\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID(t.p.id)+\" tbody:first tr#\"+$.jgrid.jqID(sr)).removeClass(\"ui-state-highlight\").attr(\"aria-selected\",\"false\");\r\n\t\t\t\tif (fid) { $(\"#\"+$.jgrid.jqID(sr), \"#\"+$.jgrid.jqID(fid)).removeClass(\"ui-state-highlight\"); }\r\n\t\t\t\tif(t.p.multiselect) {\r\n\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(t.p.id)+\"_\"+$.jgrid.jqID(sr), \"#\"+$.jgrid.jqID(t.p.id))[t.p.useProp ? 'prop': 'attr'](\"checked\",false);\r\n\t\t\t\t\tif(fid) { $(\"#jqg_\"+$.jgrid.jqID(t.p.id)+\"_\"+$.jgrid.jqID(sr), \"#\"+$.jgrid.jqID(fid))[t.p.useProp ? 'prop': 'attr'](\"checked\",false); }\r\n\t\t\t\t\tt.setHeadCheckBox( false);\r\n\t\t\t\t}\r\n\t\t\t\tsr = null;\r\n\t\t\t} else if(!t.p.multiselect) {\r\n\t\t\t\tif(t.p.selrow) {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID(t.p.id)+\" tbody:first tr#\"+$.jgrid.jqID(t.p.selrow)).removeClass(\"ui-state-highlight\").attr(\"aria-selected\",\"false\");\r\n\t\t\t\t\tif(fid) { $(\"#\"+$.jgrid.jqID(t.p.selrow), \"#\"+$.jgrid.jqID(fid)).removeClass(\"ui-state-highlight\"); }\r\n\t\t\t\t\tt.p.selrow = null;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$(t.p.selarrrow).each(function(i,n){\r\n\t\t\t\t\t$( $(t).jqGrid('getGridRowById',n) ).removeClass(\"ui-state-highlight\").attr(\"aria-selected\",\"false\");\r\n\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(t.p.id)+\"_\"+$.jgrid.jqID(n))[t.p.useProp ? 'prop': 'attr'](\"checked\",false);\r\n\t\t\t\t\tif(fid) {\r\n\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(n), \"#\"+$.jgrid.jqID(fid)).removeClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t$(\"#jqg_\"+$.jgrid.jqID(t.p.id)+\"_\"+$.jgrid.jqID(n), \"#\"+$.jgrid.jqID(fid))[t.p.useProp ? 'prop': 'attr'](\"checked\",false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tt.setHeadCheckBox( false );\r\n\t\t\t\tt.p.selarrrow = [];\r\n\t\t\t\tt.p.selrow = null;\r\n\t\t\t}\r\n\t\t\tif(t.p.cellEdit === true) {\r\n\t\t\t\tif(parseInt(t.p.iCol,10)>=0  && parseInt(t.p.iRow,10)>=0) {\r\n\t\t\t\t\t$(\"td:eq(\"+t.p.iCol+\")\",t.rows[t.p.iRow]).removeClass(\"edit-cell ui-state-highlight\");\r\n\t\t\t\t\t$(t.rows[t.p.iRow]).removeClass(\"selected-row ui-state-hover\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tt.p.savedRow = [];\r\n\t\t});\r\n\t},\r\n\tgetRowData : function( rowid ) {\r\n\t\tvar res = {}, resall, getall=false, len, j=0;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this,nm,ind;\r\n\t\t\tif(rowid === undefined) {\r\n\t\t\t\tgetall = true;\r\n\t\t\t\tresall = [];\r\n\t\t\t\tlen = $t.rows.length;\r\n\t\t\t} else {\r\n\t\t\t\tind = $($t).jqGrid('getGridRowById', rowid);\r\n\t\t\t\tif(!ind) { return res; }\r\n\t\t\t\tlen = 2;\r\n\t\t\t}\r\n\t\t\twhile(j<len){\r\n\t\t\t\tif(getall) { ind = $t.rows[j]; }\r\n\t\t\t\tif( $(ind).hasClass('jqgrow') ) {\r\n\t\t\t\t\t$('td[role=\"gridcell\"]',ind).each( function(i) {\r\n\t\t\t\t\t\tnm = $t.p.colModel[i].name;\r\n\t\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && nm !== 'rn') {\r\n\t\t\t\t\t\t\tif($t.p.treeGrid===true && nm === $t.p.ExpandColumn) {\r\n\t\t\t\t\t\t\t\tres[nm] = $.jgrid.htmlDecode($(\"span:first\",this).html());\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tres[nm] = $.unformat.call($t,this,{rowId:ind.id, colModel:$t.p.colModel[i]},i);\r\n\t\t\t\t\t\t\t\t} catch (e){\r\n\t\t\t\t\t\t\t\t\tres[nm] = $.jgrid.htmlDecode($(this).html());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(getall) { resall.push(res); res={}; }\r\n\t\t\t\t}\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn resall || res;\r\n\t},\r\n\tdelRowData : function(rowid) {\r\n\t\tvar success = false, rowInd, ia;\r\n\t\tthis.each(function() {\r\n\t\t\tvar $t = this;\r\n\t\t\trowInd = $($t).jqGrid('getGridRowById', rowid);\r\n\t\t\tif(!rowInd) {return false;}\r\n\t\t\t\t$(rowInd).remove();\r\n\t\t\t\t$t.p.records--;\r\n\t\t\t\t$t.p.reccount--;\r\n\t\t\t\t$t.updatepager(true,false);\r\n\t\t\t\tsuccess=true;\r\n\t\t\t\tif($t.p.multiselect) {\r\n\t\t\t\t\tia = $.inArray(rowid,$t.p.selarrrow);\r\n\t\t\t\t\tif(ia !== -1) { $t.p.selarrrow.splice(ia,1);}\r\n\t\t\t\t}\r\n\t\t\t\tif ($t.p.multiselect && $t.p.selarrrow.length > 0) {\r\n\t\t\t\t\t$t.p.selrow = $t.p.selarrrow[$t.p.selarrrow.length-1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$t.p.selrow = null;\r\n\t\t\t\t}\r\n\t\t\tif($t.p.datatype === 'local') {\r\n\t\t\t\tvar id = $.jgrid.stripPref($t.p.idPrefix, rowid),\r\n\t\t\t\tpos = $t.p._index[id];\r\n\t\t\t\tif(pos !== undefined) {\r\n\t\t\t\t\t$t.p.data.splice(pos,1);\r\n\t\t\t\t\t$t.refreshIndex();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( $t.p.altRows === true && success ) {\r\n\t\t\t\tvar cn = $t.p.altclass;\r\n\t\t\t\t$($t.rows).each(function(i){\r\n\t\t\t\t\tif(i % 2 === 1) { $(this).addClass(cn); }\r\n\t\t\t\t\telse { $(this).removeClass(cn); }\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn success;\r\n\t},\r\n\tsetRowData : function(rowid, data, cssp) {\r\n\t\tvar nm, success=true, title;\r\n\t\tthis.each(function(){\r\n\t\t\tif(!this.grid) {return false;}\r\n\t\t\tvar t = this, vl, ind, cp = typeof cssp, lcdata={};\r\n\t\t\tind = $(this).jqGrid('getGridRowById', rowid);\r\n\t\t\tif(!ind) { return false; }\r\n\t\t\tif( data ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$(this.p.colModel).each(function(i){\r\n\t\t\t\t\t\tnm = this.name;\r\n\t\t\t\t\t\tvar dval =$.jgrid.getAccessor(data,nm);\r\n\t\t\t\t\t\tif( dval !== undefined) {\r\n\t\t\t\t\t\t\tlcdata[nm] = this.formatter && typeof this.formatter === 'string' && this.formatter === 'date' ? $.unformat.date.call(t,dval,this) : dval;\r\n\t\t\t\t\t\t\tvl = t.formatter( rowid, dval, i, data, 'edit');\r\n\t\t\t\t\t\t\ttitle = this.title ? {\"title\":$.jgrid.stripHtml(vl)} : {};\r\n\t\t\t\t\t\t\tif(t.p.treeGrid===true && nm === t.p.ExpandColumn) {\r\n\t\t\t\t\t\t\t\t$(\"td[role='gridcell']:eq(\"+i+\") > span:first\",ind).html(vl).attr(title);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(\"td[role='gridcell']:eq(\"+i+\")\",ind).html(vl).attr(title);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(t.p.datatype === 'local') {\r\n\t\t\t\t\t\tvar id = $.jgrid.stripPref(t.p.idPrefix, rowid),\r\n\t\t\t\t\t\tpos = t.p._index[id], key;\r\n\t\t\t\t\t\tif(t.p.treeGrid) {\r\n\t\t\t\t\t\t\tfor(key in t.p.treeReader){\r\n\t\t\t\t\t\t\t\tif(t.p.treeReader.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\t\tdelete lcdata[t.p.treeReader[key]];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(pos !== undefined) {\r\n\t\t\t\t\t\t\tt.p.data[pos] = $.extend(true, t.p.data[pos], lcdata);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlcdata = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tsuccess = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(success) {\r\n\t\t\t\tif(cp === 'string') {$(ind).addClass(cssp);} else if(cssp !== null && cp === 'object') {$(ind).css(cssp);}\r\n\t\t\t\t$(t).triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn success;\r\n\t},\r\n\taddRowData : function(rowid,rdata,pos,src) {\r\n\t\tif(!pos) {pos = \"last\";}\r\n\t\tvar success = false, nm, row, gi, si, ni,sind, i, v, prp=\"\", aradd, cnm, cn, data, cm, id;\r\n\t\tif(rdata) {\r\n\t\t\tif($.isArray(rdata)) {\r\n\t\t\t\taradd=true;\r\n\t\t\t\tpos = \"last\";\r\n\t\t\t\tcnm = rowid;\r\n\t\t\t} else {\r\n\t\t\t\trdata = [rdata];\r\n\t\t\t\taradd = false;\r\n\t\t\t}\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar t = this, datalen = rdata.length;\r\n\t\t\t\tni = t.p.rownumbers===true ? 1 :0;\r\n\t\t\t\tgi = t.p.multiselect ===true ? 1 :0;\r\n\t\t\t\tsi = t.p.subGrid===true ? 1 :0;\r\n\t\t\t\tif(!aradd) {\r\n\t\t\t\t\tif(rowid !== undefined) { rowid = String(rowid);}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\trowid = $.jgrid.randId();\r\n\t\t\t\t\t\tif(t.p.keyIndex !== false) {\r\n\t\t\t\t\t\t\tcnm = t.p.colModel[t.p.keyIndex+gi+si+ni].name;\r\n\t\t\t\t\t\t\tif(rdata[0][cnm] !== undefined) { rowid = rdata[0][cnm]; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcn = t.p.altclass;\r\n\t\t\t\tvar k = 0, cna =\"\", lcdata = {},\r\n\t\t\t\tair = $.isFunction(t.p.afterInsertRow) ? true : false;\r\n\t\t\t\twhile(k < datalen) {\r\n\t\t\t\t\tdata = rdata[k];\r\n\t\t\t\t\trow=[];\r\n\t\t\t\t\tif(aradd) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\trowid = data[cnm];\r\n\t\t\t\t\t\t\tif(rowid===undefined) {\r\n\t\t\t\t\t\t\t\trowid = $.jgrid.randId();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (e) {rowid = $.jgrid.randId();}\r\n\t\t\t\t\t\tcna = t.p.altRows === true ?  (t.rows.length-1)%2 === 0 ? cn : \"\" : \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tid = rowid;\r\n\t\t\t\t\trowid  = t.p.idPrefix + rowid;\r\n\t\t\t\t\tif(ni){\r\n\t\t\t\t\t\tprp = t.formatCol(0,1,'',null,rowid, true);\r\n\t\t\t\t\t\trow[row.length] = \"<td role=\\\"gridcell\\\" class=\\\"ui-state-default jqgrid-rownum\\\" \"+prp+\">0</td>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(gi) {\r\n\t\t\t\t\t\tv = \"<input role=\\\"checkbox\\\" type=\\\"checkbox\\\"\"+\" id=\\\"jqg_\"+t.p.id+\"_\"+rowid+\"\\\" class=\\\"cbox\\\"/>\";\r\n\t\t\t\t\t\tprp = t.formatCol(ni,1,'', null, rowid, true);\r\n\t\t\t\t\t\trow[row.length] = \"<td role=\\\"gridcell\\\" \"+prp+\">\"+v+\"</td>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(si) {\r\n\t\t\t\t\t\trow[row.length] = $(t).jqGrid(\"addSubGridCell\",gi+ni,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(i = gi+si+ni; i < t.p.colModel.length;i++){\r\n\t\t\t\t\t\tcm = t.p.colModel[i];\r\n\t\t\t\t\t\tnm = cm.name;\r\n\t\t\t\t\t\tlcdata[nm] = data[nm];\r\n\t\t\t\t\t\tv = t.formatter( rowid, $.jgrid.getAccessor(data,nm), i, data );\r\n\t\t\t\t\t\tprp = t.formatCol(i,1,v, data, rowid, lcdata);\r\n\t\t\t\t\t\trow[row.length] = \"<td role=\\\"gridcell\\\" \"+prp+\">\"+v+\"</td>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\trow.unshift( t.constructTr(rowid, false, cna, lcdata, data, false ) );\r\n\t\t\t\t\trow[row.length] = \"</tr>\";\r\n\t\t\t\t\tif(t.rows.length === 0){\r\n\t\t\t\t\t\t$(\"table:first\",t.grid.bDiv).append(row.join(''));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tswitch (pos) {\r\n\t\t\t\t\t\t\tcase 'last':\r\n\t\t\t\t\t\t\t\t$(t.rows[t.rows.length-1]).after(row.join(''));\r\n\t\t\t\t\t\t\t\tsind = t.rows.length-1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'first':\r\n\t\t\t\t\t\t\t\t$(t.rows[0]).after(row.join(''));\r\n\t\t\t\t\t\t\t\tsind = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'after':\r\n\t\t\t\t\t\t\t\tsind = $(t).jqGrid('getGridRowById', src);\r\n\t\t\t\t\t\t\t\tif (sind) {\r\n\t\t\t\t\t\t\t\t\tif($(t.rows[sind.rowIndex+1]).hasClass(\"ui-subgrid\")) { $(t.rows[sind.rowIndex+1]).after(row); }\r\n\t\t\t\t\t\t\t\t\telse { $(sind).after(row.join('')); }\r\n\t\t\t\t\t\t\t\t\tsind=sind.rowIndex + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'before':\r\n\t\t\t\t\t\t\t\tsind = $(t).jqGrid('getGridRowById', src);\r\n\t\t\t\t\t\t\t\tif(sind) {\r\n\t\t\t\t\t\t\t\t\t$(sind).before(row.join(''));\r\n\t\t\t\t\t\t\t\t\tsind=sind.rowIndex - 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(t.p.subGrid===true) {\r\n\t\t\t\t\t\t$(t).jqGrid(\"addSubGrid\",gi+ni, sind);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tt.p.records++;\r\n\t\t\t\t\tt.p.reccount++;\r\n\t\t\t\t\t$(t).triggerHandler(\"jqGridAfterInsertRow\", [rowid,data,data]);\r\n\t\t\t\t\tif(air) { t.p.afterInsertRow.call(t,rowid,data,data); }\r\n\t\t\t\t\tk++;\r\n\t\t\t\t\tif(t.p.datatype === 'local') {\r\n\t\t\t\t\t\tlcdata[t.p.localReader.id] = id;\r\n\t\t\t\t\t\tt.p._index[id] = t.p.data.length;\r\n\t\t\t\t\t\tt.p.data.push(lcdata);\r\n\t\t\t\t\t\tlcdata = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif( t.p.altRows === true && !aradd) {\r\n\t\t\t\t\tif (pos === \"last\") {\r\n\t\t\t\t\t\tif ((t.rows.length-1)%2 === 1)  {$(t.rows[t.rows.length-1]).addClass(cn);}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(t.rows).each(function(i){\r\n\t\t\t\t\t\t\tif(i % 2 ===1) { $(this).addClass(cn); }\r\n\t\t\t\t\t\t\telse { $(this).removeClass(cn); }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tt.updatepager(true,true);\r\n\t\t\t\tsuccess = true;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn success;\r\n\t},\r\n\tfooterData : function(action,data, format) {\r\n\t\tvar nm, success=false, res={}, title;\r\n\t\tfunction isEmpty(obj) {\r\n\t\t\tvar i;\r\n\t\t\tfor(i in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(i)) { return false; }\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(action == undefined) { action = \"get\"; }\r\n\t\tif(typeof format !== \"boolean\") { format  = true; }\r\n\t\taction = action.toLowerCase();\r\n\t\tthis.each(function(){\r\n\t\t\tvar t = this, vl;\r\n\t\t\tif(!t.grid || !t.p.footerrow) {return false;}\r\n\t\t\tif(action === \"set\") { if(isEmpty(data)) { return false; } }\r\n\t\t\tsuccess=true;\r\n\t\t\t$(this.p.colModel).each(function(i){\r\n\t\t\t\tnm = this.name;\r\n\t\t\t\tif(action === \"set\") {\r\n\t\t\t\t\tif( data[nm] !== undefined) {\r\n\t\t\t\t\t\tvl = format ? t.formatter( \"\", data[nm], i, data, 'edit') : data[nm];\r\n\t\t\t\t\t\ttitle = this.title ? {\"title\":$.jgrid.stripHtml(vl)} : {};\r\n\t\t\t\t\t\t$(\"tr.footrow td:eq(\"+i+\")\",t.grid.sDiv).html(vl).attr(title);\r\n\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(action === \"get\") {\r\n\t\t\t\t\tres[nm] = $(\"tr.footrow td:eq(\"+i+\")\",t.grid.sDiv).html();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn action === \"get\" ? res : success;\r\n\t},\r\n\tshowHideCol : function(colname,show) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $t = this, fndh=false, brd=$.jgrid.cell_width ? 0: $t.p.cellLayout, cw;\r\n\t\t\tif (!$t.grid ) {return;}\r\n\t\t\tif( typeof colname === 'string') {colname=[colname];}\r\n\t\t\tshow = show !== \"none\" ? \"\" : \"none\";\r\n\t\t\tvar sw = show === \"\" ? true :false,\r\n\t\t\tgh = $t.p.groupHeader && (typeof $t.p.groupHeader === 'object' || $.isFunction($t.p.groupHeader) );\r\n\t\t\tif(gh) { $($t).jqGrid('destroyGroupHeader', false); }\r\n\t\t\t$(this.p.colModel).each(function(i) {\r\n\t\t\t\tif ($.inArray(this.name,colname) !== -1 && this.hidden === sw) {\r\n\t\t\t\t\tif($t.p.frozenColumns === true && this.frozen === true) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\"tr[role=rowheader]\",$t.grid.hDiv).each(function(){\r\n\t\t\t\t\t\t$(this.cells[i]).css(\"display\", show);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$($t.rows).each(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass(\"jqgroup\")) {\r\n\t\t\t\t\t\t\t$(this.cells[i]).css(\"display\", show);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif($t.p.footerrow) { $(\"tr.footrow td:eq(\"+i+\")\", $t.grid.sDiv).css(\"display\", show); }\r\n\t\t\t\t\tcw =  parseInt(this.width,10);\r\n\t\t\t\t\tif(show === \"none\") {\r\n\t\t\t\t\t\t$t.p.tblwidth -= cw+brd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$t.p.tblwidth += cw+brd;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hidden = !sw;\r\n\t\t\t\t\tfndh=true;\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridShowHideCol\", [sw,this.name,i]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(fndh===true) {\r\n\t\t\t\tif($t.p.shrinkToFit === true && !isNaN($t.p.height)) { $t.p.tblwidth += parseInt($t.p.scrollOffset,10);}\r\n\t\t\t\t$($t).jqGrid(\"setGridWidth\",$t.p.shrinkToFit === true ? $t.p.tblwidth : $t.p.width );\r\n\t\t\t}\r\n\t\t\tif( gh )  {\r\n\t\t\t\t$($t).jqGrid('setGroupHeaders',$t.p.groupHeader);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\thideCol : function (colname) {\r\n\t\treturn this.each(function(){$(this).jqGrid(\"showHideCol\",colname,\"none\");});\r\n\t},\r\n\tshowCol : function(colname) {\r\n\t\treturn this.each(function(){$(this).jqGrid(\"showHideCol\",colname,\"\");});\r\n\t},\r\n\tremapColumns : function(permutation, updateCells, keepHeader)\r\n\t{\r\n\t\tfunction resortArray(a) {\r\n\t\t\tvar ac;\r\n\t\t\tif (a.length) {\r\n\t\t\t\tac = $.makeArray(a);\r\n\t\t\t} else {\r\n\t\t\t\tac = $.extend({}, a);\r\n\t\t\t}\r\n\t\t\t$.each(permutation, function(i) {\r\n\t\t\t\ta[i] = ac[this];\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar ts = this.get(0);\r\n\t\tfunction resortRows(parent, clobj) {\r\n\t\t\t$(\">tr\"+(clobj||\"\"), parent).each(function() {\r\n\t\t\t\tvar row = this;\r\n\t\t\t\tvar elems = $.makeArray(row.cells);\r\n\t\t\t\t$.each(permutation, function() {\r\n\t\t\t\t\tvar e = elems[this];\r\n\t\t\t\t\tif (e) {\r\n\t\t\t\t\t\trow.appendChild(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tresortArray(ts.p.colModel);\r\n\t\tresortArray(ts.p.colNames);\r\n\t\tresortArray(ts.grid.headers);\r\n\t\tresortRows($(\"thead:first\", ts.grid.hDiv), keepHeader && \":not(.ui-jqgrid-labels)\");\r\n\t\tif (updateCells) {\r\n\t\t\tresortRows($(\"#\"+$.jgrid.jqID(ts.p.id)+\" tbody:first\"), \".jqgfirstrow, tr.jqgrow, tr.jqfoot\");\r\n\t\t}\r\n\t\tif (ts.p.footerrow) {\r\n\t\t\tresortRows($(\"tbody:first\", ts.grid.sDiv));\r\n\t\t}\r\n\t\tif (ts.p.remapColumns) {\r\n\t\t\tif (!ts.p.remapColumns.length){\r\n\t\t\t\tts.p.remapColumns = $.makeArray(permutation);\r\n\t\t\t} else {\r\n\t\t\t\tresortArray(ts.p.remapColumns);\r\n\t\t\t}\r\n\t\t}\r\n\t\tts.p.lastsort = $.inArray(ts.p.lastsort, permutation);\r\n\t\tif(ts.p.treeGrid) { ts.p.expColInd = $.inArray(ts.p.expColInd, permutation); }\r\n\t\t$(ts).triggerHandler(\"jqGridRemapColumns\", [permutation, updateCells, keepHeader]);\r\n\t},\r\n\tsetGridWidth : function(nwidth, shrink) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif (!this.grid ) {return;}\r\n\t\t\tvar $t = this, cw,\r\n\t\t\tinitwidth = 0, brd=$.jgrid.cell_width ? 0: $t.p.cellLayout, lvc, vc=0, hs=false, scw=$t.p.scrollOffset, aw, gw=0, cr;\r\n\t\t\tif(typeof shrink !== 'boolean') {\r\n\t\t\t\tshrink=$t.p.shrinkToFit;\r\n\t\t\t}\r\n\t\t\tif(isNaN(nwidth)) {return;}\r\n\t\t\tnwidth = parseInt(nwidth,10);\r\n\t\t\t$t.grid.width = $t.p.width = nwidth;\r\n\t\t\t$(\"#gbox_\"+$.jgrid.jqID($t.p.id)).css(\"width\",nwidth+\"px\");\r\n\t\t\t$(\"#gview_\"+$.jgrid.jqID($t.p.id)).css(\"width\",nwidth+\"px\");\r\n\t\t\t$($t.grid.bDiv).css(\"width\",nwidth+\"px\");\r\n\t\t\t$($t.grid.hDiv).css(\"width\",nwidth+\"px\");\r\n\t\t\tif($t.p.pager ) {$($t.p.pager).css(\"width\",nwidth+\"px\");}\r\n\t\t\tif($t.p.toppager ) {$($t.p.toppager).css(\"width\",nwidth+\"px\");}\r\n\t\t\tif($t.p.toolbar[0] === true){\r\n\t\t\t\t$($t.grid.uDiv).css(\"width\",nwidth+\"px\");\r\n\t\t\t\tif($t.p.toolbar[1]===\"both\") {$($t.grid.ubDiv).css(\"width\",nwidth+\"px\");}\r\n\t\t\t}\r\n\t\t\tif($t.p.footerrow) { $($t.grid.sDiv).css(\"width\",nwidth+\"px\"); }\r\n\t\t\tif(shrink ===false && $t.p.forceFit === true) {$t.p.forceFit=false;}\r\n\t\t\tif(shrink===true) {\r\n\t\t\t\t$.each($t.p.colModel, function() {\r\n\t\t\t\t\tif(this.hidden===false){\r\n\t\t\t\t\t\tcw = this.widthOrg;\r\n\t\t\t\t\t\tinitwidth += cw+brd;\r\n\t\t\t\t\t\tif(this.fixed) {\r\n\t\t\t\t\t\t\tgw += cw+brd;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvc++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(vc  === 0) { return; }\r\n\t\t\t\t$t.p.tblwidth = initwidth;\r\n\t\t\t\taw = nwidth-brd*vc-gw;\r\n\t\t\t\tif(!isNaN($t.p.height)) {\r\n\t\t\t\t\tif($($t.grid.bDiv)[0].clientHeight < $($t.grid.bDiv)[0].scrollHeight || $t.rows.length === 1){\r\n\t\t\t\t\t\ths = true;\r\n\t\t\t\t\t\taw -= scw;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tinitwidth =0;\r\n\t\t\t\tvar cle = $t.grid.cols.length >0;\r\n\t\t\t\t$.each($t.p.colModel, function(i) {\r\n\t\t\t\t\tif(this.hidden === false && !this.fixed){\r\n\t\t\t\t\t\tcw = this.widthOrg;\r\n\t\t\t\t\t\tcw = Math.round(aw*cw/($t.p.tblwidth-brd*vc-gw));\r\n\t\t\t\t\t\tif (cw < 0) { return; }\r\n\t\t\t\t\t\tthis.width =cw;\r\n\t\t\t\t\t\tinitwidth += cw;\r\n\t\t\t\t\t\t$t.grid.headers[i].width=cw;\r\n\t\t\t\t\t\t$t.grid.headers[i].el.style.width=cw+\"px\";\r\n\t\t\t\t\t\tif($t.p.footerrow) { $t.grid.footers[i].style.width = cw+\"px\"; }\r\n\t\t\t\t\t\tif(cle) { $t.grid.cols[i].style.width = cw+\"px\"; }\r\n\t\t\t\t\t\tlvc = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!lvc) { return; }\r\n\r\n\t\t\t\tcr =0;\r\n\t\t\t\tif (hs) {\r\n\t\t\t\t\tif(nwidth-gw-(initwidth+brd*vc) !== scw){\r\n\t\t\t\t\t\tcr = nwidth-gw-(initwidth+brd*vc)-scw;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if( Math.abs(nwidth-gw-(initwidth+brd*vc)) !== 1) {\r\n\t\t\t\t\tcr = nwidth-gw-(initwidth+brd*vc);\r\n\t\t\t\t}\r\n\t\t\t\t$t.p.colModel[lvc].width += cr;\r\n\t\t\t\t$t.p.tblwidth = initwidth+cr+brd*vc+gw;\r\n\t\t\t\tif($t.p.tblwidth > nwidth) {\r\n\t\t\t\t\tvar delta = $t.p.tblwidth - parseInt(nwidth,10);\r\n\t\t\t\t\t$t.p.tblwidth = nwidth;\r\n\t\t\t\t\tcw = $t.p.colModel[lvc].width = $t.p.colModel[lvc].width-delta;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcw= $t.p.colModel[lvc].width;\r\n\t\t\t\t}\r\n\t\t\t\t$t.grid.headers[lvc].width = cw;\r\n\t\t\t\t$t.grid.headers[lvc].el.style.width=cw+\"px\";\r\n\t\t\t\tif(cle) { $t.grid.cols[lvc].style.width = cw+\"px\"; }\r\n\t\t\t\tif($t.p.footerrow) {\r\n\t\t\t\t\t$t.grid.footers[lvc].style.width = cw+\"px\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif($t.p.tblwidth) {\r\n\t\t\t\t$('table:first',$t.grid.bDiv).css(\"width\",$t.p.tblwidth+\"px\");\r\n\t\t\t\t$('table:first',$t.grid.hDiv).css(\"width\",$t.p.tblwidth+\"px\");\r\n\t\t\t\t$t.grid.hDiv.scrollLeft = $t.grid.bDiv.scrollLeft;\r\n\t\t\t\tif($t.p.footerrow) {\r\n\t\t\t\t\t$('table:first',$t.grid.sDiv).css(\"width\",$t.p.tblwidth+\"px\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsetGridHeight : function (nh) {\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tvar bDiv = $($t.grid.bDiv);\r\n\t\t\tbDiv.css({height: nh+(isNaN(nh)?\"\":\"px\")});\r\n\t\t\tif($t.p.frozenColumns === true){\r\n\t\t\t\t//follow the original set height to use 16, better scrollbar width detection\r\n\t\t\t\t$('#'+$.jgrid.jqID($t.p.id)+\"_frozen\").parent().height(bDiv.height() - 16);\r\n\t\t\t}\r\n\t\t\t$t.p.height = nh;\r\n\t\t\tif ($t.p.scroll) { $t.grid.populateVisible(); }\r\n\t\t});\r\n\t},\r\n\tsetCaption : function (newcap){\r\n\t\treturn this.each(function(){\r\n\t\t\tthis.p.caption=newcap;\r\n\t\t\t$(\"span.ui-jqgrid-title, span.ui-jqgrid-title-rtl\",this.grid.cDiv).html(newcap);\r\n\t\t\t$(this.grid.cDiv).show();\r\n\t\t});\r\n\t},\r\n\tsetLabel : function(colname, nData, prop, attrp ){\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, pos=-1;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(colname !== undefined) {\r\n\t\t\t\t$($t.p.colModel).each(function(i){\r\n\t\t\t\t\tif (this.name === colname) {\r\n\t\t\t\t\t\tpos = i;return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else { return; }\r\n\t\t\tif(pos>=0) {\r\n\t\t\t\tvar thecol = $(\"tr.ui-jqgrid-labels th:eq(\"+pos+\")\",$t.grid.hDiv);\r\n\t\t\t\tif (nData){\r\n\t\t\t\t\tvar ico = $(\".s-ico\",thecol);\r\n\t\t\t\t\t$(\"[id^=jqgh_]\",thecol).empty().html(nData).append(ico);\r\n\t\t\t\t\t$t.p.colNames[pos] = nData;\r\n\t\t\t\t}\r\n\t\t\t\tif (prop) {\r\n\t\t\t\t\tif(typeof prop === 'string') {$(thecol).addClass(prop);} else {$(thecol).css(prop);}\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof attrp === 'object') {$(thecol).attr(attrp);}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsetCell : function(rowid,colname,nData,cssp,attrp, forceupd) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, pos =-1,v, title;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(isNaN(colname)) {\r\n\t\t\t\t$($t.p.colModel).each(function(i){\r\n\t\t\t\t\tif (this.name === colname) {\r\n\t\t\t\t\t\tpos = i;return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {pos = parseInt(colname,10);}\r\n\t\t\tif(pos>=0) {\r\n\t\t\t\tvar ind = $($t).jqGrid('getGridRowById', rowid);\r\n\t\t\t\tif (ind){\r\n\t\t\t\t\tvar tcell = $(\"td:eq(\"+pos+\")\",ind);\r\n\t\t\t\t\tif(nData !== \"\" || forceupd === true) {\r\n\t\t\t\t\t\tv = $t.formatter(rowid, nData, pos,ind,'edit');\r\n\t\t\t\t\t\ttitle = $t.p.colModel[pos].title ? {\"title\":$.jgrid.stripHtml(v)} : {};\r\n\t\t\t\t\t\tif($t.p.treeGrid && $(\".tree-wrap\",$(tcell)).length>0) {\r\n\t\t\t\t\t\t\t$(\"span\",$(tcell)).html(v).attr(title);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(tcell).html(v).attr(title);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif($t.p.datatype === \"local\") {\r\n\t\t\t\t\t\t\tvar cm = $t.p.colModel[pos], index;\r\n\t\t\t\t\t\t\tnData = cm.formatter && typeof cm.formatter === 'string' && cm.formatter === 'date' ? $.unformat.date.call($t,nData,cm) : nData;\r\n\t\t\t\t\t\t\tindex = $t.p._index[$.jgrid.stripPref($t.p.idPrefix, rowid)];\r\n\t\t\t\t\t\t\tif(index !== undefined) {\r\n\t\t\t\t\t\t\t\t$t.p.data[index][cm.name] = nData;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof cssp === 'string'){\r\n\t\t\t\t\t\t$(tcell).addClass(cssp);\r\n\t\t\t\t\t} else if(cssp) {\r\n\t\t\t\t\t\t$(tcell).css(cssp);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof attrp === 'object') {$(tcell).attr(attrp);}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgetCell : function(rowid,col) {\r\n\t\tvar ret = false;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t=this, pos=-1;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(isNaN(col)) {\r\n\t\t\t\t$($t.p.colModel).each(function(i){\r\n\t\t\t\t\tif (this.name === col) {\r\n\t\t\t\t\t\tpos = i;return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {pos = parseInt(col,10);}\r\n\t\t\tif(pos>=0) {\r\n\t\t\t\tvar ind = $($t).jqGrid('getGridRowById', rowid);\r\n\t\t\t\tif(ind) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tret = $.unformat.call($t,$(\"td:eq(\"+pos+\")\",ind),{rowId:ind.id, colModel:$t.p.colModel[pos]},pos);\r\n\t\t\t\t\t} catch (e){\r\n\t\t\t\t\t\tret = $.jgrid.htmlDecode($(\"td:eq(\"+pos+\")\",ind).html());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t},\r\n\tgetCol : function (col, obj, mathopr) {\r\n\t\tvar ret = [], val, sum=0, min, max, v;\r\n\t\tobj = typeof obj !== 'boolean' ? false : obj;\r\n\t\tif(mathopr === undefined) { mathopr = false; }\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t=this, pos=-1;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(isNaN(col)) {\r\n\t\t\t\t$($t.p.colModel).each(function(i){\r\n\t\t\t\t\tif (this.name === col) {\r\n\t\t\t\t\t\tpos = i;return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {pos = parseInt(col,10);}\r\n\t\t\tif(pos>=0) {\r\n\t\t\t\tvar ln = $t.rows.length, i =0, dlen=0;\r\n\t\t\t\tif (ln && ln>0){\r\n\t\t\t\t\twhile(i<ln){\r\n\t\t\t\t\t\tif($($t.rows[i]).hasClass('jqgrow')) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tval = $.unformat.call($t,$($t.rows[i].cells[pos]),{rowId:$t.rows[i].id, colModel:$t.p.colModel[pos]},pos);\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tval = $.jgrid.htmlDecode($t.rows[i].cells[pos].innerHTML);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(mathopr) {\r\n\t\t\t\t\t\t\t\tv = parseFloat(val);\r\n\t\t\t\t\t\t\t\tif(!isNaN(v)) {\r\n\t\t\t\t\t\t\t\t\tsum += v;\r\n\t\t\t\t\t\t\t\t\tif (max === undefined) {max = min = v;}\r\n\t\t\t\t\t\t\t\t\tmin = Math.min(min, v);\r\n\t\t\t\t\t\t\t\t\tmax = Math.max(max, v);\r\n\t\t\t\t\t\t\t\t\tdlen++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(obj) { ret.push( {id:$t.rows[i].id,value:val} ); }\r\n\t\t\t\t\t\t\telse { ret.push( val ); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(mathopr) {\r\n\t\t\t\t\t\tswitch(mathopr.toLowerCase()){\r\n\t\t\t\t\t\t\tcase 'sum': ret =sum; break;\r\n\t\t\t\t\t\t\tcase 'avg': ret = sum/dlen; break;\r\n\t\t\t\t\t\t\tcase 'count': ret = (ln-1); break;\r\n\t\t\t\t\t\t\tcase 'min': ret = min; break;\r\n\t\t\t\t\t\t\tcase 'max': ret = max; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t},\r\n\tclearGridData : function(clearfooter) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(typeof clearfooter !== 'boolean') { clearfooter = false; }\r\n\t\t\tif($t.p.deepempty) {$(\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first tr:gt(0)\").remove();}\r\n\t\t\telse {\r\n\t\t\t\tvar trf = $(\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first tr:first\")[0];\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first\").empty().append(trf);\r\n\t\t\t}\r\n\t\t\tif($t.p.footerrow && clearfooter) { $(\".ui-jqgrid-ftable td\",$t.grid.sDiv).html(\"&#160;\"); }\r\n\t\t\t$t.p.selrow = null; $t.p.selarrrow= []; $t.p.savedRow = [];\r\n\t\t\t$t.p.records = 0;$t.p.page=1;$t.p.lastpage=0;$t.p.reccount=0;\r\n\t\t\t$t.p.data = []; $t.p._index = {};\r\n\t\t\t$t.updatepager(true,false);\r\n\t\t});\r\n\t},\r\n\tgetInd : function(rowid,rc){\r\n\t\tvar ret =false,rw;\r\n\t\tthis.each(function(){\r\n\t\t\trw = $(this).jqGrid('getGridRowById', rowid);\r\n\t\t\tif(rw) {\r\n\t\t\t\tret = rc===true ? rw: rw.rowIndex;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t},\r\n\tbindKeys : function( settings ){\r\n\t\tvar o = $.extend({\r\n\t\t\tonEnter: null,\r\n\t\t\tonSpace: null,\r\n\t\t\tonLeftKey: null,\r\n\t\t\tonRightKey: null,\r\n\t\t\tscrollingRows : true\r\n\t\t},settings || {});\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif( !$('body').is('[role]') ){$('body').attr('role','application');}\r\n\t\t\t$t.p.scrollrows = o.scrollingRows;\r\n\t\t\t$($t).keydown(function(event){\r\n\t\t\t\tvar target = $($t).find('tr[tabindex=0]')[0], id, r, mind,\r\n\t\t\t\texpanded = $t.p.treeReader.expanded_field;\r\n\t\t\t\t//check for arrow keys\r\n\t\t\t\tif(target) {\r\n\t\t\t\t\tmind = $t.p._index[$.jgrid.stripPref($t.p.idPrefix, target.id)];\r\n\t\t\t\t\tif(event.keyCode === 37 || event.keyCode === 38 || event.keyCode === 39 || event.keyCode === 40){\r\n\t\t\t\t\t\t// up key\r\n\t\t\t\t\t\tif(event.keyCode === 38 ){\r\n\t\t\t\t\t\t\tr = target.previousSibling;\r\n\t\t\t\t\t\t\tid = \"\";\r\n\t\t\t\t\t\t\tif(r) {\r\n\t\t\t\t\t\t\t\tif($(r).is(\":hidden\")) {\r\n\t\t\t\t\t\t\t\t\twhile(r) {\r\n\t\t\t\t\t\t\t\t\t\tr = r.previousSibling;\r\n\t\t\t\t\t\t\t\t\t\tif(!$(r).is(\":hidden\") && $(r).hasClass('jqgrow')) {id = r.id;break;}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tid = r.id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).jqGrid('setSelection', id, true, event);\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//if key is down arrow\r\n\t\t\t\t\t\tif(event.keyCode === 40){\r\n\t\t\t\t\t\t\tr = target.nextSibling;\r\n\t\t\t\t\t\t\tid =\"\";\r\n\t\t\t\t\t\t\tif(r) {\r\n\t\t\t\t\t\t\t\tif($(r).is(\":hidden\")) {\r\n\t\t\t\t\t\t\t\t\twhile(r) {\r\n\t\t\t\t\t\t\t\t\t\tr = r.nextSibling;\r\n\t\t\t\t\t\t\t\t\t\tif(!$(r).is(\":hidden\") && $(r).hasClass('jqgrow') ) {id = r.id;break;}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tid = r.id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).jqGrid('setSelection', id, true, event);\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// left\r\n\t\t\t\t\t\tif(event.keyCode === 37 ){\r\n\t\t\t\t\t\t\tif($t.p.treeGrid && $t.p.data[mind][expanded]) {\r\n\t\t\t\t\t\t\t\t$(target).find(\"div.treeclick\").trigger('click');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridKeyLeft\", [$t.p.selrow]);\r\n\t\t\t\t\t\t\tif($.isFunction(o.onLeftKey)) {\r\n\t\t\t\t\t\t\t\to.onLeftKey.call($t, $t.p.selrow);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// right\r\n\t\t\t\t\t\tif(event.keyCode === 39 ){\r\n\t\t\t\t\t\t\tif($t.p.treeGrid && !$t.p.data[mind][expanded]) {\r\n\t\t\t\t\t\t\t\t$(target).find(\"div.treeclick\").trigger('click');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridKeyRight\", [$t.p.selrow]);\r\n\t\t\t\t\t\t\tif($.isFunction(o.onRightKey)) {\r\n\t\t\t\t\t\t\t\to.onRightKey.call($t, $t.p.selrow);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//check if enter was pressed on a grid or treegrid node\r\n\t\t\t\t\telse if( event.keyCode === 13 ){\r\n\t\t\t\t\t\t$($t).triggerHandler(\"jqGridKeyEnter\", [$t.p.selrow]);\r\n\t\t\t\t\t\tif($.isFunction(o.onEnter)) {\r\n\t\t\t\t\t\t\to.onEnter.call($t, $t.p.selrow);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if(event.keyCode === 32) {\r\n\t\t\t\t\t\t$($t).triggerHandler(\"jqGridKeySpace\", [$t.p.selrow]);\r\n\t\t\t\t\t\tif($.isFunction(o.onSpace)) {\r\n\t\t\t\t\t\t\to.onSpace.call($t, $t.p.selrow);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tunbindKeys : function(){\r\n\t\treturn this.each(function(){\r\n\t\t\t$(this).unbind('keydown');\r\n\t\t});\r\n\t},\r\n\tgetLocalRow : function (rowid) {\r\n\t\tvar ret = false, ind;\r\n\t\tthis.each(function(){\r\n\t\t\tif(rowid !== undefined) {\r\n\t\t\t\tind = this.p._index[$.jgrid.stripPref(this.p.idPrefix, rowid)];\r\n\t\t\t\tif(ind >= 0 ) {\r\n\t\t\t\t\tret = this.p.data[ind];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t}\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($){\r\n/**\r\n * jqGrid extension for custom methods\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n *\r\n * Wildraid wildraid@mail.ru\r\n * Oleg Kiriljuk oleg.kiriljuk@ok-soft-gmbh.com\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n\"use strict\";\r\n$.jgrid.extend({\r\n\tgetColProp : function(colname){\r\n\t\tvar ret ={}, $t = this[0];\r\n\t\tif ( !$t.grid ) { return false; }\r\n\t\tvar cM = $t.p.colModel, i;\r\n\t\tfor ( i=0;i<cM.length;i++ ) {\r\n\t\t\tif ( cM[i].name === colname ) {\r\n\t\t\t\tret = cM[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t},\r\n\tsetColProp : function(colname, obj){\r\n\t\t//do not set width will not work\r\n\t\treturn this.each(function(){\r\n\t\t\tif ( this.grid ) {\r\n\t\t\t\tif ( obj ) {\r\n\t\t\t\t\tvar cM = this.p.colModel, i;\r\n\t\t\t\t\tfor ( i=0;i<cM.length;i++ ) {\r\n\t\t\t\t\t\tif ( cM[i].name === colname ) {\r\n\t\t\t\t\t\t\t$.extend(true, this.p.colModel[i],obj);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsortGrid : function(colname,reload, sor){\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t=this,idx=-1,i, sobj=false;\r\n\t\t\tif ( !$t.grid ) { return;}\r\n\t\t\tif ( !colname ) { colname = $t.p.sortname; }\r\n\t\t\tfor ( i=0;i<$t.p.colModel.length;i++ ) {\r\n\t\t\t\tif ( $t.p.colModel[i].index === colname || $t.p.colModel[i].name === colname ) {\r\n\t\t\t\t\tidx = i;\r\n\t\t\t\t\tif($t.p.frozenColumns === true && $t.p.colModel[i].frozen === true) {\r\n\t\t\t\t\t\tsobj = $t.grid.fhDiv.find(\"#\" + $t.p.id + \"_\" + colname);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( idx !== -1 ){\r\n\t\t\t\tvar sort = $t.p.colModel[idx].sortable;\r\n\t\t\t\tif(!sobj) {\r\n\t\t\t\t\tsobj = $t.grid.headers[idx].el;\r\n\t\t\t\t}\r\n\t\t\t\tif ( typeof sort !== 'boolean' ) { sort =  true; }\r\n\t\t\t\tif ( typeof reload !=='boolean' ) { reload = false; }\r\n\t\t\t\tif ( sort ) { $t.sortData(\"jqgh_\"+$t.p.id+\"_\" + colname, idx, reload, sor, sobj); }\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tclearBeforeUnload : function () {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar grid = this.grid;\r\n\t\t\tif ($.isFunction(grid.emptyRows)) {\r\n\t\t\t\tgrid.emptyRows.call(this, true, true); // this work quick enough and reduce the size of memory leaks if we have someone\r\n\t\t\t}\r\n\r\n\t\t\t$(document).unbind(\"mouseup.jqGrid\" + this.p.id );\r\n\t\t\t$(grid.hDiv).unbind(\"mousemove\"); // TODO add namespace\r\n\t\t\t$(this).unbind();\r\n\r\n\t\t\tgrid.dragEnd = null;\r\n\t\t\tgrid.dragMove = null;\r\n\t\t\tgrid.dragStart = null;\r\n\t\t\tgrid.emptyRows = null;\r\n\t\t\tgrid.populate = null;\r\n\t\t\tgrid.populateVisible = null;\r\n\t\t\tgrid.scrollGrid = null;\r\n\t\t\tgrid.selectionPreserver = null;\r\n\r\n\t\t\tgrid.bDiv = null;\r\n\t\t\tgrid.cDiv = null;\r\n\t\t\tgrid.hDiv = null;\r\n\t\t\tgrid.cols = null;\r\n\t\t\tvar i, l = grid.headers.length;\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tgrid.headers[i].el = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.formatCol = null;\r\n\t\t\tthis.sortData = null;\r\n\t\t\tthis.updatepager = null;\r\n\t\t\tthis.refreshIndex = null;\r\n\t\t\tthis.setHeadCheckBox = null;\r\n\t\t\tthis.constructTr = null;\r\n\t\t\tthis.formatter = null;\r\n\t\t\tthis.addXmlData = null;\r\n\t\t\tthis.addJSONData = null;\r\n\t\t\tthis.grid = null;\r\n\t\t});\r\n\t},\r\n\tGridDestroy : function () {\r\n\t\treturn this.each(function(){\r\n\t\t\tif ( this.grid ) {\r\n\t\t\t\tif ( this.p.pager ) { // if not part of grid\r\n\t\t\t\t\t$(this.p.pager).remove();\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$(this).jqGrid('clearBeforeUnload');\r\n\t\t\t\t\t$(\"#gbox_\"+$.jgrid.jqID(this.id)).remove();\r\n\t\t\t\t} catch (_) {}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tGridUnload : function(){\r\n\t\treturn this.each(function(){\r\n\t\t\tif ( !this.grid ) {return;}\r\n\t\t\tvar defgrid = {id: $(this).attr('id'),cl: $(this).attr('class')};\r\n\t\t\tif (this.p.pager) {\r\n\t\t\t\t$(this.p.pager).empty().removeClass(\"ui-state-default ui-jqgrid-pager ui-corner-bottom\");\r\n\t\t\t}\r\n\t\t\tvar newtable = document.createElement('table');\r\n\t\t\t$(newtable).attr({id:defgrid.id});\r\n\t\t\tnewtable.className = defgrid.cl;\r\n\t\t\tvar gid = $.jgrid.jqID(this.id);\r\n\t\t\t$(newtable).removeClass(\"ui-jqgrid-btable\");\r\n\t\t\tif( $(this.p.pager).parents(\"#gbox_\"+gid).length === 1 ) {\r\n\t\t\t\t$(newtable).insertBefore(\"#gbox_\"+gid).show();\r\n\t\t\t\t$(this.p.pager).insertBefore(\"#gbox_\"+gid);\r\n\t\t\t} else {\r\n\t\t\t\t$(newtable).insertBefore(\"#gbox_\"+gid).show();\r\n\t\t\t}\r\n\t\t\t$(this).jqGrid('clearBeforeUnload');\r\n\t\t\t$(\"#gbox_\"+gid).remove();\r\n\t\t});\r\n\t},\r\n\tsetGridState : function(state) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif ( !this.grid ) {return;}\r\n\t\t\tvar $t = this;\r\n\t\t\tif(state === 'hidden'){\r\n\t\t\t\t$(\".ui-jqgrid-bdiv, .ui-jqgrid-hdiv\",\"#gview_\"+$.jgrid.jqID($t.p.id)).slideUp(\"fast\");\r\n\t\t\t\tif($t.p.pager) {$($t.p.pager).slideUp(\"fast\");}\r\n\t\t\t\tif($t.p.toppager) {$($t.p.toppager).slideUp(\"fast\");}\r\n\t\t\t\tif($t.p.toolbar[0]===true) {\r\n\t\t\t\t\tif( $t.p.toolbar[1] === 'both') {\r\n\t\t\t\t\t\t$($t.grid.ubDiv).slideUp(\"fast\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$($t.grid.uDiv).slideUp(\"fast\");\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.footerrow) { $(\".ui-jqgrid-sdiv\",\"#gbox_\"+$.jgrid.jqID($t.p.id)).slideUp(\"fast\"); }\r\n\t\t\t\t$(\".ui-jqgrid-titlebar-close span\",$t.grid.cDiv).removeClass(\"ui-icon-circle-triangle-n\").addClass(\"ui-icon-circle-triangle-s\");\r\n\t\t\t\t$t.p.gridstate = 'hidden';\r\n\t\t\t} else if(state === 'visible') {\r\n\t\t\t\t$(\".ui-jqgrid-hdiv, .ui-jqgrid-bdiv\",\"#gview_\"+$.jgrid.jqID($t.p.id)).slideDown(\"fast\");\r\n\t\t\t\tif($t.p.pager) {$($t.p.pager).slideDown(\"fast\");}\r\n\t\t\t\tif($t.p.toppager) {$($t.p.toppager).slideDown(\"fast\");}\r\n\t\t\t\tif($t.p.toolbar[0]===true) {\r\n\t\t\t\t\tif( $t.p.toolbar[1] === 'both') {\r\n\t\t\t\t\t\t$($t.grid.ubDiv).slideDown(\"fast\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$($t.grid.uDiv).slideDown(\"fast\");\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.footerrow) { $(\".ui-jqgrid-sdiv\",\"#gbox_\"+$.jgrid.jqID($t.p.id)).slideDown(\"fast\"); }\r\n\t\t\t\t$(\".ui-jqgrid-titlebar-close span\",$t.grid.cDiv).removeClass(\"ui-icon-circle-triangle-s\").addClass(\"ui-icon-circle-triangle-n\");\r\n\t\t\t\t$t.p.gridstate = 'visible';\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t},\r\n\tfilterToolbar : function(p){\r\n\t\tp = $.extend({\r\n\t\t\tautosearch: true,\r\n\t\t\tsearchOnEnter : true,\r\n\t\t\tbeforeSearch: null,\r\n\t\t\tafterSearch: null,\r\n\t\t\tbeforeClear: null,\r\n\t\t\tafterClear: null,\r\n\t\t\tsearchurl : '',\r\n\t\t\tstringResult: false,\r\n\t\t\tgroupOp: 'AND',\r\n\t\t\tdefaultSearch : \"bw\",\r\n\t\t\tsearchOperators : false,\r\n\t\t\tresetIcon : \"x\",\r\n\t\t\toperands : { \"eq\" :\"==\", \"ne\":\"!\",\"lt\":\"<\",\"le\":\"<=\",\"gt\":\">\",\"ge\":\">=\",\"bw\":\"^\",\"bn\":\"!^\",\"in\":\"=\",\"ni\":\"!=\",\"ew\":\"|\",\"en\":\"!@\",\"cn\":\"~\",\"nc\":\"!~\",\"nu\":\"#\",\"nn\":\"!#\"}\r\n\t\t}, $.jgrid.search , p  || {});\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(this.ftoolbar) { return; }\r\n\t\t\tvar triggerToolbar = function() {\r\n\t\t\t\tvar sdata={}, j=0, v, nm, sopt={},so;\r\n\t\t\t\t$.each($t.p.colModel,function(){\r\n\t\t\t\t\tvar $elem = $(\"#gs_\"+$.jgrid.jqID(this.name), (this.frozen===true && $t.p.frozenColumns === true) ?  $t.grid.fhDiv : $t.grid.hDiv);\r\n\t\t\t\t\tnm = this.index || this.name;\r\n\t\t\t\t\tif(p.searchOperators ) {\r\n\t\t\t\t\t\tso = $elem.parent().prev().children(\"a\").attr(\"soper\") || p.defaultSearch;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tso  = (this.searchoptions && this.searchoptions.sopt) ? this.searchoptions.sopt[0] : this.stype==='select'?  'eq' : p.defaultSearch;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tv = this.stype === \"custom\" && $.isFunction(this.searchoptions.custom_value) && $elem.length > 0 && $elem[0].nodeName.toUpperCase() === \"SPAN\" ?\r\n\t\t\t\t\t\tthis.searchoptions.custom_value.call($t, $elem.children(\".customelement:first\"), \"get\") :\r\n\t\t\t\t\t\t$elem.val();\r\n\t\t\t\t\tif(v || so===\"nu\" || so===\"nn\") {\r\n\t\t\t\t\t\tsdata[nm] = v;\r\n\t\t\t\t\t\tsopt[nm] = so;\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdelete $t.p.postData[nm];\r\n\t\t\t\t\t\t} catch (z) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tvar sd =  j>0 ? true : false;\r\n\t\t\t\tif(p.stringResult === true || $t.p.datatype === \"local\") {\r\n\t\t\t\t\tvar ruleGroup = \"{\\\"groupOp\\\":\\\"\" + p.groupOp + \"\\\",\\\"rules\\\":[\";\r\n\t\t\t\t\tvar gi=0;\r\n\t\t\t\t\t$.each(sdata,function(i,n){\r\n\t\t\t\t\t\tif (gi > 0) {ruleGroup += \",\";}\r\n\t\t\t\t\t\truleGroup += \"{\\\"field\\\":\\\"\" + i + \"\\\",\";\r\n\t\t\t\t\t\truleGroup += \"\\\"op\\\":\\\"\" + sopt[i] + \"\\\",\";\r\n\t\t\t\t\t\tn+=\"\";\r\n\t\t\t\t\t\truleGroup += \"\\\"data\\\":\\\"\" + n.replace(/\\\\/g,'\\\\\\\\').replace(/\\\"/g,'\\\\\"') + \"\\\"}\";\r\n\t\t\t\t\t\tgi++;\r\n\t\t\t\t\t});\r\n\t\t\t\t\truleGroup += \"]}\";\r\n\t\t\t\t\t$.extend($t.p.postData,{filters:ruleGroup});\r\n\t\t\t\t\t$.each(['searchField', 'searchString', 'searchOper'], function(i, n){\r\n\t\t\t\t\t\tif($t.p.postData.hasOwnProperty(n)) { delete $t.p.postData[n];}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.extend($t.p.postData,sdata);\r\n\t\t\t\t}\r\n\t\t\t\tvar saveurl;\r\n\t\t\t\tif($t.p.searchurl) {\r\n\t\t\t\t\tsaveurl = $t.p.url;\r\n\t\t\t\t\t$($t).jqGrid(\"setGridParam\",{url:$t.p.searchurl});\r\n\t\t\t\t}\r\n\t\t\t\tvar bsr = $($t).triggerHandler(\"jqGridToolbarBeforeSearch\") === 'stop' ? true : false;\r\n\t\t\t\tif(!bsr && $.isFunction(p.beforeSearch)){bsr = p.beforeSearch.call($t);}\r\n\t\t\t\tif(!bsr) { $($t).jqGrid(\"setGridParam\",{search:sd}).trigger(\"reloadGrid\",[{page:1}]); }\r\n\t\t\t\tif(saveurl) {$($t).jqGrid(\"setGridParam\",{url:saveurl});}\r\n\t\t\t\t$($t).triggerHandler(\"jqGridToolbarAfterSearch\");\r\n\t\t\t\tif($.isFunction(p.afterSearch)){p.afterSearch.call($t);}\r\n\t\t\t},\r\n\t\t\tclearToolbar = function(trigger){\r\n\t\t\t\tvar sdata={}, j=0, nm;\r\n\t\t\t\ttrigger = (typeof trigger !== 'boolean') ? true : trigger;\r\n\t\t\t\t$.each($t.p.colModel,function(){\r\n\t\t\t\t\tvar v, $elem = $(\"#gs_\"+$.jgrid.jqID(this.name),(this.frozen===true && $t.p.frozenColumns === true) ?  $t.grid.fhDiv : $t.grid.hDiv);\r\n\t\t\t\t\tif(this.searchoptions && this.searchoptions.defaultValue !== undefined) { v = this.searchoptions.defaultValue; }\r\n\t\t\t\t\tnm = this.index || this.name;\r\n\t\t\t\t\tswitch (this.stype) {\r\n\t\t\t\t\t\tcase 'select' :\r\n\t\t\t\t\t\t\t$elem.find(\"option\").each(function (i){\r\n\t\t\t\t\t\t\t\tif(i===0) { this.selected = true; }\r\n\t\t\t\t\t\t\t\tif ($(this).val() === v) {\r\n\t\t\t\t\t\t\t\t\tthis.selected = true;\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif ( v !== undefined ) {\r\n\t\t\t\t\t\t\t\t// post the key and not the text\r\n\t\t\t\t\t\t\t\tsdata[nm] = v;\r\n\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tdelete $t.p.postData[nm];\r\n\t\t\t\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\t$elem.val(v || \"\");\r\n\t\t\t\t\t\t\tif(v !== undefined) {\r\n\t\t\t\t\t\t\t\tsdata[nm] = v;\r\n\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tdelete $t.p.postData[nm];\r\n\t\t\t\t\t\t\t\t} catch (y){}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'custom':\r\n\t\t\t\t\t\t\tif ($.isFunction(this.searchoptions.custom_value) && $elem.length > 0 && $elem[0].nodeName.toUpperCase() === \"SPAN\") {\r\n\t\t\t\t\t\t\t\tthis.searchoptions.custom_value.call($t, $elem.children(\".customelement:first\"), \"set\", v || \"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tvar sd =  j>0 ? true : false;\r\n\t\t\t\t$t.p.resetsearch =  true;\r\n\t\t\t\tif(p.stringResult === true || $t.p.datatype === \"local\") {\r\n\t\t\t\t\tvar ruleGroup = \"{\\\"groupOp\\\":\\\"\" + p.groupOp + \"\\\",\\\"rules\\\":[\";\r\n\t\t\t\t\tvar gi=0;\r\n\t\t\t\t\t$.each(sdata,function(i,n){\r\n\t\t\t\t\t\tif (gi > 0) {ruleGroup += \",\";}\r\n\t\t\t\t\t\truleGroup += \"{\\\"field\\\":\\\"\" + i + \"\\\",\";\r\n\t\t\t\t\t\truleGroup += \"\\\"op\\\":\\\"\" + \"eq\" + \"\\\",\";\r\n\t\t\t\t\t\tn+=\"\";\r\n\t\t\t\t\t\truleGroup += \"\\\"data\\\":\\\"\" + n.replace(/\\\\/g,'\\\\\\\\').replace(/\\\"/g,'\\\\\"') + \"\\\"}\";\r\n\t\t\t\t\t\tgi++;\r\n\t\t\t\t\t});\r\n\t\t\t\t\truleGroup += \"]}\";\r\n\t\t\t\t\t$.extend($t.p.postData,{filters:ruleGroup});\r\n\t\t\t\t\t$.each(['searchField', 'searchString', 'searchOper'], function(i, n){\r\n\t\t\t\t\t\tif($t.p.postData.hasOwnProperty(n)) { delete $t.p.postData[n];}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.extend($t.p.postData,sdata);\r\n\t\t\t\t}\r\n\t\t\t\tvar saveurl;\r\n\t\t\t\tif($t.p.searchurl) {\r\n\t\t\t\t\tsaveurl = $t.p.url;\r\n\t\t\t\t\t$($t).jqGrid(\"setGridParam\",{url:$t.p.searchurl});\r\n\t\t\t\t}\r\n\t\t\t\tvar bcv = $($t).triggerHandler(\"jqGridToolbarBeforeClear\") === 'stop' ? true : false;\r\n\t\t\t\tif(!bcv && $.isFunction(p.beforeClear)){bcv = p.beforeClear.call($t);}\r\n\t\t\t\tif(!bcv) {\r\n\t\t\t\t\tif(trigger) {\r\n\t\t\t\t\t\t$($t).jqGrid(\"setGridParam\",{search:sd}).trigger(\"reloadGrid\",[{page:1}]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(saveurl) {$($t).jqGrid(\"setGridParam\",{url:saveurl});}\r\n\t\t\t\t$($t).triggerHandler(\"jqGridToolbarAfterClear\");\r\n\t\t\t\tif($.isFunction(p.afterClear)){p.afterClear();}\r\n\t\t\t},\r\n\t\t\ttoggleToolbar = function(){\r\n\t\t\t\tvar trow = $(\"tr.ui-search-toolbar\",$t.grid.hDiv),\r\n\t\t\t\ttrow2 = $t.p.frozenColumns === true ?  $(\"tr.ui-search-toolbar\",$t.grid.fhDiv) : false;\r\n\t\t\t\tif(trow.css(\"display\") === 'none') {\r\n\t\t\t\t\ttrow.show();\r\n\t\t\t\t\tif(trow2) {\r\n\t\t\t\t\t\ttrow2.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttrow.hide();\r\n\t\t\t\t\tif(trow2) {\r\n\t\t\t\t\t\ttrow2.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbuildRuleMenu = function( elem, left, top ){\r\n\t\t\t\t$(\"#sopt_menu\").remove();\r\n\r\n\t\t\t\tleft=parseInt(left,10);\r\n\t\t\t\ttop=parseInt(top,10) + 18;\r\n\r\n\t\t\t\tvar fs =  $('.ui-jqgrid-view').css('font-size') || '11px';\r\n\t\t\t\tvar str = '<ul id=\"sopt_menu\" class=\"ui-search-menu\" role=\"menu\" tabindex=\"0\" style=\"font-size:'+fs+';left:'+left+'px;top:'+top+'px;\">',\r\n\t\t\t\tselected = $(elem).attr(\"soper\"), selclass,\r\n\t\t\t\taoprs = [], ina;\r\n\t\t\t\tvar i=0, nm =$(elem).attr(\"colname\"),len = $t.p.colModel.length;\r\n\t\t\t\twhile(i<len) {\r\n\t\t\t\t\tif($t.p.colModel[i].name === nm) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tvar cm = $t.p.colModel[i], options = $.extend({}, cm.searchoptions);\r\n\t\t\t\tif(!options.sopt) {\r\n\t\t\t\t\toptions.sopt = [];\r\n\t\t\t\t\toptions.sopt[0]= cm.stype==='select' ?  'eq' : p.defaultSearch;\r\n\t\t\t\t}\r\n\t\t\t\t$.each(p.odata, function() { aoprs.push(this.oper); });\r\n\t\t\t\tfor ( i = 0 ; i < options.sopt.length; i++) {\r\n\t\t\t\t\tina = $.inArray(options.sopt[i],aoprs);\r\n\t\t\t\t\tif(ina !== -1) {\r\n\t\t\t\t\t\tselclass = selected === p.odata[ina].oper ? \"ui-state-highlight\" : \"\";\r\n\t\t\t\t\t\tstr += '<li class=\"ui-menu-item '+selclass+'\" role=\"presentation\"><a class=\"ui-corner-all g-menu-item\" tabindex=\"0\" role=\"menuitem\" value=\"'+p.odata[ina].oper+'\" oper=\"'+p.operands[p.odata[ina].oper]+'\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tr><td width=\"25px\">'+p.operands[p.odata[ina].oper]+'</td><td>'+ p.odata[ina].text+'</td></tr></table></a></li>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tstr += \"</ul>\";\r\n\t\t\t\t$('body').append(str);\r\n\t\t\t\t$(\"#sopt_menu\").addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\");\r\n\t\t\t\t$(\"#sopt_menu > li > a\").hover(\r\n\t\t\t\t\tfunction(){ $(this).addClass(\"ui-state-hover\"); },\r\n\t\t\t\t\tfunction(){ $(this).removeClass(\"ui-state-hover\"); }\r\n\t\t\t\t).click(function( e ){\r\n\t\t\t\t\tvar v = $(this).attr(\"value\"),\r\n\t\t\t\t\toper = $(this).attr(\"oper\");\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridToolbarSelectOper\", [v, oper, elem]);\r\n\t\t\t\t\t$(\"#sopt_menu\").hide();\r\n\t\t\t\t\t$(elem).text(oper).attr(\"soper\",v);\r\n\t\t\t\t\tif(p.autosearch===true){\r\n\t\t\t\t\t\tvar inpelm = $(elem).parent().next().children()[0];\r\n\t\t\t\t\t\tif( $(inpelm).val() || v===\"nu\" || v ===\"nn\") {\r\n\t\t\t\t\t\t\ttriggerToolbar();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t// create the row\r\n\t\t\tvar tr = $(\"<tr class='ui-search-toolbar' role='rowheader'></tr>\");\r\n\t\t\tvar timeoutHnd;\r\n\t\t\t$.each($t.p.colModel,function(ci){\r\n\t\t\t\tvar cm=this, soptions, surl, self, select = \"\", sot=\"=\", so, i,\r\n\t\t\t\tth = $(\"<th role='columnheader' class='ui-state-default ui-th-column ui-th-\"+$t.p.direction+\"'></th>\"),\r\n\t\t\t\tthd = $(\"<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0.3em;'></div>\"),\r\n\t\t\t\tstbl = $(\"<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>\");\r\n\t\t\t\tif(this.hidden===true) { $(th).css(\"display\",\"none\");}\r\n\t\t\t\tthis.search = this.search === false ? false : true;\r\n\t\t\t\tif(this.stype === undefined) {this.stype='text';}\r\n\t\t\t\tsoptions = $.extend({},this.searchoptions || {});\r\n\t\t\t\tif(this.search){\r\n\t\t\t\t\tif(p.searchOperators) {\r\n\t\t\t\t\t\tso  = (soptions.sopt) ? soptions.sopt[0] : cm.stype==='select' ?  'eq' : p.defaultSearch;\r\n\t\t\t\t\t\tfor(i = 0;i<p.odata.length;i++) {\r\n\t\t\t\t\t\t\tif(p.odata[i].oper === so) {\r\n\t\t\t\t\t\t\t\tsot = p.operands[so] || \"\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar st = soptions.searchtitle != null ? soptions.searchtitle : p.operandTitle;\r\n\t\t\t\t\t\tselect = \"<a title='\"+st+\"' style='padding-right: 0.5em;' soper='\"+so+\"' class='soptclass' colname='\"+this.name+\"'>\"+sot+\"</a>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\"td:eq(0)\",stbl).attr(\"colindex\",ci).append(select);\r\n\t\t\t\t\tif(soptions.clearSearch === undefined) {\r\n\t\t\t\t\t\tsoptions.clearSearch = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(soptions.clearSearch) {\r\n\t\t\t\t\t\tvar csv = p.resetTitle || 'Clear Search Value';\r\n\t\t\t\t\t\t$(\"td:eq(2)\",stbl).append(\"<a title='\"+csv+\"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>\"+p.resetIcon+\"</a>\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"td:eq(2)\", stbl).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch (this.stype)\r\n\t\t\t\t\t{\r\n\t\t\t\t\tcase \"select\":\r\n\t\t\t\t\t\tsurl = this.surl || soptions.dataUrl;\r\n\t\t\t\t\t\tif(surl) {\r\n\t\t\t\t\t\t\t// data returned should have already constructed html select\r\n\t\t\t\t\t\t\t// primitive jQuery load\r\n\t\t\t\t\t\t\tself = thd;\r\n\t\t\t\t\t\t\t$(self).append(stbl);\r\n\t\t\t\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\t\t\t\turl: surl,\r\n\t\t\t\t\t\t\t\tdataType: \"html\",\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif(soptions.buildSelect !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\tvar d = soptions.buildSelect(res);\r\n\t\t\t\t\t\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(\"td:eq(1)\",stbl).append(d);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(\"td:eq(1)\",stbl).append(res);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(soptions.defaultValue !== undefined) { $(\"select\",self).val(soptions.defaultValue); }\r\n\t\t\t\t\t\t\t\t\t$(\"select\",self).attr({name:cm.index || cm.name, id: \"gs_\"+cm.name});\r\n\t\t\t\t\t\t\t\t\tif(soptions.attr) {$(\"select\",self).attr(soptions.attr);}\r\n\t\t\t\t\t\t\t\t\t$(\"select\",self).css({width: \"100%\"});\r\n\t\t\t\t\t\t\t\t\t// preserve autoserch\r\n\t\t\t\t\t\t\t\t\t$.jgrid.bindEv.call($t, $(\"select\",self)[0], soptions);\r\n\t\t\t\t\t\t\t\t\tif(p.autosearch===true){\r\n\t\t\t\t\t\t\t\t\t\t$(\"select\",self).change(function(){\r\n\t\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\r\n\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tres=null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, $.jgrid.ajaxOptions, $t.p.ajaxSelectOptions || {} ));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar oSv, sep, delim;\r\n\t\t\t\t\t\t\tif(cm.searchoptions) {\r\n\t\t\t\t\t\t\t\toSv = cm.searchoptions.value === undefined ? \"\" : cm.searchoptions.value;\r\n\t\t\t\t\t\t\t\tsep = cm.searchoptions.separator === undefined ? \":\" : cm.searchoptions.separator;\r\n\t\t\t\t\t\t\t\tdelim = cm.searchoptions.delimiter === undefined ? \";\" : cm.searchoptions.delimiter;\r\n\t\t\t\t\t\t\t} else if(cm.editoptions) {\r\n\t\t\t\t\t\t\t\toSv = cm.editoptions.value === undefined ? \"\" : cm.editoptions.value;\r\n\t\t\t\t\t\t\t\tsep = cm.editoptions.separator === undefined ? \":\" : cm.editoptions.separator;\r\n\t\t\t\t\t\t\t\tdelim = cm.editoptions.delimiter === undefined ? \";\" : cm.editoptions.delimiter;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oSv) {\r\n\t\t\t\t\t\t\t\tvar elem = document.createElement(\"select\");\r\n\t\t\t\t\t\t\t\telem.style.width = \"100%\";\r\n\t\t\t\t\t\t\t\t$(elem).attr({name:cm.index || cm.name, id: \"gs_\"+cm.name});\r\n\t\t\t\t\t\t\t\tvar sv, ov, key, k;\r\n\t\t\t\t\t\t\t\tif(typeof oSv === \"string\") {\r\n\t\t\t\t\t\t\t\t\tso = oSv.split(delim);\r\n\t\t\t\t\t\t\t\t\tfor(k=0; k<so.length;k++){\r\n\t\t\t\t\t\t\t\t\t\tsv = so[k].split(sep);\r\n\t\t\t\t\t\t\t\t\t\tov = document.createElement(\"option\");\r\n\t\t\t\t\t\t\t\t\t\tov.value = sv[0]; ov.innerHTML = sv[1];\r\n\t\t\t\t\t\t\t\t\t\telem.appendChild(ov);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if(typeof oSv === \"object\" ) {\r\n\t\t\t\t\t\t\t\t\tfor (key in oSv) {\r\n\t\t\t\t\t\t\t\t\t\tif(oSv.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\t\t\t\tov = document.createElement(\"option\");\r\n\t\t\t\t\t\t\t\t\t\t\tov.value = key; ov.innerHTML = oSv[key];\r\n\t\t\t\t\t\t\t\t\t\t\telem.appendChild(ov);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(soptions.defaultValue !== undefined) { $(elem).val(soptions.defaultValue); }\r\n\t\t\t\t\t\t\t\tif(soptions.attr) {$(elem).attr(soptions.attr);}\r\n\t\t\t\t\t\t\t\t$(thd).append(stbl);\r\n\t\t\t\t\t\t\t\t$.jgrid.bindEv.call($t, elem , soptions);\r\n\t\t\t\t\t\t\t\t$(\"td:eq(1)\",stbl).append( elem );\r\n\t\t\t\t\t\t\t\tif(p.autosearch===true){\r\n\t\t\t\t\t\t\t\t\t$(elem).change(function(){\r\n\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\tvar df = soptions.defaultValue !== undefined ? soptions.defaultValue: \"\";\r\n\r\n\t\t\t\t\t\t$(\"td:eq(1)\",stbl).append(\"<input type='text' style='width:100%;padding:0px;' name='\"+(cm.index || cm.name)+\"' id='gs_\"+cm.name+\"' value='\"+df+\"'/>\");\r\n\t\t\t\t\t\t$(thd).append(stbl);\r\n\r\n\t\t\t\t\t\tif(soptions.attr) {$(\"input\",thd).attr(soptions.attr);}\r\n\t\t\t\t\t\t$.jgrid.bindEv.call($t, $(\"input\",thd)[0], soptions);\r\n\t\t\t\t\t\tif(p.autosearch===true){\r\n\t\t\t\t\t\t\tif(p.searchOnEnter) {\r\n\t\t\t\t\t\t\t\t$(\"input\",thd).keypress(function(e){\r\n\t\t\t\t\t\t\t\t\tvar key = e.charCode || e.keyCode || 0;\r\n\t\t\t\t\t\t\t\t\tif(key === 13){\r\n\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(\"input\",thd).keydown(function(e){\r\n\t\t\t\t\t\t\t\t\tvar key = e.which;\r\n\t\t\t\t\t\t\t\t\tswitch (key) {\r\n\t\t\t\t\t\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\tcase 9 :\r\n\t\t\t\t\t\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t\t\t\t\tcase 27:\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tdefault :\r\n\t\t\t\t\t\t\t\t\t\t\tif(timeoutHnd) { clearTimeout(timeoutHnd); }\r\n\t\t\t\t\t\t\t\t\t\t\ttimeoutHnd = setTimeout(function(){triggerToolbar();},500);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"custom\":\r\n\t\t\t\t\t\t$(\"td:eq(1)\",stbl).append(\"<span style='width:95%;padding:0px;' name='\"+(cm.index || cm.name)+\"' id='gs_\"+cm.name+\"'/>\");\r\n\t\t\t\t\t\t$(thd).append(stbl);\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif($.isFunction(soptions.custom_element)) {\r\n\t\t\t\t\t\t\t\tvar celm = soptions.custom_element.call($t,soptions.defaultValue !== undefined ? soptions.defaultValue: \"\",soptions);\r\n\t\t\t\t\t\t\t\tif(celm) {\r\n\t\t\t\t\t\t\t\t\tcelm = $(celm).addClass(\"customelement\");\r\n\t\t\t\t\t\t\t\t\t$(thd).find(\">span\").append(celm);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthrow \"e2\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthrow \"e1\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tif (e === \"e1\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_element' \"+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\tif (e === \"e2\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_element' \"+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\telse { $.jgrid.info_dialog($.jgrid.errors.errcap,typeof e===\"string\"?e:e.message,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$(th).append(thd);\r\n\t\t\t\t$(tr).append(th);\r\n\t\t\t\tif(!p.searchOperators) {\r\n\t\t\t\t\t$(\"td:eq(0)\",stbl).hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\"table thead\",$t.grid.hDiv).append(tr);\r\n\t\t\tif(p.searchOperators) {\r\n\t\t\t\t$(\".soptclass\",tr).click(function(e){\r\n\t\t\t\t\tvar offset = $(this).offset(),\r\n\t\t\t\t\tleft = ( offset.left ),\r\n\t\t\t\t\ttop = ( offset.top);\r\n\t\t\t\t\tbuildRuleMenu(this, left, top );\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t});\r\n\t\t\t\t$(\"body\").on('click', function(e){\r\n\t\t\t\t\tif(e.target.className !== \"soptclass\") {\r\n\t\t\t\t\t\t$(\"#sopt_menu\").hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t$(\".clearsearchclass\",tr).click(function(e){\r\n\t\t\t\tvar ptr = $(this).parents(\"tr:first\"),\r\n\t\t\t\tcoli = parseInt($(\"td.ui-search-oper\", ptr).attr('colindex'),10),\r\n\t\t\t\tsval  = $.extend({},$t.p.colModel[coli].searchoptions || {}),\r\n\t\t\t\tdval = sval.defaultValue ? sval.defaultValue : \"\";\r\n\t\t\t\tif($t.p.colModel[coli].stype === \"select\") {\r\n\t\t\t\t\tif(dval) {\r\n\t\t\t\t\t\t$(\"td.ui-search-input select\", ptr).val( dval );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"td.ui-search-input select\", ptr)[0].selectedIndex = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"td.ui-search-input input\", ptr).val( dval );\r\n\t\t\t\t}\r\n\t\t\t\t// ToDo custom search type\r\n\t\t\t\tif(p.autosearch===true){\r\n\t\t\t\t\ttriggerToolbar();\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t\tthis.ftoolbar = true;\r\n\t\t\tthis.triggerToolbar = triggerToolbar;\r\n\t\t\tthis.clearToolbar = clearToolbar;\r\n\t\t\tthis.toggleToolbar = toggleToolbar;\r\n\t\t});\r\n\t},\r\n\tdestroyFilterToolbar: function () {\r\n\t\treturn this.each(function () {\r\n\t\t\tif (!this.ftoolbar) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.triggerToolbar = null;\r\n\t\t\tthis.clearToolbar = null;\r\n\t\t\tthis.toggleToolbar = null;\r\n\t\t\tthis.ftoolbar = false;\r\n\t\t\t$(this.grid.hDiv).find(\"table thead tr.ui-search-toolbar\").remove();\r\n\t\t});\r\n\t},\r\n\tdestroyGroupHeader : function(nullHeader)\r\n\t{\r\n\t\tif(nullHeader === undefined) {\r\n\t\t\tnullHeader = true;\r\n\t\t}\r\n\t\treturn this.each(function()\r\n\t\t{\r\n\t\t\tvar $t = this, $tr, i, l, headers, $th, $resizing, grid = $t.grid,\r\n\t\t\tthead = $(\"table.ui-jqgrid-htable thead\", grid.hDiv), cm = $t.p.colModel, hc;\r\n\t\t\tif(!grid) { return; }\r\n\r\n\t\t\t$(this).unbind('.setGroupHeaders');\r\n\t\t\t$tr = $(\"<tr>\", {role: \"rowheader\"}).addClass(\"ui-jqgrid-labels\");\r\n\t\t\theaders = grid.headers;\r\n\t\t\tfor (i = 0, l = headers.length; i < l; i++) {\r\n\t\t\t\thc = cm[i].hidden ? \"none\" : \"\";\r\n\t\t\t\t$th = $(headers[i].el)\r\n\t\t\t\t\t.width(headers[i].width)\r\n\t\t\t\t\t.css('display',hc);\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$th.removeAttr(\"rowSpan\");\r\n\t\t\t\t} catch (rs) {\r\n\t\t\t\t\t//IE 6/7\r\n\t\t\t\t\t$th.attr(\"rowSpan\",1);\r\n\t\t\t\t}\r\n\t\t\t\t$tr.append($th);\r\n\t\t\t\t$resizing = $th.children(\"span.ui-jqgrid-resize\");\r\n\t\t\t\tif ($resizing.length>0) {// resizable column\r\n\t\t\t\t\t$resizing[0].style.height = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t$th.children(\"div\")[0].style.top = \"\";\r\n\t\t\t}\r\n\t\t\t$(thead).children('tr.ui-jqgrid-labels').remove();\r\n\t\t\t$(thead).prepend($tr);\r\n\r\n\t\t\tif(nullHeader === true) {\r\n\t\t\t\t$($t).jqGrid('setGridParam',{ 'groupHeader': null});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsetGroupHeaders : function ( o ) {\r\n\t\to = $.extend({\r\n\t\t\tuseColSpanStyle :  false,\r\n\t\t\tgroupHeaders: []\r\n\t\t},o  || {});\r\n\t\treturn this.each(function(){\r\n\t\t\tthis.p.groupHeader = o;\r\n\t\t\tvar ts = this,\r\n\t\t\ti, cmi, skip = 0, $tr, $colHeader, th, $th, thStyle,\r\n\t\t\tiCol,\r\n\t\t\tcghi,\r\n\t\t\t//startColumnName,\r\n\t\t\tnumberOfColumns,\r\n\t\t\ttitleText,\r\n\t\t\tcVisibleColumns,\r\n\t\t\tcolModel = ts.p.colModel,\r\n\t\t\tcml = colModel.length,\r\n\t\t\tths = ts.grid.headers,\r\n\t\t\t$htable = $(\"table.ui-jqgrid-htable\", ts.grid.hDiv),\r\n\t\t\t$trLabels = $htable.children(\"thead\").children(\"tr.ui-jqgrid-labels:last\").addClass(\"jqg-second-row-header\"),\r\n\t\t\t$thead = $htable.children(\"thead\"),\r\n\t\t\t$theadInTable,\r\n\t\t\t$firstHeaderRow = $htable.find(\".jqg-first-row-header\");\r\n\t\t\tif($firstHeaderRow[0] === undefined) {\r\n\t\t\t\t$firstHeaderRow = $('<tr>', {role: \"row\", \"aria-hidden\": \"true\"}).addClass(\"jqg-first-row-header\").css(\"height\", \"auto\");\r\n\t\t\t} else {\r\n\t\t\t\t$firstHeaderRow.empty();\r\n\t\t\t}\r\n\t\t\tvar $firstRow,\r\n\t\t\tinColumnHeader = function (text, columnHeaders) {\r\n\t\t\t\tvar length = columnHeaders.length, i;\r\n\t\t\t\tfor (i = 0; i < length; i++) {\r\n\t\t\t\t\tif (columnHeaders[i].startColumnName === text) {\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn -1;\r\n\t\t\t};\r\n\r\n\t\t\t$(ts).prepend($thead);\r\n\t\t\t$tr = $('<tr>', {role: \"rowheader\"}).addClass(\"ui-jqgrid-labels jqg-third-row-header\");\r\n\t\t\tfor (i = 0; i < cml; i++) {\r\n\t\t\t\tth = ths[i].el;\r\n\t\t\t\t$th = $(th);\r\n\t\t\t\tcmi = colModel[i];\r\n\t\t\t\t// build the next cell for the first header row\r\n\t\t\t\tthStyle = { height: '0px', width: ths[i].width + 'px', display: (cmi.hidden ? 'none' : '')};\r\n\t\t\t\t$(\"<th>\", {role: 'gridcell'}).css(thStyle).addClass(\"ui-first-th-\"+ts.p.direction).appendTo($firstHeaderRow);\r\n\r\n\t\t\t\tth.style.width = \"\"; // remove unneeded style\r\n\t\t\t\tiCol = inColumnHeader(cmi.name, o.groupHeaders);\r\n\t\t\t\tif (iCol >= 0) {\r\n\t\t\t\t\tcghi = o.groupHeaders[iCol];\r\n\t\t\t\t\tnumberOfColumns = cghi.numberOfColumns;\r\n\t\t\t\t\ttitleText = cghi.titleText;\r\n\r\n\t\t\t\t\t// caclulate the number of visible columns from the next numberOfColumns columns\r\n\t\t\t\t\tfor (cVisibleColumns = 0, iCol = 0; iCol < numberOfColumns && (i + iCol < cml); iCol++) {\r\n\t\t\t\t\t\tif (!colModel[i + iCol].hidden) {\r\n\t\t\t\t\t\t\tcVisibleColumns++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// The next numberOfColumns headers will be moved in the next row\r\n\t\t\t\t\t// in the current row will be placed the new column header with the titleText.\r\n\t\t\t\t\t// The text will be over the cVisibleColumns columns\r\n\t\t\t\t\t$colHeader = $('<th>').attr({role: \"columnheader\"})\r\n\t\t\t\t\t\t.addClass(\"ui-state-default ui-th-column-header ui-th-\"+ts.p.direction)\r\n\t\t\t\t\t\t.css({'height':'22px', 'border-top': '0 none'})\r\n\t\t\t\t\t\t.html(titleText);\r\n\t\t\t\t\tif(cVisibleColumns > 0) {\r\n\t\t\t\t\t\t$colHeader.attr(\"colspan\", String(cVisibleColumns));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ts.p.headertitles) {\r\n\t\t\t\t\t\t$colHeader.attr(\"title\", $colHeader.text());\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// hide if not a visible cols\r\n\t\t\t\t\tif( cVisibleColumns === 0) {\r\n\t\t\t\t\t\t$colHeader.hide();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$th.before($colHeader); // insert new column header before the current\r\n\t\t\t\t\t$tr.append(th);         // move the current header in the next row\r\n\r\n\t\t\t\t\t// set the coumter of headers which will be moved in the next row\r\n\t\t\t\t\tskip = numberOfColumns - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (skip === 0) {\r\n\t\t\t\t\t\tif (o.useColSpanStyle) {\r\n\t\t\t\t\t\t\t// expand the header height to two rows\r\n\t\t\t\t\t\t\t$th.attr(\"rowspan\", \"2\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$('<th>', {role: \"columnheader\"})\r\n\t\t\t\t\t\t\t\t.addClass(\"ui-state-default ui-th-column-header ui-th-\"+ts.p.direction)\r\n\t\t\t\t\t\t\t\t.css({\"display\": cmi.hidden ? 'none' : '', 'border-top': '0 none'})\r\n\t\t\t\t\t\t\t\t.insertBefore($th);\r\n\t\t\t\t\t\t\t$tr.append(th);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// move the header to the next row\r\n\t\t\t\t\t\t//$th.css({\"padding-top\": \"2px\", height: \"19px\"});\r\n\t\t\t\t\t\t$tr.append(th);\r\n\t\t\t\t\t\tskip--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$theadInTable = $(ts).children(\"thead\");\r\n\t\t\t$theadInTable.prepend($firstHeaderRow);\r\n\t\t\t$tr.insertAfter($trLabels);\r\n\t\t\t$htable.append($theadInTable);\r\n\r\n\t\t\tif (o.useColSpanStyle) {\r\n\t\t\t\t// Increase the height of resizing span of visible headers\r\n\t\t\t\t$htable.find(\"span.ui-jqgrid-resize\").each(function () {\r\n\t\t\t\t\tvar $parent = $(this).parent();\r\n\t\t\t\t\tif ($parent.is(\":visible\")) {\r\n\t\t\t\t\t\tthis.style.cssText = 'height: ' + $parent.height() + 'px !important; cursor: col-resize;';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Set position of the sortable div (the main lable)\r\n\t\t\t\t// with the column header text to the middle of the cell.\r\n\t\t\t\t// One should not do this for hidden headers.\r\n\t\t\t\t$htable.find(\"div.ui-jqgrid-sortable\").each(function () {\r\n\t\t\t\t\tvar $ts = $(this), $parent = $ts.parent();\r\n\t\t\t\t\tif ($parent.is(\":visible\") && $parent.is(\":has(span.ui-jqgrid-resize)\")) {\r\n\t\t\t\t\t\t$ts.css('top', ($parent.height() - $ts.outerHeight()) / 2 + 'px');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t$firstRow = $theadInTable.find(\"tr.jqg-first-row-header\");\r\n\t\t\t$(ts).bind('jqGridResizeStop.setGroupHeaders', function (e, nw, idx) {\r\n\t\t\t\t$firstRow.find('th').eq(idx).width(nw);\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tsetFrozenColumns : function () {\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( !this.grid ) {return;}\r\n\t\t\tvar $t = this, cm = $t.p.colModel,i=0, len = cm.length, maxfrozen = -1, frozen= false;\r\n\t\t\t// TODO treeGrid and grouping  Support\r\n\t\t\tif($t.p.subGrid === true || $t.p.treeGrid === true || $t.p.cellEdit === true || $t.p.sortable || $t.p.scroll )\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif($t.p.rownumbers) { i++; }\r\n\t\t\tif($t.p.multiselect) { i++; }\r\n\r\n\t\t\t// get the max index of frozen col\r\n\t\t\twhile(i<len)\r\n\t\t\t{\r\n\t\t\t\t// from left, no breaking frozen\r\n\t\t\t\tif(cm[i].frozen === true)\r\n\t\t\t\t{\r\n\t\t\t\t\tfrozen = true;\r\n\t\t\t\t\tmaxfrozen = i;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tif( maxfrozen>=0 && frozen) {\r\n\t\t\t\tvar top = $t.p.caption ? $($t.grid.cDiv).outerHeight() : 0,\r\n\t\t\t\thth = $(\".ui-jqgrid-htable\",\"#gview_\"+$.jgrid.jqID($t.p.id)).height();\r\n\t\t\t\t//headers\r\n\t\t\t\tif($t.p.toppager) {\r\n\t\t\t\t\ttop = top + $($t.grid.topDiv).outerHeight();\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.toolbar[0] === true) {\r\n\t\t\t\t\tif($t.p.toolbar[1] !== \"bottom\") {\r\n\t\t\t\t\t\ttop = top + $($t.grid.uDiv).outerHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$t.grid.fhDiv = $('<div style=\"position:absolute;left:0px;top:'+top+'px;height:'+hth+'px;\" class=\"frozen-div ui-state-default ui-jqgrid-hdiv\"></div>');\r\n\t\t\t\t$t.grid.fbDiv = $('<div style=\"position:absolute;left:0px;top:'+(parseInt(top,10)+parseInt(hth,10) + 1)+'px;overflow-y:hidden\" class=\"frozen-bdiv ui-jqgrid-bdiv\"></div>');\r\n\t\t\t\t$(\"#gview_\"+$.jgrid.jqID($t.p.id)).append($t.grid.fhDiv);\r\n\t\t\t\tvar htbl = $(\".ui-jqgrid-htable\",\"#gview_\"+$.jgrid.jqID($t.p.id)).clone(true);\r\n\t\t\t\t// groupheader support - only if useColSpanstyle is false\r\n\t\t\t\tif($t.p.groupHeader) {\r\n\t\t\t\t\t$(\"tr.jqg-first-row-header, tr.jqg-third-row-header\", htbl).each(function(){\r\n\t\t\t\t\t\t$(\"th:gt(\"+maxfrozen+\")\",this).remove();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar swapfroz = -1, fdel = -1, cs, rs;\r\n\t\t\t\t\t$(\"tr.jqg-second-row-header th\", htbl).each(function(){\r\n\t\t\t\t\t\tcs= parseInt($(this).attr(\"colspan\"),10);\r\n\t\t\t\t\t\trs= parseInt($(this).attr(\"rowspan\"),10);\r\n\t\t\t\t\t\tif(rs) {\r\n\t\t\t\t\t\t\tswapfroz++;\r\n\t\t\t\t\t\t\tfdel++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(cs) {\r\n\t\t\t\t\t\t\tswapfroz = swapfroz+cs;\r\n\t\t\t\t\t\t\tfdel++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(swapfroz === maxfrozen) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(swapfroz !== maxfrozen) {\r\n\t\t\t\t\t\tfdel = maxfrozen;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\"tr.jqg-second-row-header\", htbl).each(function(){\r\n\t\t\t\t\t\t$(\"th:gt(\"+fdel+\")\",this).remove();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"tr\",htbl).each(function(){\r\n\t\t\t\t\t\t$(\"th:gt(\"+maxfrozen+\")\",this).remove();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t$(htbl).width(1);\r\n\t\t\t\t// resizing stuff\r\n\t\t\t\t$($t.grid.fhDiv).append(htbl)\r\n\t\t\t\t.mousemove(function (e) {\r\n\t\t\t\t\tif($t.grid.resizing){ $t.grid.dragMove(e);return false; }\r\n\t\t\t\t});\r\n\t\t\t\t$($t).bind('jqGridResizeStop.setFrozenColumns', function (e, w, index) {\r\n\t\t\t\t\tvar rhth = $(\".ui-jqgrid-htable\",$t.grid.fhDiv);\r\n\t\t\t\t\t$(\"th:eq(\"+index+\")\",rhth).width( w );\r\n\t\t\t\t\tvar btd = $(\".ui-jqgrid-btable\",$t.grid.fbDiv);\r\n\t\t\t\t\t$(\"tr:first td:eq(\"+index+\")\",btd).width( w );\r\n\t\t\t\t});\r\n\t\t\t\t// sorting stuff\r\n\t\t\t\t$($t).bind('jqGridSortCol.setFrozenColumns', function (e, index, idxcol) {\r\n\r\n\t\t\t\t\tvar previousSelectedTh = $(\"tr.ui-jqgrid-labels:last th:eq(\"+$t.p.lastsort+\")\",$t.grid.fhDiv), newSelectedTh = $(\"tr.ui-jqgrid-labels:last th:eq(\"+idxcol+\")\",$t.grid.fhDiv);\r\n\r\n\t\t\t\t\t$(\"span.ui-grid-ico-sort\",previousSelectedTh).addClass('ui-state-disabled');\r\n\t\t\t\t\t$(previousSelectedTh).attr(\"aria-selected\",\"false\");\r\n\t\t\t\t\t$(\"span.ui-icon-\"+$t.p.sortorder,newSelectedTh).removeClass('ui-state-disabled');\r\n\t\t\t\t\t$(newSelectedTh).attr(\"aria-selected\",\"true\");\r\n\t\t\t\t\tif(!$t.p.viewsortcols[0]) {\r\n\t\t\t\t\t\tif($t.p.lastsort !== idxcol) {\r\n\t\t\t\t\t\t\t$(\"span.s-ico\",previousSelectedTh).hide();\r\n\t\t\t\t\t\t\t$(\"span.s-ico\",newSelectedTh).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// data stuff\r\n\t\t\t\t//TODO support for setRowData\r\n\t\t\t\t$(\"#gview_\"+$.jgrid.jqID($t.p.id)).append($t.grid.fbDiv);\r\n\t\t\t\t$($t.grid.bDiv).scroll(function () {\r\n\t\t\t\t\t$($t.grid.fbDiv).scrollTop($(this).scrollTop());\r\n\t\t\t\t});\r\n\t\t\t\tif($t.p.hoverrows === true) {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID($t.p.id)).unbind('mouseover').unbind('mouseout');\r\n\t\t\t\t}\r\n\t\t\t\t$($t).bind('jqGridAfterGridComplete.setFrozenColumns', function () {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID($t.p.id)+\"_frozen\").remove();\r\n\t\t\t\t\t$($t.grid.fbDiv).height($($t.grid.bDiv).height()-16);\r\n\t\t\t\t\tvar btbl = $(\"#\"+$.jgrid.jqID($t.p.id)).clone(true);\r\n\t\t\t\t\t$(\"tr[role=row]\",btbl).each(function(){\r\n\t\t\t\t\t\t$(\"td[role=gridcell]:gt(\"+maxfrozen+\")\",this).remove();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(btbl).width(1).attr(\"id\",$t.p.id+\"_frozen\");\r\n\t\t\t\t\t$($t.grid.fbDiv).append(btbl);\r\n\t\t\t\t\tif($t.p.hoverrows === true) {\r\n\t\t\t\t\t\t$(\"tr.jqgrow\", btbl).hover(\r\n\t\t\t\t\t\t\tfunction(){ $(this).addClass(\"ui-state-hover\"); $(\"#\"+$.jgrid.jqID(this.id), \"#\"+$.jgrid.jqID($t.p.id)).addClass(\"ui-state-hover\"); },\r\n\t\t\t\t\t\t\tfunction(){ $(this).removeClass(\"ui-state-hover\"); $(\"#\"+$.jgrid.jqID(this.id), \"#\"+$.jgrid.jqID($t.p.id)).removeClass(\"ui-state-hover\"); }\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t$(\"tr.jqgrow\", \"#\"+$.jgrid.jqID($t.p.id)).hover(\r\n\t\t\t\t\t\t\tfunction(){ $(this).addClass(\"ui-state-hover\"); $(\"#\"+$.jgrid.jqID(this.id), \"#\"+$.jgrid.jqID($t.p.id)+\"_frozen\").addClass(\"ui-state-hover\");},\r\n\t\t\t\t\t\t\tfunction(){ $(this).removeClass(\"ui-state-hover\"); $(\"#\"+$.jgrid.jqID(this.id), \"#\"+$.jgrid.jqID($t.p.id)+\"_frozen\").removeClass(\"ui-state-hover\"); }\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbtbl=null;\r\n\t\t\t\t});\r\n\t\t\t\tif(!$t.grid.hDiv.loading) {\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t\t\t}\r\n\t\t\t\t$t.p.frozenColumns = true;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tdestroyFrozenColumns :  function() {\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( !this.grid ) {return;}\r\n\t\t\tif(this.p.frozenColumns === true) {\r\n\t\t\t\tvar $t = this;\r\n\t\t\t\t$($t.grid.fhDiv).remove();\r\n\t\t\t\t$($t.grid.fbDiv).remove();\r\n\t\t\t\t$t.grid.fhDiv = null; $t.grid.fbDiv=null;\r\n\t\t\t\t$(this).unbind('.setFrozenColumns');\r\n\t\t\t\tif($t.p.hoverrows === true) {\r\n\t\t\t\t\tvar ptr;\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID($t.p.id)).bind('mouseover',function(e) {\r\n\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\r\n\t\t\t\t\t\tif($(ptr).attr(\"class\") !== \"ui-subgrid\") {\r\n\t\t\t\t\t\t$(ptr).addClass(\"ui-state-hover\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}).bind('mouseout',function(e) {\r\n\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\r\n\t\t\t\t\t\t$(ptr).removeClass(\"ui-state-hover\");\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.p.frozenColumns = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n})(jQuery);\r\n/*\r\n * jqModal - Minimalist Modaling with jQuery\r\n *   (http://dev.iceburg.net/jquery/jqmodal/)\r\n *\r\n * Copyright (c) 2007,2008 Brice Burgess <bhb@iceburg.net>\r\n * Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n *\r\n * $Version: 07/06/2008 +r13\r\n */\r\n(function($) {\r\n$.fn.jqm=function(o){\r\nvar p={\r\noverlay: 50,\r\ncloseoverlay : true,\r\noverlayClass: 'jqmOverlay',\r\ncloseClass: 'jqmClose',\r\ntrigger: '.jqModal',\r\najax: F,\r\najaxText: '',\r\ntarget: F,\r\nmodal: F,\r\ntoTop: F,\r\nonShow: F,\r\nonHide: F,\r\nonLoad: F\r\n};\r\nreturn this.each(function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,o);s++;this._jqm=s;\r\nH[s]={c:$.extend(p,$.jqm.params,o),a:F,w:$(this).addClass('jqmID'+s),s:s};\r\nif(p.trigger)$(this).jqmAddTrigger(p.trigger);\r\n});};\r\n\r\n$.fn.jqmAddClose=function(e){return hs(this,e,'jqmHide');};\r\n$.fn.jqmAddTrigger=function(e){return hs(this,e,'jqmShow');};\r\n$.fn.jqmShow=function(t){return this.each(function(){$.jqm.open(this._jqm,t);});};\r\n$.fn.jqmHide=function(t){return this.each(function(){$.jqm.close(this._jqm,t)});};\r\n\r\n$.jqm = {\r\nhash:{},\r\nopen:function(s,t){var h=H[s],c=h.c,cc='.'+c.closeClass,z=(parseInt(h.w.css('z-index')));z=(z>0)?z:3000;var o=$('<div></div>').css({height:'100%',width:'100%',position:'fixed',left:0,top:0,'z-index':z-1,opacity:c.overlay/100});if(h.a)return F;h.t=t;h.a=true;h.w.css('z-index',z);\r\n if(c.modal) {if(!A[0])setTimeout(function(){L('bind');},1);A.push(s);}\r\n else if(c.overlay > 0) {if(c.closeoverlay) h.w.jqmAddClose(o);}\r\n else o=F;\r\n\r\n h.o=(o)?o.addClass(c.overlayClass).prependTo('body'):F;\r\n\r\n if(c.ajax) {var r=c.target||h.w,u=c.ajax;r=(typeof r == 'string')?$(r,h.w):$(r);u=(u.substr(0,1) == '@')?$(t).attr(u.substring(1)):u;\r\n  r.html(c.ajaxText).load(u,function(){if(c.onLoad)c.onLoad.call(this,h);if(cc)h.w.jqmAddClose($(cc,h.w));e(h);});}\r\n else if(cc)h.w.jqmAddClose($(cc,h.w));\r\n\r\n if(c.toTop&&h.o)h.w.before('<span id=\"jqmP'+h.w[0]._jqm+'\"></span>').insertAfter(h.o);\r\n (c.onShow)?c.onShow(h):h.w.show();e(h);return F;\r\n},\r\nclose:function(s){var h=H[s];if(!h.a)return F;h.a=F;\r\n if(A[0]){A.pop();if(!A[0])L('unbind');}\r\n if(h.c.toTop&&h.o)$('#jqmP'+h.w[0]._jqm).after(h.w).remove();\r\n if(h.c.onHide)h.c.onHide(h);else{h.w.hide();if(h.o)h.o.remove();} return F;\r\n},\r\nparams:{}};\r\nvar s=0,H=$.jqm.hash,A=[],F=false,\r\ne=function(h){f(h);},\r\nf=function(h){try{$(':input:visible',h.w)[0].focus();}catch(_){}},\r\nL=function(t){$(document)[t](\"keypress\",m)[t](\"keydown\",m)[t](\"mousedown\",m);},\r\nm=function(e){var h=H[A[A.length-1]],r=(!$(e.target).parents('.jqmID'+h.s)[0]);if(r){$('.jqmID'+h.s).each(function(){var $self=$(this),offset=$self.offset();if(offset.top<=e.pageY && e.pageY<=offset.top+$self.height() && offset.left<=e.pageX && e.pageX<=offset.left+$self.width()){r=false;return false;}});f(h);}return !r;},\r\nhs=function(w,t,c){return w.each(function(){var s=this._jqm;$(t).each(function() {\r\n if(!this[c]){this[c]=[];$(this).click(function(){for(var i in {jqmShow:1,jqmHide:1})for(var s in this[i])if(H[this[i][s]])H[this[i][s]].w[i](this);return F;});}this[c].push(s);});});};\r\n})(jQuery);/*\r\n * jqDnR - Minimalistic Drag'n'Resize for jQuery.\r\n *\r\n * Copyright (c) 2007 Brice Burgess <bhb@iceburg.net>, http://www.iceburg.net\r\n * Licensed under the MIT License:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * $Version: 2007.08.19 +r2\r\n */\r\n\r\n(function($){\r\n$.fn.jqDrag=function(h){return i(this,h,'d');};\r\n$.fn.jqResize=function(h,ar){return i(this,h,'r',ar);};\r\n$.jqDnR={\r\n\tdnr:{},\r\n\te:0,\r\n\tdrag:function(v){\r\n\t\tif(M.k == 'd'){E.css({left:M.X+v.pageX-M.pX,top:M.Y+v.pageY-M.pY});}\r\n\t\telse {\r\n\t\t\tE.css({width:Math.max(v.pageX-M.pX+M.W,0),height:Math.max(v.pageY-M.pY+M.H,0)});\r\n\t\t\tif(M1){E1.css({width:Math.max(v.pageX-M1.pX+M1.W,0),height:Math.max(v.pageY-M1.pY+M1.H,0)});}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tstop:function(){\r\n\t\t//E.css('opacity',M.o);\r\n\t\t$(document).unbind('mousemove',J.drag).unbind('mouseup',J.stop);\r\n\t}\r\n};\r\nvar J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,\r\ni=function(e,h,k,aR){\r\n\treturn e.each(function(){\r\n\t\th=(h)?$(h,e):e;\r\n\t\th.bind('mousedown',{e:e,k:k},function(v){\r\n\t\t\tvar d=v.data,p={};E=d.e;E1 = aR ? $(aR) : false;\r\n\t\t\t// attempt utilization of dimensions plugin to fix IE issues\r\n\t\t\tif(E.css('position') != 'relative'){try{E.position(p);}catch(e){}}\r\n\t\t\tM={\r\n\t\t\t\tX:p.left||f('left')||0,\r\n\t\t\t\tY:p.top||f('top')||0,\r\n\t\t\t\tW:f('width')||E[0].scrollWidth||0,\r\n\t\t\t\tH:f('height')||E[0].scrollHeight||0,\r\n\t\t\t\tpX:v.pageX,\r\n\t\t\t\tpY:v.pageY,\r\n\t\t\t\tk:d.k\r\n\t\t\t\t//o:E.css('opacity')\r\n\t\t\t};\r\n\t\t\t// also resize\r\n\t\t\tif(E1 && d.k != 'd'){\r\n\t\t\t\tM1={\r\n\t\t\t\t\tX:p.left||f1('left')||0,\r\n\t\t\t\t\tY:p.top||f1('top')||0,\r\n\t\t\t\t\tW:E1[0].offsetWidth||f1('width')||0,\r\n\t\t\t\t\tH:E1[0].offsetHeight||f1('height')||0,\r\n\t\t\t\t\tpX:v.pageX,\r\n\t\t\t\t\tpY:v.pageY,\r\n\t\t\t\t\tk:d.k\r\n\t\t\t\t};\r\n\t\t\t} else {M1 = false;}\r\n\t\t\t//E.css({opacity:0.8});\r\n\t\t\tif($(\"input.hasDatepicker\",E[0])[0]) {\r\n\t\t\ttry {$(\"input.hasDatepicker\",E[0]).datepicker('hide');}catch (dpe){}\r\n\t\t\t}\r\n\t\t\t$(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop);\r\n\t\t\treturn false;\r\n\t\t});\r\n\t});\r\n},\r\nf=function(k){return parseInt(E.css(k),10)||false;},\r\nf1=function(k){return parseInt(E1.css(k),10)||false;};\r\n})(jQuery);/*\r\n\tThe below work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tOriginal work:\r\n\r\n\tLicense:     http://creativecommons.org/licenses/LGPL/2.1/\r\n\tAuthor:      Stefan Goessner/2006\r\n\tWeb:         http://goessner.net/\r\n\r\n\tModifications made:\r\n\r\n\tVersion:     0.9-p5\r\n\tDescription: Restructured code, JSLint validated (no strict whitespaces),\r\n\t             added handling of empty arrays, empty strings, and int/floats values.\r\n\tAuthor:      Michael Schøler/2008-01-29\r\n\tWeb:         http://michael.hinnerup.net/blog/2008/01/26/converting-json-to-xml-and-xml-to-json/\r\n\r\n\tDescription: json2xml added support to convert functions as CDATA\r\n\t             so it will be easy to write characters that cause some problems when convert\r\n\tAuthor:      Tony Tomov\r\n*/\r\n\r\n/*global alert */\r\nvar xmlJsonClass = {\r\n\t// Param \"xml\": Element or document DOM node.\r\n\t// Param \"tab\": Tab or indent string for pretty output formatting omit or use empty string \"\" to supress.\r\n\t// Returns:     JSON string\r\n\txml2json: function(xml, tab) {\r\n\t\tif (xml.nodeType === 9) {\r\n\t\t\t// document node\r\n\t\t\txml = xml.documentElement;\r\n\t\t}\r\n\t\tvar nws = this.removeWhite(xml);\r\n\t\tvar obj = this.toObj(nws);\r\n\t\tvar json = this.toJson(obj, xml.nodeName, \"\\t\");\r\n\t\treturn \"{\\n\" + tab + (tab ? json.replace(/\\t/g, tab) : json.replace(/\\t|\\n/g, \"\")) + \"\\n}\";\r\n\t},\r\n\r\n\t// Param \"o\":   JavaScript object\r\n\t// Param \"tab\": tab or indent string for pretty output formatting omit or use empty string \"\" to supress.\r\n\t// Returns:     XML string\r\n\tjson2xml: function(o, tab) {\r\n\t\tvar toXml = function(v, name, ind) {\r\n\t\t\tvar xml = \"\";\r\n\t\t\tvar i, n;\r\n\t\t\tif (v instanceof Array) {\r\n\t\t\t\tif (v.length === 0) {\r\n\t\t\t\t\txml += ind + \"<\"+name+\">__EMPTY_ARRAY_</\"+name+\">\\n\";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor (i = 0, n = v.length; i < n; i += 1) {\r\n\t\t\t\t\t\tvar sXml = ind + toXml(v[i], name, ind+\"\\t\") + \"\\n\";\r\n\t\t\t\t\t\txml += sXml;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (typeof(v) === \"object\") {\r\n\t\t\t\tvar hasChild = false;\r\n\t\t\t\txml += ind + \"<\" + name;\r\n\t\t\t\tvar m;\r\n\t\t\t\tfor (m in v) if (v.hasOwnProperty(m)) {\r\n\t\t\t\t\tif (m.charAt(0) === \"@\") {\r\n\t\t\t\t\t\txml += \" \" + m.substr(1) + \"=\\\"\" + v[m].toString() + \"\\\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\thasChild = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\txml += hasChild ? \">\" : \"/>\";\r\n\t\t\t\tif (hasChild) {\r\n\t\t\t\t\tfor (m in v) if (v.hasOwnProperty(m)) {\r\n\t\t\t\t\t\tif (m === \"#text\") {\r\n\t\t\t\t\t\t\txml += v[m];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (m === \"#cdata\") {\r\n\t\t\t\t\t\t\txml += \"<![CDATA[\" + v[m] + \"]]>\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (m.charAt(0) !== \"@\") {\r\n\t\t\t\t\t\t\txml += toXml(v[m], m, ind+\"\\t\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\txml += (xml.charAt(xml.length - 1) === \"\\n\" ? ind : \"\") + \"</\" + name + \">\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (typeof(v) === \"function\") {\r\n\t\t\t\txml += ind + \"<\" + name + \">\" + \"<![CDATA[\" + v + \"]]>\" + \"</\" + name + \">\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (v === undefined ) { v = \"\"; }\r\n\t\t\t\tif (v.toString() === \"\\\"\\\"\" || v.toString().length === 0) {\r\n\t\t\t\t\txml += ind + \"<\" + name + \">__EMPTY_STRING_</\" + name + \">\";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\txml += ind + \"<\" + name + \">\" + v.toString() + \"</\" + name + \">\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn xml;\r\n\t\t};\r\n\t\tvar xml = \"\";\r\n\t\tvar m;\r\n\t\tfor (m in o) if (o.hasOwnProperty(m)) {\r\n\t\t\txml += toXml(o[m], m, \"\");\r\n\t\t}\r\n\t\treturn tab ? xml.replace(/\\t/g, tab) : xml.replace(/\\t|\\n/g, \"\");\r\n\t},\r\n\t// Internal methods\r\n\ttoObj: function(xml) {\r\n\t\tvar o = {};\r\n\t\tvar FuncTest = /function/i;\r\n\t\tif (xml.nodeType === 1) {\r\n\t\t\t// element node ..\r\n\t\t\tif (xml.attributes.length) {\r\n\t\t\t\t// element with attributes ..\r\n\t\t\t\tvar i;\r\n\t\t\t\tfor (i = 0; i < xml.attributes.length; i += 1) {\r\n\t\t\t\t\to[\"@\" + xml.attributes[i].nodeName] = (xml.attributes[i].nodeValue || \"\").toString();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (xml.firstChild) {\r\n\t\t\t\t// element has child nodes ..\r\n\t\t\t\tvar textChild = 0, cdataChild = 0, hasElementChild = false;\r\n\t\t\t\tvar n;\r\n\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\r\n\t\t\t\t\tif (n.nodeType === 1) {\r\n\t\t\t\t\t\thasElementChild = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (n.nodeType === 3 && n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) {\r\n\t\t\t\t\t\t// non-whitespace text\r\n\t\t\t\t\t\ttextChild += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (n.nodeType === 4) {\r\n\t\t\t\t\t\t// cdata section node\r\n\t\t\t\t\t\tcdataChild += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (hasElementChild) {\r\n\t\t\t\t\tif (textChild < 2 && cdataChild < 2) {\r\n\t\t\t\t\t\t// structured element with evtl. a single text or/and cdata node ..\r\n\t\t\t\t\t\tthis.removeWhite(xml);\r\n\t\t\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\r\n\t\t\t\t\t\t\tif (n.nodeType === 3) {\r\n\t\t\t\t\t\t\t\t// text node\r\n\t\t\t\t\t\t\t\to[\"#text\"] = this.escape(n.nodeValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (n.nodeType === 4) {\r\n\t\t\t\t\t\t\t\t// cdata node\r\n\t\t\t\t\t\t\t\tif (FuncTest.test(n.nodeValue)) {\r\n\t\t\t\t\t\t\t\t\to[n.nodeName] = [o[n.nodeName], n.nodeValue];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\to[\"#cdata\"] = this.escape(n.nodeValue);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (o[n.nodeName]) {\r\n\t\t\t\t\t\t\t\t// multiple occurence of element ..\r\n\t\t\t\t\t\t\t\tif (o[n.nodeName] instanceof Array) {\r\n\t\t\t\t\t\t\t\t\to[n.nodeName][o[n.nodeName].length] = this.toObj(n);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\to[n.nodeName] = [o[n.nodeName], this.toObj(n)];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t// first occurence of element ..\r\n\t\t\t\t\t\t\t\to[n.nodeName] = this.toObj(n);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t// mixed content\r\n\t\t\t\t\t\tif (!xml.attributes.length) {\r\n\t\t\t\t\t\t\to = this.escape(this.innerXml(xml));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\to[\"#text\"] = this.escape(this.innerXml(xml));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (textChild) {\r\n\t\t\t\t\t// pure text\r\n\t\t\t\t\tif (!xml.attributes.length) {\r\n\t\t\t\t\t\to = this.escape(this.innerXml(xml));\r\n\t\t\t\t\t\tif (o === \"__EMPTY_ARRAY_\") {\r\n\t\t\t\t\t\t\to = \"[]\";\r\n\t\t\t\t\t\t} else if (o === \"__EMPTY_STRING_\") {\r\n\t\t\t\t\t\t\to = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\to[\"#text\"] = this.escape(this.innerXml(xml));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (cdataChild) {\r\n\t\t\t\t\t// cdata\r\n\t\t\t\t\tif (cdataChild > 1) {\r\n\t\t\t\t\t\to = this.escape(this.innerXml(xml));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\r\n\t\t\t\t\t\t\tif(FuncTest.test(xml.firstChild.nodeValue)) {\r\n\t\t\t\t\t\t\t\to = xml.firstChild.nodeValue;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\to[\"#cdata\"] = this.escape(n.nodeValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!xml.attributes.length && !xml.firstChild) {\r\n\t\t\t\to = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (xml.nodeType === 9) {\r\n\t\t\t// document.node\r\n\t\t\to = this.toObj(xml.documentElement);\r\n\t\t}\r\n\t\telse {\r\n\t\t\talert(\"unhandled node type: \" + xml.nodeType);\r\n\t\t}\r\n\t\treturn o;\r\n\t},\r\n\ttoJson: function(o, name, ind, wellform) {\r\n\t\tif(wellform === undefined) wellform = true;\r\n\t\tvar json = name ? (\"\\\"\" + name + \"\\\"\") : \"\", tab = \"\\t\", newline = \"\\n\";\r\n\t\tif(!wellform) {\r\n\t\t\ttab= \"\"; newline= \"\";\r\n\t\t}\r\n\r\n\t\tif (o === \"[]\") {\r\n\t\t\tjson += (name ? \":[]\" : \"[]\");\r\n\t\t}\r\n\t\telse if (o instanceof Array) {\r\n\t\t\tvar n, i, ar=[];\r\n\t\t\tfor (i = 0, n = o.length; i < n; i += 1) {\r\n\t\t\t\tar[i] = this.toJson(o[i], \"\", ind + tab, wellform);\r\n\t\t\t}\r\n\t\t\tjson += (name ? \":[\" : \"[\") + (ar.length > 1 ? (newline + ind + tab + ar.join(\",\"+newline + ind + tab) + newline + ind) : ar.join(\"\")) + \"]\";\r\n\t\t}\r\n\t\telse if (o === null) {\r\n\t\t\tjson += (name && \":\") + \"null\";\r\n\t\t}\r\n\t\telse if (typeof(o) === \"object\") {\r\n\t\t\tvar arr = [], m;\r\n\t\t\tfor (m in o) {\r\n\t\t\t\tif (o.hasOwnProperty(m)) {\r\n\t\t\t\t\tarr[arr.length] = this.toJson(o[m], m, ind + tab, wellform);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\tjson += (name ? \":{\" : \"{\") + (arr.length > 1 ? (newline + ind + tab + arr.join(\",\"+newline + ind + tab) + newline + ind) : arr.join(\"\")) + \"}\";\r\n\t\t}\r\n\t\telse if (typeof(o) === \"string\") {\r\n\t\t\t/*\r\n\t\t\tvar objRegExp  = /(^-?\\d+\\.?\\d*$)/;\r\n\t\t\tvar FuncTest = /function/i;\r\n\t\t\tvar os = o.toString();\r\n\t\t\tif (objRegExp.test(os) || FuncTest.test(os) || os===\"false\" || os===\"true\") {\r\n\t\t\t\t// int or float\r\n\t\t\t\tjson += (name && \":\")  + \"\\\"\" +os + \"\\\"\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t*/\r\n\t\t\t\tjson += (name && \":\") + \"\\\"\" + o.replace(/\\\\/g,'\\\\\\\\').replace(/\\\"/g,'\\\\\"') + \"\\\"\";\r\n\t\t\t//}\r\n\t\t\t}\r\n\t\telse {\r\n\t\t\tjson += (name && \":\") +  o.toString();\r\n\t\t}\r\n\t\treturn json;\r\n\t},\r\n\tinnerXml: function(node) {\r\n\t\tvar s = \"\";\r\n\t\tif (\"innerHTML\" in node) {\r\n\t\t\ts = node.innerHTML;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar asXml = function(n) {\r\n\t\t\t\tvar s = \"\", i;\r\n\t\t\t\tif (n.nodeType === 1) {\r\n\t\t\t\t\ts += \"<\" + n.nodeName;\r\n\t\t\t\t\tfor (i = 0; i < n.attributes.length; i += 1) {\r\n\t\t\t\t\t\ts += \" \" + n.attributes[i].nodeName + \"=\\\"\" + (n.attributes[i].nodeValue || \"\").toString() + \"\\\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (n.firstChild) {\r\n\t\t\t\t\t\ts += \">\";\r\n\t\t\t\t\t\tfor (var c = n.firstChild; c; c = c.nextSibling) {\r\n\t\t\t\t\t\t\ts += asXml(c);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts += \"</\" + n.nodeName + \">\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ts += \"/>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (n.nodeType === 3) {\r\n\t\t\t\t\ts += n.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t\telse if (n.nodeType === 4) {\r\n\t\t\t\t\ts += \"<![CDATA[\" + n.nodeValue + \"]]>\";\r\n\t\t\t\t}\r\n\t\t\t\treturn s;\r\n\t\t\t};\r\n\t\t\tfor (var c = node.firstChild; c; c = c.nextSibling) {\r\n\t\t\t\ts += asXml(c);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t},\r\n\tescape: function(txt) {\r\n\t\treturn txt.replace(/[\\\\]/g, \"\\\\\\\\\").replace(/[\\\"]/g, '\\\\\"').replace(/[\\n]/g, '\\\\n').replace(/[\\r]/g, '\\\\r');\r\n\t},\r\n\tremoveWhite: function(e) {\r\n\t\te.normalize();\r\n\t\tvar n;\r\n\t\tfor (n = e.firstChild; n; ) {\r\n\t\t\tif (n.nodeType === 3) {\r\n\t\t\t\t// text node\r\n\t\t\t\tif (!n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) {\r\n\t\t\t\t\t// pure whitespace text node\r\n\t\t\t\t\tvar nxt = n.nextSibling;\r\n\t\t\t\t\te.removeChild(n);\r\n\t\t\t\t\tn = nxt;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tn = n.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (n.nodeType === 1) {\r\n\t\t\t\t// element node\r\n\t\t\t\tthis.removeWhite(n);\r\n\t\t\t\tn = n.nextSibling;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// any other node\r\n\t\t\t\tn = n.nextSibling;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn e;\r\n\t}\r\n};/*\r\n**\r\n * formatter for values but most of the values if for jqGrid\r\n * Some of this was inspired and based on how YUI does the table datagrid but in jQuery fashion\r\n * we are trying to keep it as light as possible\r\n * Joshua Burnett josh@9ci.com\r\n * http://www.greenbill.com\r\n *\r\n * Changes from Tony Tomov tony@trirand.com\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n *\r\n**/\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n\r\n(function($) {\r\n\"use strict\";\r\n\t$.fmatter = {};\r\n\t//opts can be id:row id for the row, rowdata:the data for the row, colmodel:the column model for this column\r\n\t//example {id:1234,}\r\n\t$.extend($.fmatter,{\r\n\t\tisBoolean : function(o) {\r\n\t\t\treturn typeof o === 'boolean';\r\n\t\t},\r\n\t\tisObject : function(o) {\r\n\t\t\treturn (o && (typeof o === 'object' || $.isFunction(o))) || false;\r\n\t\t},\r\n\t\tisString : function(o) {\r\n\t\t\treturn typeof o === 'string';\r\n\t\t},\r\n\t\tisNumber : function(o) {\r\n\t\t\treturn typeof o === 'number' && isFinite(o);\r\n\t\t},\r\n\t\tisValue : function (o) {\r\n\t\t\treturn (this.isObject(o) || this.isString(o) || this.isNumber(o) || this.isBoolean(o));\r\n\t\t},\r\n\t\tisEmpty : function(o) {\r\n\t\t\tif(!this.isString(o) && this.isValue(o)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!this.isValue(o)){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\to = $.trim(o).replace(/\\&nbsp\\;/ig,'').replace(/\\&#160\\;/ig,'');\r\n\t\t\treturn o===\"\";\r\n\t\t}\r\n\t});\r\n\t$.fn.fmatter = function(formatType, cellval, opts, rwd, act) {\r\n\t\t// build main options before element iteration\r\n\t\tvar v=cellval;\r\n\t\topts = $.extend({}, $.jgrid.formatter, opts);\r\n\r\n\t\ttry {\r\n\t\t\tv = $.fn.fmatter[formatType].call(this, cellval, opts, rwd, act);\r\n\t\t} catch(fe){}\r\n\t\treturn v;\r\n\t};\r\n\t$.fmatter.util = {\r\n\t\t// Taken from YAHOO utils\r\n\t\tNumberFormat : function(nData,opts) {\r\n\t\t\tif(!$.fmatter.isNumber(nData)) {\r\n\t\t\t\tnData *= 1;\r\n\t\t\t}\r\n\t\t\tif($.fmatter.isNumber(nData)) {\r\n\t\t\t\tvar bNegative = (nData < 0);\r\n\t\t\t\tvar sOutput = String(nData);\r\n\t\t\t\tvar sDecimalSeparator = opts.decimalSeparator || \".\";\r\n\t\t\t\tvar nDotIndex;\r\n\t\t\t\tif($.fmatter.isNumber(opts.decimalPlaces)) {\r\n\t\t\t\t\t// Round to the correct decimal place\r\n\t\t\t\t\tvar nDecimalPlaces = opts.decimalPlaces;\r\n\t\t\t\t\tvar nDecimal = Math.pow(10, nDecimalPlaces);\r\n\t\t\t\t\tsOutput = String(Math.round(nData*nDecimal)/nDecimal);\r\n\t\t\t\t\tnDotIndex = sOutput.lastIndexOf(\".\");\r\n\t\t\t\t\tif(nDecimalPlaces > 0) {\r\n\t\t\t\t\t// Add the decimal separator\r\n\t\t\t\t\t\tif(nDotIndex < 0) {\r\n\t\t\t\t\t\t\tsOutput += sDecimalSeparator;\r\n\t\t\t\t\t\t\tnDotIndex = sOutput.length-1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Replace the \".\"\r\n\t\t\t\t\t\telse if(sDecimalSeparator !== \".\"){\r\n\t\t\t\t\t\t\tsOutput = sOutput.replace(\".\",sDecimalSeparator);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t// Add missing zeros\r\n\t\t\t\t\t\twhile((sOutput.length - 1 - nDotIndex) < nDecimalPlaces) {\r\n\t\t\t\t\t\t\tsOutput += \"0\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(opts.thousandsSeparator) {\r\n\t\t\t\t\tvar sThousandsSeparator = opts.thousandsSeparator;\r\n\t\t\t\t\tnDotIndex = sOutput.lastIndexOf(sDecimalSeparator);\r\n\t\t\t\t\tnDotIndex = (nDotIndex > -1) ? nDotIndex : sOutput.length;\r\n\t\t\t\t\tvar sNewOutput = sOutput.substring(nDotIndex);\r\n\t\t\t\t\tvar nCount = -1, i;\r\n\t\t\t\t\tfor (i=nDotIndex; i>0; i--) {\r\n\t\t\t\t\t\tnCount++;\r\n\t\t\t\t\t\tif ((nCount%3 === 0) && (i !== nDotIndex) && (!bNegative || (i > 1))) {\r\n\t\t\t\t\t\t\tsNewOutput = sThousandsSeparator + sNewOutput;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsNewOutput = sOutput.charAt(i-1) + sNewOutput;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsOutput = sNewOutput;\r\n\t\t\t\t}\r\n\t\t\t\t// Prepend prefix\r\n\t\t\t\tsOutput = (opts.prefix) ? opts.prefix + sOutput : sOutput;\r\n\t\t\t\t// Append suffix\r\n\t\t\t\tsOutput = (opts.suffix) ? sOutput + opts.suffix : sOutput;\r\n\t\t\t\treturn sOutput;\r\n\r\n\t\t\t}\r\n\t\t\treturn nData;\r\n\t\t}\r\n\t};\r\n\t$.fn.fmatter.defaultFormat = function(cellval, opts) {\r\n\t\treturn ($.fmatter.isValue(cellval) && cellval!==\"\" ) ?  cellval : opts.defaultValue || \"&#160;\";\r\n\t};\r\n\t$.fn.fmatter.email = function(cellval, opts) {\r\n\t\tif(!$.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn \"<a href=\\\"mailto:\" + cellval + \"\\\">\" + cellval + \"</a>\";\r\n\t\t}\r\n\t\treturn $.fn.fmatter.defaultFormat(cellval,opts );\r\n\t};\r\n\t$.fn.fmatter.checkbox =function(cval, opts) {\r\n\t\tvar op = $.extend({},opts.checkbox), ds;\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif(op.disabled===true) {ds = \"disabled=\\\"disabled\\\"\";} else {ds=\"\";}\r\n\t\tif($.fmatter.isEmpty(cval) || cval === undefined ) {cval = $.fn.fmatter.defaultFormat(cval,op);}\r\n\t\tcval=String(cval);\r\n\t\tcval=(cval+\"\").toLowerCase();\r\n\t\tvar bchk = cval.search(/(false|f|0|no|n|off|undefined)/i)<0 ? \" checked='checked' \" : \"\";\r\n\t\treturn \"<input type=\\\"checkbox\\\" \" + bchk  + \" value=\\\"\"+ cval+\"\\\" offval=\\\"no\\\" \"+ds+ \"/>\";\r\n\t};\r\n\t$.fn.fmatter.link = function(cellval, opts) {\r\n\t\tvar op = {target:opts.target};\r\n\t\tvar target = \"\";\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif(op.target) {target = 'target=' + op.target;}\r\n\t\tif(!$.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn \"<a \"+target+\" href=\\\"\" + cellval + \"\\\">\" + cellval + \"</a>\";\r\n\t\t}\r\n\t\treturn $.fn.fmatter.defaultFormat(cellval,opts);\r\n\t};\r\n\t$.fn.fmatter.showlink = function(cellval, opts) {\r\n\t\tvar op = {baseLinkUrl: opts.baseLinkUrl,showAction:opts.showAction, addParam: opts.addParam || \"\", target: opts.target, idName: opts.idName},\r\n\t\ttarget = \"\", idUrl;\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif(op.target) {target = 'target=' + op.target;}\r\n\t\tidUrl = op.baseLinkUrl+op.showAction + '?'+ op.idName+'='+opts.rowId+op.addParam;\r\n\t\tif($.fmatter.isString(cellval) || $.fmatter.isNumber(cellval)) {\t//add this one even if its blank string\r\n\t\t\treturn \"<a \"+target+\" href=\\\"\" + idUrl + \"\\\">\" + cellval + \"</a>\";\r\n\t\t}\r\n\t\treturn $.fn.fmatter.defaultFormat(cellval,opts);\r\n\t};\r\n\t$.fn.fmatter.integer = function(cellval, opts) {\r\n\t\tvar op = $.extend({},opts.integer);\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif($.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn op.defaultValue;\r\n\t\t}\r\n\t\treturn $.fmatter.util.NumberFormat(cellval,op);\r\n\t};\r\n\t$.fn.fmatter.number = function (cellval, opts) {\r\n\t\tvar op = $.extend({},opts.number);\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif($.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn op.defaultValue;\r\n\t\t}\r\n\t\treturn $.fmatter.util.NumberFormat(cellval,op);\r\n\t};\r\n\t$.fn.fmatter.currency = function (cellval, opts) {\r\n\t\tvar op = $.extend({},opts.currency);\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif($.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn op.defaultValue;\r\n\t\t}\r\n\t\treturn $.fmatter.util.NumberFormat(cellval,op);\r\n\t};\r\n\t$.fn.fmatter.date = function (cellval, opts, rwd, act) {\r\n\t\tvar op = $.extend({},opts.date);\r\n\t\tif(opts.colModel !== undefined && opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif(!op.reformatAfterEdit && act === 'edit'){\r\n\t\t\treturn $.fn.fmatter.defaultFormat(cellval, opts);\r\n\t\t}\r\n\t\tif(!$.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn $.jgrid.parseDate(op.srcformat,cellval,op.newformat,op);\r\n\t\t}\r\n\t\treturn $.fn.fmatter.defaultFormat(cellval, opts);\r\n\t};\r\n\t$.fn.fmatter.select = function (cellval,opts) {\r\n\t\t// jqGrid specific\r\n\t\tcellval = String(cellval);\r\n\t\tvar oSelect = false, ret=[], sep, delim;\r\n\t\tif(opts.colModel.formatoptions !== undefined){\r\n\t\t\toSelect= opts.colModel.formatoptions.value;\r\n\t\t\tsep = opts.colModel.formatoptions.separator === undefined ? \":\" : opts.colModel.formatoptions.separator;\r\n\t\t\tdelim = opts.colModel.formatoptions.delimiter === undefined ? \";\" : opts.colModel.formatoptions.delimiter;\r\n\t\t} else if(opts.colModel.editoptions !== undefined){\r\n\t\t\toSelect= opts.colModel.editoptions.value;\r\n\t\t\tsep = opts.colModel.editoptions.separator === undefined ? \":\" : opts.colModel.editoptions.separator;\r\n\t\t\tdelim = opts.colModel.editoptions.delimiter === undefined ? \";\" : opts.colModel.editoptions.delimiter;\r\n\t\t}\r\n\t\tif (oSelect) {\r\n\t\t\tvar\tmsl =  opts.colModel.editoptions.multiple === true ? true : false,\r\n\t\t\tscell = [], sv;\r\n\t\t\tif(msl) {scell = cellval.split(\",\");scell = $.map(scell,function(n){return $.trim(n);});}\r\n\t\t\tif ($.fmatter.isString(oSelect)) {\r\n\t\t\t\t// mybe here we can use some caching with care ????\r\n\t\t\t\tvar so = oSelect.split(delim), j=0, i;\r\n\t\t\t\tfor(i=0; i<so.length;i++){\r\n\t\t\t\t\tsv = so[i].split(sep);\r\n\t\t\t\t\tif(sv.length > 2 ) {\r\n\t\t\t\t\t\tsv[1] = $.map(sv,function(n,i){if(i>0) {return n;}}).join(sep);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msl) {\r\n\t\t\t\t\t\tif($.inArray(sv[0],scell)>-1) {\r\n\t\t\t\t\t\t\tret[j] = sv[1];\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if($.trim(sv[0]) === $.trim(cellval)) {\r\n\t\t\t\t\t\tret[0] = sv[1];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if($.fmatter.isObject(oSelect)) {\r\n\t\t\t\t// this is quicker\r\n\t\t\t\tif(msl) {\r\n\t\t\t\t\tret = $.map(scell, function(n){\r\n\t\t\t\t\t\treturn oSelect[n];\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tret[0] = oSelect[cellval] || \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcellval = ret.join(\", \");\r\n\t\treturn  cellval === \"\" ? $.fn.fmatter.defaultFormat(cellval,opts) : cellval;\r\n\t};\r\n\t$.fn.fmatter.rowactions = function(act) {\r\n\t\tvar $tr = $(this).closest(\"tr.jqgrow\"),\r\n\t\t\trid = $tr.attr(\"id\"),\r\n\t\t\t$id = $(this).closest(\"table.ui-jqgrid-btable\").attr('id').replace(/_frozen([^_]*)$/,'$1'),\r\n\t\t\t$grid = $(\"#\"+$id),\r\n\t\t\t$t = $grid[0],\r\n\t\t\tp = $t.p,\r\n\t\t\tcm = p.colModel[$.jgrid.getCellIndex(this)],\r\n\t\t\t$actionsDiv = cm.frozen ? $(\"tr#\"+rid+\" td:eq(\"+$.jgrid.getCellIndex(this)+\") > div\",$grid) :$(this).parent(),\r\n\t\t\top = {\r\n\t\t\t\textraparam: {}\r\n\t\t\t},\r\n\t\t\tsaverow = function(rowid, res) {\r\n\t\t\t\tif($.isFunction(op.afterSave)) { op.afterSave.call($t, rowid, res); }\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-edit,div.ui-inline-del\").show();\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-save,div.ui-inline-cancel\").hide();\r\n\t\t\t},\r\n\t\t\trestorerow = function(rowid) {\r\n\t\t\t\tif($.isFunction(op.afterRestore)) { op.afterRestore.call($t, rowid); }\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-edit,div.ui-inline-del\").show();\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-save,div.ui-inline-cancel\").hide();\r\n\t\t\t};\r\n\r\n\t\tif (cm.formatoptions !== undefined) {\r\n\t\t\top = $.extend(op,cm.formatoptions);\r\n\t\t}\r\n\t\tif (p.editOptions !== undefined) {\r\n\t\t\top.editOptions = p.editOptions;\r\n\t\t}\r\n\t\tif (p.delOptions !== undefined) {\r\n\t\t\top.delOptions = p.delOptions;\r\n\t\t}\r\n\t\tif ($tr.hasClass(\"jqgrid-new-row\")){\r\n\t\t\top.extraparam[p.prmNames.oper] = p.prmNames.addoper;\r\n\t\t}\r\n\t\tvar actop = {\r\n\t\t\tkeys: op.keys,\r\n\t\t\toneditfunc: op.onEdit,\r\n\t\t\tsuccessfunc: op.onSuccess,\r\n\t\t\turl: op.url,\r\n\t\t\textraparam: op.extraparam,\r\n\t\t\taftersavefunc: saverow,\r\n\t\t\terrorfunc: op.onError,\r\n\t\t\tafterrestorefunc: restorerow,\r\n\t\t\trestoreAfterError: op.restoreAfterError,\r\n\t\t\tmtype: op.mtype\r\n\t\t};\r\n\t\tswitch(act)\r\n\t\t{\r\n\t\t\tcase 'edit':\r\n\t\t\t\t$grid.jqGrid('editRow', rid, actop);\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-edit,div.ui-inline-del\").hide();\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-save,div.ui-inline-cancel\").show();\r\n\t\t\t\t$grid.triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'save':\r\n\t\t\t\tif ($grid.jqGrid('saveRow', rid, actop)) {\r\n\t\t\t\t\t$actionsDiv.find(\"div.ui-inline-edit,div.ui-inline-del\").show();\r\n\t\t\t\t\t$actionsDiv.find(\"div.ui-inline-save,div.ui-inline-cancel\").hide();\r\n\t\t\t\t\t$grid.triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'cancel' :\r\n\t\t\t\t$grid.jqGrid('restoreRow', rid, restorerow);\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-edit,div.ui-inline-del\").show();\r\n\t\t\t\t$actionsDiv.find(\"div.ui-inline-save,div.ui-inline-cancel\").hide();\r\n\t\t\t\t$grid.triggerHandler(\"jqGridAfterGridComplete\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'del':\r\n\t\t\t\t$grid.jqGrid('delGridRow', rid, op.delOptions);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'formedit':\r\n\t\t\t\t$grid.jqGrid('setSelection', rid);\r\n\t\t\t\t$grid.jqGrid('editGridRow', rid, op.editOptions);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t$.fn.fmatter.actions = function(cellval,opts) {\r\n\t\tvar op={keys:false, editbutton:true, delbutton:true, editformbutton: false},\r\n\t\t\trowid=opts.rowId, str=\"\",ocl;\r\n\t\tif(opts.colModel.formatoptions !== undefined) {\r\n\t\t\top = $.extend(op,opts.colModel.formatoptions);\r\n\t\t}\r\n\t\tif(rowid === undefined || $.fmatter.isEmpty(rowid)) {return \"\";}\r\n\t\tif(op.editformbutton){\r\n\t\t\tocl = \"id='jEditButton_\"+rowid+\"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); \";\r\n\t\t\tstr += \"<div title='\"+$.jgrid.nav.edittitle+\"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' \"+ocl+\"><span class='ui-icon ui-icon-pencil'></span></div>\";\r\n\t\t} else if(op.editbutton){\r\n\t\t\tocl = \"id='jEditButton_\"+rowid+\"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') \";\r\n\t\t\tstr += \"<div title='\"+$.jgrid.nav.edittitle+\"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' \"+ocl+\"><span class='ui-icon ui-icon-pencil'></span></div>\";\r\n\t\t}\r\n\t\tif(op.delbutton) {\r\n\t\t\tocl = \"id='jDeleteButton_\"+rowid+\"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); \";\r\n\t\t\tstr += \"<div title='\"+$.jgrid.nav.deltitle+\"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' \"+ocl+\"><span class='ui-icon ui-icon-trash'></span></div>\";\r\n\t\t}\r\n\t\tocl = \"id='jSaveButton_\"+rowid+\"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); \";\r\n\t\tstr += \"<div title='\"+$.jgrid.edit.bSubmit+\"' style='float:left;display:none' class='ui-pg-div ui-inline-save' \"+ocl+\"><span class='ui-icon ui-icon-disk'></span></div>\";\r\n\t\tocl = \"id='jCancelButton_\"+rowid+\"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); \";\r\n\t\tstr += \"<div title='\"+$.jgrid.edit.bCancel+\"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' \"+ocl+\"><span class='ui-icon ui-icon-cancel'></span></div>\";\r\n\t\treturn \"<div style='margin-left:8px;'>\" + str + \"</div>\";\r\n\t};\r\n\t$.unformat = function (cellval,options,pos,cnt) {\r\n\t\t// specific for jqGrid only\r\n\t\tvar ret, formatType = options.colModel.formatter,\r\n\t\top =options.colModel.formatoptions || {}, sep,\r\n\t\tre = /([\\.\\*\\_\\'\\(\\)\\{\\}\\+\\?\\\\])/g,\r\n\t\tunformatFunc = options.colModel.unformat||($.fn.fmatter[formatType] && $.fn.fmatter[formatType].unformat);\r\n\t\tif(unformatFunc !== undefined && $.isFunction(unformatFunc) ) {\r\n\t\t\tret = unformatFunc.call(this, $(cellval).text(), options, cellval);\r\n\t\t} else if(formatType !== undefined && $.fmatter.isString(formatType) ) {\r\n\t\t\tvar opts = $.jgrid.formatter || {}, stripTag;\r\n\t\t\tswitch(formatType) {\r\n\t\t\t\tcase 'integer' :\r\n\t\t\t\t\top = $.extend({},opts.integer,op);\r\n\t\t\t\t\tsep = op.thousandsSeparator.replace(re,\"\\\\$1\");\r\n\t\t\t\t\tstripTag = new RegExp(sep, \"g\");\r\n\t\t\t\t\tret = $(cellval).text().replace(stripTag,'');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'number' :\r\n\t\t\t\t\top = $.extend({},opts.number,op);\r\n\t\t\t\t\tsep = op.thousandsSeparator.replace(re,\"\\\\$1\");\r\n\t\t\t\t\tstripTag = new RegExp(sep, \"g\");\r\n\t\t\t\t\tret = $(cellval).text().replace(stripTag,\"\").replace(op.decimalSeparator,'.');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'currency':\r\n\t\t\t\t\top = $.extend({},opts.currency,op);\r\n\t\t\t\t\tsep = op.thousandsSeparator.replace(re,\"\\\\$1\");\r\n\t\t\t\t\tstripTag = new RegExp(sep, \"g\");\r\n\t\t\t\t\tret = $(cellval).text();\r\n\t\t\t\t\tif (op.prefix && op.prefix.length) {\r\n\t\t\t\t\t\tret = ret.substr(op.prefix.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (op.suffix && op.suffix.length) {\r\n\t\t\t\t\t\tret = ret.substr(0, ret.length - op.suffix.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tret = ret.replace(stripTag,'').replace(op.decimalSeparator,'.');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'checkbox':\r\n\t\t\t\t\tvar cbv = (options.colModel.editoptions) ? options.colModel.editoptions.value.split(\":\") : [\"Yes\",\"No\"];\r\n\t\t\t\t\tret = $('input',cellval).is(\":checked\") ? cbv[0] : cbv[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'select' :\r\n\t\t\t\t\tret = $.unformat.select(cellval,options,pos,cnt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'actions':\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tret= $(cellval).text();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret !== undefined ? ret : cnt===true ? $(cellval).text() : $.jgrid.htmlDecode($(cellval).html());\r\n\t};\r\n\t$.unformat.select = function (cellval,options,pos,cnt) {\r\n\t\t// Spacial case when we have local data and perform a sort\r\n\t\t// cnt is set to true only in sortDataArray\r\n\t\tvar ret = [];\r\n\t\tvar cell = $(cellval).text();\r\n\t\tif(cnt===true) {return cell;}\r\n\t\tvar op = $.extend({}, options.colModel.formatoptions !== undefined ? options.colModel.formatoptions: options.colModel.editoptions),\r\n\t\tsep = op.separator === undefined ? \":\" : op.separator,\r\n\t\tdelim = op.delimiter === undefined ? \";\" : op.delimiter;\r\n\r\n\t\tif(op.value){\r\n\t\t\tvar oSelect = op.value,\r\n\t\t\tmsl =  op.multiple === true ? true : false,\r\n\t\t\tscell = [], sv;\r\n\t\t\tif(msl) {scell = cell.split(\",\");scell = $.map(scell,function(n){return $.trim(n);});}\r\n\t\t\tif ($.fmatter.isString(oSelect)) {\r\n\t\t\t\tvar so = oSelect.split(delim), j=0, i;\r\n\t\t\t\tfor(i=0; i<so.length;i++){\r\n\t\t\t\t\tsv = so[i].split(sep);\r\n\t\t\t\t\tif(sv.length > 2 ) {\r\n\t\t\t\t\t\tsv[1] = $.map(sv,function(n,i){if(i>0) {return n;}}).join(sep);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msl) {\r\n\t\t\t\t\t\tif($.inArray(sv[1],scell)>-1) {\r\n\t\t\t\t\t\t\tret[j] = sv[0];\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if($.trim(sv[1]) === $.trim(cell)) {\r\n\t\t\t\t\t\tret[0] = sv[0];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if($.fmatter.isObject(oSelect) || $.isArray(oSelect) ){\r\n\t\t\t\tif(!msl) {scell[0] =  cell;}\r\n\t\t\t\tret = $.map(scell, function(n){\r\n\t\t\t\t\tvar rv;\r\n\t\t\t\t\t$.each(oSelect, function(i,val){\r\n\t\t\t\t\t\tif (val === n) {\r\n\t\t\t\t\t\t\trv = i;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif( rv !== undefined ) {return rv;}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn ret.join(\", \");\r\n\t\t}\r\n\t\treturn cell || \"\";\r\n\t};\r\n\t$.unformat.date = function (cellval, opts) {\r\n\t\tvar op = $.jgrid.formatter.date || {};\r\n\t\tif(opts.formatoptions !== undefined) {\r\n\t\t\top = $.extend({},op,opts.formatoptions);\r\n\t\t}\r\n\t\tif(!$.fmatter.isEmpty(cellval)) {\r\n\t\t\treturn $.jgrid.parseDate(op.newformat,cellval,op.srcformat,op);\r\n\t\t}\r\n\t\treturn $.fn.fmatter.defaultFormat(cellval, opts);\r\n\t};\r\n})(jQuery);\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($){\r\n/*\r\n * jqGrid common function\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n*/\r\n\"use strict\";\r\n$.extend($.jgrid,{\r\n// Modal functions\r\n\tshowModal : function(h) {\r\n\t\th.w.show();\r\n\t},\r\n\tcloseModal : function(h) {\r\n\t\th.w.hide().attr(\"aria-hidden\",\"true\");\r\n\t\tif(h.o) {h.o.remove();}\r\n\t},\r\n\thideModal : function (selector,o) {\r\n\t\to = $.extend({jqm : true, gb :''}, o || {});\r\n\t\tif(o.onClose) {\r\n\t\t\tvar oncret = o.gb && typeof o.gb === \"string\" && o.gb.substr(0,6) === \"#gbox_\" ? o.onClose.call($(\"#\" + o.gb.substr(6))[0], selector) : o.onClose(selector);\r\n\t\t\tif (typeof oncret === 'boolean'  && !oncret ) { return; }\r\n\t\t}\r\n\t\tif ($.fn.jqm && o.jqm === true) {\r\n\t\t\t$(selector).attr(\"aria-hidden\",\"true\").jqmHide();\r\n\t\t} else {\r\n\t\t\tif(o.gb !== '') {\r\n\t\t\t\ttry {$(\".jqgrid-overlay:first\",o.gb).hide();} catch (e){}\r\n\t\t\t}\r\n\t\t\t$(selector).hide().attr(\"aria-hidden\",\"true\");\r\n\t\t}\r\n\t},\r\n//Helper functions\r\n\tfindPos : function(obj) {\r\n\t\tvar curleft = 0, curtop = 0;\r\n\t\tif (obj.offsetParent) {\r\n\t\t\tdo {\r\n\t\t\t\tcurleft += obj.offsetLeft;\r\n\t\t\t\tcurtop += obj.offsetTop;\r\n\t\t\t} while (obj = obj.offsetParent);\r\n\t\t\t//do not change obj == obj.offsetParent\r\n\t\t}\r\n\t\treturn [curleft,curtop];\r\n\t},\r\n\tcreateModal : function(aIDs, content, p, insertSelector, posSelector, appendsel, css) {\r\n\t\tp = $.extend(true, {}, $.jgrid.jqModal || {}, p);\r\n\t\tvar mw  = document.createElement('div'), rtlsup, self = this;\r\n\t\tcss = $.extend({}, css || {});\r\n\t\trtlsup = $(p.gbox).attr(\"dir\") === \"rtl\" ? true : false;\r\n\t\tmw.className= \"ui-widget ui-widget-content ui-corner-all ui-jqdialog\";\r\n\t\tmw.id = aIDs.themodal;\r\n\t\tvar mh = document.createElement('div');\r\n\t\tmh.className = \"ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\";\r\n\t\tmh.id = aIDs.modalhead;\r\n\t\t$(mh).append(\"<span class='ui-jqdialog-title'>\"+p.caption+\"</span>\");\r\n\t\tvar ahr= $(\"<a class='ui-jqdialog-titlebar-close ui-corner-all'></a>\")\r\n\t\t.hover(function(){ahr.addClass('ui-state-hover');},\r\n\t\t\tfunction(){ahr.removeClass('ui-state-hover');})\r\n\t\t.append(\"<span class='ui-icon ui-icon-closethick'></span>\");\r\n\t\t$(mh).append(ahr);\r\n\t\tif(rtlsup) {\r\n\t\t\tmw.dir = \"rtl\";\r\n\t\t\t$(\".ui-jqdialog-title\",mh).css(\"float\",\"right\");\r\n\t\t\t$(\".ui-jqdialog-titlebar-close\",mh).css(\"left\",0.3+\"em\");\r\n\t\t} else {\r\n\t\t\tmw.dir = \"ltr\";\r\n\t\t\t$(\".ui-jqdialog-title\",mh).css(\"float\",\"left\");\r\n\t\t\t$(\".ui-jqdialog-titlebar-close\",mh).css(\"right\",0.3+\"em\");\r\n\t\t}\r\n\t\tvar mc = document.createElement('div');\r\n\t\t$(mc).addClass(\"ui-jqdialog-content ui-widget-content\").attr(\"id\",aIDs.modalcontent);\r\n\t\t$(mc).append(content);\r\n\t\tmw.appendChild(mc);\r\n\t\t$(mw).prepend(mh);\r\n\t\tif(appendsel===true) { $('body').append(mw); } //append as first child in body -for alert dialog\r\n\t\telse if (typeof appendsel === \"string\") {\r\n\t\t\t$(appendsel).append(mw);\r\n\t\t} else {$(mw).insertBefore(insertSelector);}\r\n\t\t$(mw).css(css);\r\n\t\tif(p.jqModal === undefined) {p.jqModal = true;} // internal use\r\n\t\tvar coord = {};\r\n\t\tif ( $.fn.jqm && p.jqModal === true) {\r\n\t\t\tif(p.left ===0 && p.top===0 && p.overlay) {\r\n\t\t\t\tvar pos = [];\r\n\t\t\t\tpos = $.jgrid.findPos(posSelector);\r\n\t\t\t\tp.left = pos[0] + 4;\r\n\t\t\t\tp.top = pos[1] + 4;\r\n\t\t\t}\r\n\t\t\tcoord.top = p.top+\"px\";\r\n\t\t\tcoord.left = p.left;\r\n\t\t} else if(p.left !==0 || p.top!==0) {\r\n\t\t\tcoord.left = p.left;\r\n\t\t\tcoord.top = p.top+\"px\";\r\n\t\t}\r\n\t\t$(\"a.ui-jqdialog-titlebar-close\",mh).click(function(){\r\n\t\t\tvar oncm = $(\"#\"+$.jgrid.jqID(aIDs.themodal)).data(\"onClose\") || p.onClose;\r\n\t\t\tvar gboxclose = $(\"#\"+$.jgrid.jqID(aIDs.themodal)).data(\"gbox\") || p.gbox;\r\n\t\t\tself.hideModal(\"#\"+$.jgrid.jqID(aIDs.themodal),{gb:gboxclose,jqm:p.jqModal,onClose:oncm});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\tif (p.width === 0 || !p.width) {p.width = 300;}\r\n\t\tif(p.height === 0 || !p.height) {p.height =200;}\r\n\t\tif(!p.zIndex) {\r\n\t\t\tvar parentZ = $(insertSelector).parents(\"*[role=dialog]\").filter(':first').css(\"z-index\");\r\n\t\t\tif(parentZ) {\r\n\t\t\t\tp.zIndex = parseInt(parentZ,10)+2;\r\n\t\t\t} else {\r\n\t\t\t\tp.zIndex = 950;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar rtlt = 0;\r\n\t\tif( rtlsup && coord.left && !appendsel) {\r\n\t\t\trtlt = $(p.gbox).width()- (!isNaN(p.width) ? parseInt(p.width,10) :0) - 8; // to do\r\n\t\t// just in case\r\n\t\t\tcoord.left = parseInt(coord.left,10) + parseInt(rtlt,10);\r\n\t\t}\r\n\t\tif(coord.left) { coord.left += \"px\"; }\r\n\t\t$(mw).css($.extend({\r\n\t\t\twidth: isNaN(p.width) ? \"auto\": p.width+\"px\",\r\n\t\t\theight:isNaN(p.height) ? \"auto\" : p.height + \"px\",\r\n\t\t\tzIndex:p.zIndex,\r\n\t\t\toverflow: 'hidden'\r\n\t\t},coord))\r\n\t\t.attr({tabIndex: \"-1\",\"role\":\"dialog\",\"aria-labelledby\":aIDs.modalhead,\"aria-hidden\":\"true\"});\r\n\t\tif(p.drag === undefined) { p.drag=true;}\r\n\t\tif(p.resize === undefined) {p.resize=true;}\r\n\t\tif (p.drag) {\r\n\t\t\t$(mh).css('cursor','move');\r\n\t\t\tif($.fn.jqDrag) {\r\n\t\t\t\t$(mw).jqDrag(mh);\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$(mw).draggable({handle: $(\"#\"+$.jgrid.jqID(mh.id))});\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(p.resize) {\r\n\t\t\tif($.fn.jqResize) {\r\n\t\t\t\t$(mw).append(\"<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>\");\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID(aIDs.themodal)).jqResize(\".jqResize\",aIDs.scrollelm ? \"#\"+$.jgrid.jqID(aIDs.scrollelm) : false);\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$(mw).resizable({handles: 'se, sw',alsoResize: aIDs.scrollelm ? \"#\"+$.jgrid.jqID(aIDs.scrollelm) : false});\r\n\t\t\t\t} catch (r) {}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(p.closeOnEscape === true){\r\n\t\t\t$(mw).keydown( function( e ) {\r\n\t\t\t\tif( e.which == 27 ) {\r\n\t\t\t\t\tvar cone = $(\"#\"+$.jgrid.jqID(aIDs.themodal)).data(\"onClose\") || p.onClose;\r\n\t\t\t\t\tself.hideModal(\"#\"+$.jgrid.jqID(aIDs.themodal),{gb:p.gbox,jqm:p.jqModal,onClose: cone});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tviewModal : function (selector,o){\r\n\t\to = $.extend({\r\n\t\t\ttoTop: true,\r\n\t\t\toverlay: 10,\r\n\t\t\tmodal: false,\r\n\t\t\toverlayClass : 'ui-widget-overlay',\r\n\t\t\tonShow: $.jgrid.showModal,\r\n\t\t\tonHide: $.jgrid.closeModal,\r\n\t\t\tgbox: '',\r\n\t\t\tjqm : true,\r\n\t\t\tjqM : true\r\n\t\t}, o || {});\r\n\t\tif ($.fn.jqm && o.jqm === true) {\r\n\t\t\tif(o.jqM) { $(selector).attr(\"aria-hidden\",\"false\").jqm(o).jqmShow(); }\r\n\t\t\telse {$(selector).attr(\"aria-hidden\",\"false\").jqmShow();}\r\n\t\t} else {\r\n\t\t\tif(o.gbox !== '') {\r\n\t\t\t\t$(\".jqgrid-overlay:first\",o.gbox).show();\r\n\t\t\t\t$(selector).data(\"gbox\",o.gbox);\r\n\t\t\t}\r\n\t\t\t$(selector).show().attr(\"aria-hidden\",\"false\");\r\n\t\t\ttry{$(':input:visible',selector)[0].focus();}catch(_){}\r\n\t\t}\r\n\t},\r\n\tinfo_dialog : function(caption, content,c_b, modalopt) {\r\n\t\tvar mopt = {\r\n\t\t\twidth:290,\r\n\t\t\theight:'auto',\r\n\t\t\tdataheight: 'auto',\r\n\t\t\tdrag: true,\r\n\t\t\tresize: false,\r\n\t\t\tleft:250,\r\n\t\t\ttop:170,\r\n\t\t\tzIndex : 1000,\r\n\t\t\tjqModal : true,\r\n\t\t\tmodal : false,\r\n\t\t\tcloseOnEscape : true,\r\n\t\t\talign: 'center',\r\n\t\t\tbuttonalign : 'center',\r\n\t\t\tbuttons : []\r\n\t\t// {text:'textbutt', id:\"buttid\", onClick : function(){...}}\r\n\t\t// if the id is not provided we set it like info_button_+ the index in the array - i.e info_button_0,info_button_1...\r\n\t\t};\r\n\t\t$.extend(true, mopt, $.jgrid.jqModal || {}, {caption:\"<b>\"+caption+\"</b>\"}, modalopt || {});\r\n\t\tvar jm = mopt.jqModal, self = this;\r\n\t\tif($.fn.jqm && !jm) { jm = false; }\r\n\t\t// in case there is no jqModal\r\n\t\tvar buttstr =\"\", i;\r\n\t\tif(mopt.buttons.length > 0) {\r\n\t\t\tfor(i=0;i<mopt.buttons.length;i++) {\r\n\t\t\t\tif(mopt.buttons[i].id === undefined) { mopt.buttons[i].id = \"info_button_\"+i; }\r\n\t\t\t\tbuttstr += \"<a id='\"+mopt.buttons[i].id+\"' class='fm-button ui-state-default ui-corner-all'>\"+mopt.buttons[i].text+\"</a>\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar dh = isNaN(mopt.dataheight) ? mopt.dataheight : mopt.dataheight+\"px\",\r\n\t\tcn = \"text-align:\"+mopt.align+\";\";\r\n\t\tvar cnt = \"<div id='info_id'>\";\r\n\t\tcnt += \"<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:\"+dh+\";\"+cn+\"'>\"+content+\"</div>\";\r\n\t\tcnt += c_b ? \"<div class='ui-widget-content ui-helper-clearfix' style='text-align:\"+mopt.buttonalign+\";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>\"+c_b+\"</a>\"+buttstr+\"</div>\" :\r\n\t\t\tbuttstr !== \"\"  ? \"<div class='ui-widget-content ui-helper-clearfix' style='text-align:\"+mopt.buttonalign+\";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>\"+buttstr+\"</div>\" : \"\";\r\n\t\tcnt += \"</div>\";\r\n\r\n\t\ttry {\r\n\t\t\tif($(\"#info_dialog\").attr(\"aria-hidden\") === \"false\") {\r\n\t\t\t\t$.jgrid.hideModal(\"#info_dialog\",{jqm:jm});\r\n\t\t\t}\r\n\t\t\t$(\"#info_dialog\").remove();\r\n\t\t} catch (e){}\r\n\t\t$.jgrid.createModal({\r\n\t\t\tthemodal:'info_dialog',\r\n\t\t\tmodalhead:'info_head',\r\n\t\t\tmodalcontent:'info_content',\r\n\t\t\tscrollelm: 'infocnt'},\r\n\t\t\tcnt,\r\n\t\t\tmopt,\r\n\t\t\t'','',true\r\n\t\t);\r\n\t\t// attach onclick after inserting into the dom\r\n\t\tif(buttstr) {\r\n\t\t\t$.each(mopt.buttons,function(i){\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID(this.id),\"#info_id\").bind('click',function(){mopt.buttons[i].onClick.call($(\"#info_dialog\")); return false;});\r\n\t\t\t});\r\n\t\t}\r\n\t\t$(\"#closedialog\", \"#info_id\").click(function(){\r\n\t\t\tself.hideModal(\"#info_dialog\",{\r\n\t\t\t\tjqm:jm,\r\n\t\t\t\tonClose: $(\"#info_dialog\").data(\"onClose\") || mopt.onClose,\r\n\t\t\t\tgb: $(\"#info_dialog\").data(\"gbox\") || mopt.gbox\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$(\".fm-button\",\"#info_dialog\").hover(\r\n\t\t\tfunction(){$(this).addClass('ui-state-hover');},\r\n\t\t\tfunction(){$(this).removeClass('ui-state-hover');}\r\n\t\t);\r\n\t\tif($.isFunction(mopt.beforeOpen) ) { mopt.beforeOpen(); }\r\n\t\t$.jgrid.viewModal(\"#info_dialog\",{\r\n\t\t\tonHide: function(h) {\r\n\t\t\t\th.w.hide().remove();\r\n\t\t\t\tif(h.o) { h.o.remove(); }\r\n\t\t\t},\r\n\t\t\tmodal :mopt.modal,\r\n\t\t\tjqm:jm\r\n\t\t});\r\n\t\tif($.isFunction(mopt.afterOpen) ) { mopt.afterOpen(); }\r\n\t\ttry{ $(\"#info_dialog\").focus();} catch (m){}\r\n\t},\r\n\tbindEv: function  (el, opt) {\r\n\t\tvar $t = this;\r\n\t\tif($.isFunction(opt.dataInit)) {\r\n\t\t\topt.dataInit.call($t,el,opt);\r\n\t\t}\r\n\t\tif(opt.dataEvents) {\r\n\t\t\t$.each(opt.dataEvents, function() {\r\n\t\t\t\tif (this.data !== undefined) {\r\n\t\t\t\t\t$(el).bind(this.type, this.data, this.fn);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(el).bind(this.type, this.fn);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n// Form Functions\r\n\tcreateEl : function(eltype,options,vl,autowidth, ajaxso) {\r\n\t\tvar elem = \"\", $t = this;\r\n\t\tfunction setAttributes(elm, atr, exl ) {\r\n\t\t\tvar exclude = ['dataInit','dataEvents','dataUrl', 'buildSelect','sopt', 'searchhidden', 'defaultValue', 'attr', 'custom_element', 'custom_value'];\r\n\t\t\tif(exl !== undefined && $.isArray(exl)) {\r\n\t\t\t\t$.merge(exclude, exl);\r\n\t\t\t}\r\n\t\t\t$.each(atr, function(key, value){\r\n\t\t\t\tif($.inArray(key, exclude) === -1) {\r\n\t\t\t\t\t$(elm).attr(key,value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!atr.hasOwnProperty('id')) {\r\n\t\t\t\t$(elm).attr('id', $.jgrid.randId());\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch (eltype)\r\n\t\t{\r\n\t\t\tcase \"textarea\" :\r\n\t\t\t\telem = document.createElement(\"textarea\");\r\n\t\t\t\tif(autowidth) {\r\n\t\t\t\t\tif(!options.cols) { $(elem).css({width:\"98%\"});}\r\n\t\t\t\t} else if (!options.cols) { options.cols = 20; }\r\n\t\t\t\tif(!options.rows) { options.rows = 2; }\r\n\t\t\t\tif(vl==='&nbsp;' || vl==='&#160;' || (vl.length===1 && vl.charCodeAt(0)===160)) {vl=\"\";}\r\n\t\t\t\telem.value = vl;\r\n\t\t\t\tsetAttributes(elem, options);\r\n\t\t\t\t$(elem).attr({\"role\":\"textbox\",\"multiline\":\"true\"});\r\n\t\t\tbreak;\r\n\t\t\tcase \"checkbox\" : //what code for simple checkbox\r\n\t\t\t\telem = document.createElement(\"input\");\r\n\t\t\t\telem.type = \"checkbox\";\r\n\t\t\t\tif( !options.value ) {\r\n\t\t\t\t\tvar vl1 = (vl+\"\").toLowerCase();\r\n\t\t\t\t\tif(vl1.search(/(false|f|0|no|n|off|undefined)/i)<0 && vl1!==\"\") {\r\n\t\t\t\t\t\telem.checked=true;\r\n\t\t\t\t\t\telem.defaultChecked=true;\r\n\t\t\t\t\t\telem.value = vl;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem.value = \"on\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(elem).attr(\"offval\",\"off\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar cbval = options.value.split(\":\");\r\n\t\t\t\t\tif(vl === cbval[0]) {\r\n\t\t\t\t\t\telem.checked=true;\r\n\t\t\t\t\t\telem.defaultChecked=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem.value = cbval[0];\r\n\t\t\t\t\t$(elem).attr(\"offval\",cbval[1]);\r\n\t\t\t\t}\r\n\t\t\t\tsetAttributes(elem, options, ['value']);\r\n\t\t\t\t$(elem).attr(\"role\",\"checkbox\");\r\n\t\t\tbreak;\r\n\t\t\tcase \"select\" :\r\n\t\t\t\telem = document.createElement(\"select\");\r\n\t\t\t\telem.setAttribute(\"role\",\"select\");\r\n\t\t\t\tvar msl, ovm = [];\r\n\t\t\t\tif(options.multiple===true) {\r\n\t\t\t\t\tmsl = true;\r\n\t\t\t\t\telem.multiple=\"multiple\";\r\n\t\t\t\t\t$(elem).attr(\"aria-multiselectable\",\"true\");\r\n\t\t\t\t} else { msl = false; }\r\n\t\t\t\tif(options.dataUrl !== undefined) {\r\n\t\t\t\t\tvar rowid = options.name ? String(options.id).substring(0, String(options.id).length - String(options.name).length - 1) : String(options.id),\r\n\t\t\t\t\t\tpostData = options.postData || ajaxso.postData;\r\n\r\n\t\t\t\t\tif ($t.p && $t.p.idPrefix) {\r\n\t\t\t\t\t\trowid = $.jgrid.stripPref($t.p.idPrefix, rowid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\t\turl: $.isFunction(options.dataUrl) ? options.dataUrl.call($t, rowid, vl, String(options.name)) : options.dataUrl,\r\n\t\t\t\t\t\ttype : \"GET\",\r\n\t\t\t\t\t\tdataType: \"html\",\r\n\t\t\t\t\t\tdata: $.isFunction(postData) ? postData.call($t, rowid, vl, String(options.name)) : postData,\r\n\t\t\t\t\t\tcontext: {elem:elem, options:options, vl:vl},\r\n\t\t\t\t\t\tsuccess: function(data){\r\n\t\t\t\t\t\t\tvar ovm = [], elem = this.elem, vl = this.vl,\r\n\t\t\t\t\t\t\toptions = $.extend({},this.options),\r\n\t\t\t\t\t\t\tmsl = options.multiple===true,\r\n\t\t\t\t\t\t\ta = $.isFunction(options.buildSelect) ? options.buildSelect.call($t,data) : data;\r\n\t\t\t\t\t\t\tif(typeof a === 'string') {\r\n\t\t\t\t\t\t\t\ta = $( $.trim( a ) ).html();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(a) {\r\n\t\t\t\t\t\t\t\t$(elem).append(a);\r\n\t\t\t\t\t\t\t\tsetAttributes(elem, options, postData ? ['postData'] : undefined );\r\n\t\t\t\t\t\t\t\tif(options.size === undefined) { options.size =  msl ? 3 : 1;}\r\n\t\t\t\t\t\t\t\tif(msl) {\r\n\t\t\t\t\t\t\t\t\tovm = vl.split(\",\");\r\n\t\t\t\t\t\t\t\t\tovm = $.map(ovm,function(n){return $.trim(n);});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tovm[0] = $.trim(vl);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//$(elem).attr(options);\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t$(\"option\",elem).each(function(i){\r\n\t\t\t\t\t\t\t\t\t\t//if(i===0) { this.selected = \"\"; }\r\n\t\t\t\t\t\t\t\t\t\t// fix IE8/IE7 problem with selecting of the first item on multiple=true\r\n\t\t\t\t\t\t\t\t\t\tif (i === 0 && elem.multiple) { this.selected = false; }\r\n\t\t\t\t\t\t\t\t\t\t$(this).attr(\"role\",\"option\");\r\n\t\t\t\t\t\t\t\t\t\tif($.inArray($.trim($(this).text()),ovm) > -1 || $.inArray($.trim($(this).val()),ovm) > -1 ) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.selected= \"selected\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},ajaxso || {}));\r\n\t\t\t\t} else if(options.value) {\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tif(options.size === undefined) {\r\n\t\t\t\t\t\toptions.size = msl ? 3 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msl) {\r\n\t\t\t\t\t\tovm = vl.split(\",\");\r\n\t\t\t\t\t\tovm = $.map(ovm,function(n){return $.trim(n);});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof options.value === 'function') { options.value = options.value(); }\r\n\t\t\t\t\tvar so,sv, ov,\r\n\t\t\t\t\tsep = options.separator === undefined ? \":\" : options.separator,\r\n\t\t\t\t\tdelim = options.delimiter === undefined ? \";\" : options.delimiter;\r\n\t\t\t\t\tif(typeof options.value === 'string') {\r\n\t\t\t\t\t\tso = options.value.split(delim);\r\n\t\t\t\t\t\tfor(i=0; i<so.length;i++){\r\n\t\t\t\t\t\t\tsv = so[i].split(sep);\r\n\t\t\t\t\t\t\tif(sv.length > 2 ) {\r\n\t\t\t\t\t\t\t\tsv[1] = $.map(sv,function(n,ii){if(ii>0) { return n;} }).join(sep);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tov = document.createElement(\"option\");\r\n\t\t\t\t\t\t\tov.setAttribute(\"role\",\"option\");\r\n\t\t\t\t\t\t\tov.value = sv[0]; ov.innerHTML = sv[1];\r\n\t\t\t\t\t\t\telem.appendChild(ov);\r\n\t\t\t\t\t\t\tif (!msl &&  ($.trim(sv[0]) === $.trim(vl) || $.trim(sv[1]) === $.trim(vl))) { ov.selected =\"selected\"; }\r\n\t\t\t\t\t\t\tif (msl && ($.inArray($.trim(sv[1]), ovm)>-1 || $.inArray($.trim(sv[0]), ovm)>-1)) {ov.selected =\"selected\";}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (typeof options.value === 'object') {\r\n\t\t\t\t\t\tvar oSv = options.value, key;\r\n\t\t\t\t\t\tfor (key in oSv) {\r\n\t\t\t\t\t\t\tif (oSv.hasOwnProperty(key ) ){\r\n\t\t\t\t\t\t\t\tov = document.createElement(\"option\");\r\n\t\t\t\t\t\t\t\tov.setAttribute(\"role\",\"option\");\r\n\t\t\t\t\t\t\t\tov.value = key; ov.innerHTML = oSv[key];\r\n\t\t\t\t\t\t\t\telem.appendChild(ov);\r\n\t\t\t\t\t\t\t\tif (!msl &&  ( $.trim(key) === $.trim(vl) || $.trim(oSv[key]) === $.trim(vl)) ) { ov.selected =\"selected\"; }\r\n\t\t\t\t\t\t\t\tif (msl && ($.inArray($.trim(oSv[key]),ovm)>-1 || $.inArray($.trim(key),ovm)>-1)) { ov.selected =\"selected\"; }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetAttributes(elem, options, ['value']);\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase \"text\" :\r\n\t\t\tcase \"password\" :\r\n\t\t\tcase \"button\" :\r\n\t\t\t\tvar role;\r\n\t\t\t\tif(eltype===\"button\") { role = \"button\"; }\r\n\t\t\t\telse { role = \"textbox\"; }\r\n\t\t\t\telem = document.createElement(\"input\");\r\n\t\t\t\telem.type = eltype;\r\n\t\t\t\telem.value = vl;\r\n\t\t\t\tsetAttributes(elem, options);\r\n\t\t\t\tif(eltype !== \"button\"){\r\n\t\t\t\t\tif(autowidth) {\r\n\t\t\t\t\t\tif(!options.size) { $(elem).css({width:\"98%\"}); }\r\n\t\t\t\t\t} else if (!options.size) { options.size = 20; }\r\n\t\t\t\t}\r\n\t\t\t\t$(elem).attr(\"role\",role);\r\n\t\t\tbreak;\r\n\t\t\tcase \"image\" :\r\n\t\t\tcase \"file\" :\r\n\t\t\t\telem = document.createElement(\"input\");\r\n\t\t\t\telem.type = eltype;\r\n\t\t\t\tsetAttributes(elem, options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"custom\" :\r\n\t\t\t\telem = document.createElement(\"span\");\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif($.isFunction(options.custom_element)) {\r\n\t\t\t\t\t\tvar celm = options.custom_element.call($t,vl,options);\r\n\t\t\t\t\t\tif(celm) {\r\n\t\t\t\t\t\t\tcelm = $(celm).addClass(\"customelement\").attr({id:options.id,name:options.name});\r\n\t\t\t\t\t\t\t$(elem).empty().append(celm);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow \"e2\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow \"e1\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tif (e===\"e1\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_element' \"+$.jgrid.edit.msg.nodefined, $.jgrid.edit.bClose);}\r\n\t\t\t\t\tif (e===\"e2\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_element' \"+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose);}\r\n\t\t\t\t\telse { $.jgrid.info_dialog($.jgrid.errors.errcap,typeof e===\"string\"?e:e.message,$.jgrid.edit.bClose); }\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn elem;\r\n\t},\r\n// Date Validation Javascript\r\n\tcheckDate : function (format, date) {\r\n\t\tvar daysInFebruary = function(year){\r\n\t\t// February has 29 days in any year evenly divisible by four,\r\n\t\t// EXCEPT for centurial years which are not also divisible by 400.\r\n\t\t\treturn (((year % 4 === 0) && ( year % 100 !== 0 || (year % 400 === 0))) ? 29 : 28 );\r\n\t\t},\r\n\t\ttsp = {}, sep;\r\n\t\tformat = format.toLowerCase();\r\n\t\t//we search for /,-,. for the date separator\r\n\t\tif(format.indexOf(\"/\") !== -1) {\r\n\t\t\tsep = \"/\";\r\n\t\t} else if(format.indexOf(\"-\") !== -1) {\r\n\t\t\tsep = \"-\";\r\n\t\t} else if(format.indexOf(\".\") !== -1) {\r\n\t\t\tsep = \".\";\r\n\t\t} else {\r\n\t\t\tsep = \"/\";\r\n\t\t}\r\n\t\tformat = format.split(sep);\r\n\t\tdate = date.split(sep);\r\n\t\tif (date.length !== 3) { return false; }\r\n\t\tvar j=-1,yln, dln=-1, mln=-1, i;\r\n\t\tfor(i=0;i<format.length;i++){\r\n\t\t\tvar dv =  isNaN(date[i]) ? 0 : parseInt(date[i],10);\r\n\t\t\ttsp[format[i]] = dv;\r\n\t\t\tyln = format[i];\r\n\t\t\tif(yln.indexOf(\"y\") !== -1) { j=i; }\r\n\t\t\tif(yln.indexOf(\"m\") !== -1) { mln=i; }\r\n\t\t\tif(yln.indexOf(\"d\") !== -1) { dln=i; }\r\n\t\t}\r\n\t\tif (format[j] === \"y\" || format[j] === \"yyyy\") {\r\n\t\t\tyln=4;\r\n\t\t} else if(format[j] ===\"yy\"){\r\n\t\t\tyln = 2;\r\n\t\t} else {\r\n\t\t\tyln = -1;\r\n\t\t}\r\n\t\tvar daysInMonth = [0,31,29,31,30,31,30,31,31,30,31,30,31],\r\n\t\tstrDate;\r\n\t\tif (j === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\tstrDate = tsp[format[j]].toString();\r\n\t\t\tif(yln === 2 && strDate.length === 1) {yln = 1;}\r\n\t\t\tif (strDate.length !== yln || (tsp[format[j]]===0 && date[j]!==\"00\")){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\tif(mln === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\tstrDate = tsp[format[mln]].toString();\r\n\t\t\tif (strDate.length<1 || tsp[format[mln]]<1 || tsp[format[mln]]>12){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\tif(dln === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\tstrDate = tsp[format[dln]].toString();\r\n\t\t\tif (strDate.length<1 || tsp[format[dln]]<1 || tsp[format[dln]]>31 || (tsp[format[mln]]===2 && tsp[format[dln]]>daysInFebruary(tsp[format[j]])) || tsp[format[dln]] > daysInMonth[tsp[format[mln]]]){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tisEmpty : function(val)\r\n\t{\r\n\t\tif (val.match(/^\\s+$/) || val === \"\")\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\treturn false;\r\n\t},\r\n\tcheckTime : function(time){\r\n\t// checks only hh:ss (and optional am/pm)\r\n\t\tvar re = /^(\\d{1,2}):(\\d{2})([apAP][Mm])?$/,regs;\r\n\t\tif(!$.jgrid.isEmpty(time))\r\n\t\t{\r\n\t\t\tregs = time.match(re);\r\n\t\t\tif(regs) {\r\n\t\t\t\tif(regs[3]) {\r\n\t\t\t\t\tif(regs[1] < 1 || regs[1] > 12) { return false; }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(regs[1] > 23) { return false; }\r\n\t\t\t\t}\r\n\t\t\t\tif(regs[2] > 59) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tcheckValues : function(val, valref, customobject, nam) {\r\n\t\tvar edtrul,i, nm, dft, len, g = this, cm = g.p.colModel;\r\n\t\tif(customobject === undefined) {\r\n\t\t\tif(typeof valref==='string'){\r\n\t\t\t\tfor( i =0, len=cm.length;i<len; i++){\r\n\t\t\t\t\tif(cm[i].name===valref) {\r\n\t\t\t\t\t\tedtrul = cm[i].editrules;\r\n\t\t\t\t\t\tvalref = i;\r\n\t\t\t\t\t\tif(cm[i].formoptions != null) { nm = cm[i].formoptions.label; }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if(valref >=0) {\r\n\t\t\t\tedtrul = cm[valref].editrules;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tedtrul = customobject;\r\n\t\t\tnm = nam===undefined ? \"_\" : nam;\r\n\t\t}\r\n\t\tif(edtrul) {\r\n\t\t\tif(!nm) { nm = g.p.colNames != null ? g.p.colNames[valref] : cm[valref].label; }\r\n\t\t\tif(edtrul.required === true) {\r\n\t\t\t\tif( $.jgrid.isEmpty(val) )  { return [false,nm+\": \"+$.jgrid.edit.msg.required,\"\"]; }\r\n\t\t\t}\r\n\t\t\t// force required\r\n\t\t\tvar rqfield = edtrul.required === false ? false : true;\r\n\t\t\tif(edtrul.number === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tif(isNaN(val)) { return [false,nm+\": \"+$.jgrid.edit.msg.number,\"\"]; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.minValue !== undefined && !isNaN(edtrul.minValue)) {\r\n\t\t\t\tif (parseFloat(val) < parseFloat(edtrul.minValue) ) { return [false,nm+\": \"+$.jgrid.edit.msg.minValue+\" \"+edtrul.minValue,\"\"];}\r\n\t\t\t}\r\n\t\t\tif(edtrul.maxValue !== undefined && !isNaN(edtrul.maxValue)) {\r\n\t\t\t\tif (parseFloat(val) > parseFloat(edtrul.maxValue) ) { return [false,nm+\": \"+$.jgrid.edit.msg.maxValue+\" \"+edtrul.maxValue,\"\"];}\r\n\t\t\t}\r\n\t\t\tvar filter;\r\n\t\t\tif(edtrul.email === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t// taken from $ Validate plugin\r\n\t\t\t\t\tfilter = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i;\r\n\t\t\t\t\tif(!filter.test(val)) {return [false,nm+\": \"+$.jgrid.edit.msg.email,\"\"];}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.integer === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tif(isNaN(val)) { return [false,nm+\": \"+$.jgrid.edit.msg.integer,\"\"]; }\r\n\t\t\t\t\tif ((val % 1 !== 0) || (val.indexOf('.') !== -1)) { return [false,nm+\": \"+$.jgrid.edit.msg.integer,\"\"];}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.date === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tif(cm[valref].formatoptions && cm[valref].formatoptions.newformat) {\r\n\t\t\t\t\t\tdft = cm[valref].formatoptions.newformat;\r\n\t\t\t\t\t\tif( $.jgrid.formatter.date.masks.hasOwnProperty(dft) ) {\r\n\t\t\t\t\t\t\tdft = $.jgrid.formatter.date.masks[dft];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdft = cm[valref].datefmt || \"Y-m-d\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!$.jgrid.checkDate (dft, val)) { return [false,nm+\": \"+$.jgrid.edit.msg.date+\" - \"+dft,\"\"]; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.time === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tif(!$.jgrid.checkTime (val)) { return [false,nm+\": \"+$.jgrid.edit.msg.date+\" - hh:mm (am/pm)\",\"\"]; }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.url === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tfilter = /^(((https?)|(ftp)):\\/\\/([\\-\\w]+\\.)+\\w{2,3}(\\/[%\\-\\w]+(\\.\\w{2,})?)*(([\\w\\-\\.\\?\\\\\\/+@&#;`~=%!]*)(\\.\\w{2,})?)*\\/?)/i;\r\n\t\t\t\t\tif(!filter.test(val)) {return [false,nm+\": \"+$.jgrid.edit.msg.url,\"\"];}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(edtrul.custom === true) {\r\n\t\t\t\tif( !(rqfield === false && $.jgrid.isEmpty(val)) ) {\r\n\t\t\t\t\tif($.isFunction(edtrul.custom_func)) {\r\n\t\t\t\t\t\tvar ret = edtrul.custom_func.call(g,val,nm,valref);\r\n\t\t\t\t\t\treturn $.isArray(ret) ? ret : [false,$.jgrid.edit.msg.customarray,\"\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn [false,$.jgrid.edit.msg.customfcheck,\"\"];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [true,\"\",\"\"];\r\n\t}\r\n});\r\n})(jQuery);\r\n/*\r\n * jqFilter  jQuery jqGrid filter addon.\r\n * Copyright (c) 2011, Tony Tomov, tony@trirand.com\r\n * Dual licensed under the MIT and GPL licenses\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n *\r\n * The work is inspired from this Stefan Pirvu\r\n * http://www.codeproject.com/KB/scripting/json-filtering.aspx\r\n *\r\n * The filter uses JSON entities to hold filter rules and groups. Here is an example of a filter:\r\n\r\n{ \"groupOp\": \"AND\",\r\n      \"groups\" : [\r\n        { \"groupOp\": \"OR\",\r\n            \"rules\": [\r\n                { \"field\": \"name\", \"op\": \"eq\", \"data\": \"England\" },\r\n                { \"field\": \"id\", \"op\": \"le\", \"data\": \"5\"}\r\n             ]\r\n        }\r\n      ],\r\n      \"rules\": [\r\n        { \"field\": \"name\", \"op\": \"eq\", \"data\": \"Romania\" },\r\n        { \"field\": \"id\", \"op\": \"le\", \"data\": \"1\"}\r\n      ]\r\n}\r\n*/\r\n/*jshint eqeqeq:false, eqnull:true, devel:true */\r\n/*global jQuery */\r\n\r\n(function ($) {\r\n\"use strict\";\r\n\r\n$.fn.jqFilter = function( arg ) {\r\n\tif (typeof arg === 'string') {\r\n\r\n\t\tvar fn = $.fn.jqFilter[arg];\r\n\t\tif (!fn) {\r\n\t\t\tthrow (\"jqFilter - No such method: \" + arg);\r\n\t\t}\r\n\t\tvar args = $.makeArray(arguments).slice(1);\r\n\t\treturn fn.apply(this,args);\r\n\t}\r\n\r\n\tvar p = $.extend(true,{\r\n\t\tfilter: null,\r\n\t\tcolumns: [],\r\n\t\tonChange : null,\r\n\t\tafterRedraw : null,\r\n\t\tcheckValues : null,\r\n\t\terror: false,\r\n\t\terrmsg : \"\",\r\n\t\terrorcheck : true,\r\n\t\tshowQuery : true,\r\n\t\tsopt : null,\r\n\t\tops : [],\r\n\t\toperands : null,\r\n\t\tnumopts : ['eq','ne', 'lt', 'le', 'gt', 'ge', 'nu', 'nn', 'in', 'ni'],\r\n\t\tstropts : ['eq', 'ne', 'bw', 'bn', 'ew', 'en', 'cn', 'nc', 'nu', 'nn', 'in', 'ni'],\r\n\t\tstrarr : ['text', 'string', 'blob'],\r\n\t\tgroupOps : [{ op: \"AND\", text: \"AND\" },\t{ op: \"OR\",  text: \"OR\" }],\r\n\t\tgroupButton : true,\r\n\t\truleButtons : true,\r\n\t\tdirection : \"ltr\"\r\n\t}, $.jgrid.filter, arg || {});\r\n\treturn this.each( function() {\r\n\t\tif (this.filter) {return;}\r\n\t\tthis.p = p;\r\n\t\t// setup filter in case if they is not defined\r\n\t\tif (this.p.filter === null || this.p.filter === undefined) {\r\n\t\t\tthis.p.filter = {\r\n\t\t\t\tgroupOp: this.p.groupOps[0].op,\r\n\t\t\t\trules: [],\r\n\t\t\t\tgroups: []\r\n\t\t\t};\r\n\t\t}\r\n\t\tvar i, len = this.p.columns.length, cl,\r\n\t\tisIE = /msie/i.test(navigator.userAgent) && !window.opera;\r\n\r\n\t\t// translating the options\r\n\t\tthis.p.initFilter = $.extend(true,{},this.p.filter);\r\n\r\n\t\t// set default values for the columns if they are not set\r\n\t\tif( !len ) {return;}\r\n\t\tfor(i=0; i < len; i++) {\r\n\t\t\tcl = this.p.columns[i];\r\n\t\t\tif( cl.stype ) {\r\n\t\t\t\t// grid compatibility\r\n\t\t\t\tcl.inputtype = cl.stype;\r\n\t\t\t} else if(!cl.inputtype) {\r\n\t\t\t\tcl.inputtype = 'text';\r\n\t\t\t}\r\n\t\t\tif( cl.sorttype ) {\r\n\t\t\t\t// grid compatibility\r\n\t\t\t\tcl.searchtype = cl.sorttype;\r\n\t\t\t} else if (!cl.searchtype) {\r\n\t\t\t\tcl.searchtype = 'string';\r\n\t\t\t}\r\n\t\t\tif(cl.hidden === undefined) {\r\n\t\t\t\t// jqGrid compatibility\r\n\t\t\t\tcl.hidden = false;\r\n\t\t\t}\r\n\t\t\tif(!cl.label) {\r\n\t\t\t\tcl.label = cl.name;\r\n\t\t\t}\r\n\t\t\tif(cl.index) {\r\n\t\t\t\tcl.name = cl.index;\r\n\t\t\t}\r\n\t\t\tif(!cl.hasOwnProperty('searchoptions')) {\r\n\t\t\t\tcl.searchoptions = {};\r\n\t\t\t}\r\n\t\t\tif(!cl.hasOwnProperty('searchrules')) {\r\n\t\t\t\tcl.searchrules = {};\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tif(this.p.showQuery) {\r\n\t\t\t$(this).append(\"<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='\"+this.p.direction+\"'><tbody><tr><td class='query'></td></tr></tbody></table>\");\r\n\t\t}\r\n\t\tvar getGrid = function () {\r\n\t\t\treturn $(\"#\" + $.jgrid.jqID(p.id))[0] || null;\r\n\t\t};\r\n\t\t/*\r\n\t\t *Perform checking.\r\n\t\t *\r\n\t\t*/\r\n\t\tvar checkData = function(val, colModelItem) {\r\n\t\t\tvar ret = [true,\"\"], $t = getGrid();\r\n\t\t\tif($.isFunction(colModelItem.searchrules)) {\r\n\t\t\t\tret = colModelItem.searchrules.call($t, val, colModelItem);\r\n\t\t\t} else if($.jgrid && $.jgrid.checkValues) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tret = $.jgrid.checkValues.call($t, val, -1, colModelItem.searchrules, colModelItem.label);\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t\tif(ret && ret.length && ret[0] === false) {\r\n\t\t\t\tp.error = !ret[0];\r\n\t\t\t\tp.errmsg = ret[1];\r\n\t\t\t}\r\n\t\t};\r\n\t\t/* moving to common\r\n\t\trandId = function() {\r\n\t\t\treturn Math.floor(Math.random()*10000).toString();\r\n\t\t};\r\n\t\t*/\r\n\r\n\t\tthis.onchange = function (  ){\r\n\t\t\t// clear any error\r\n\t\t\tthis.p.error = false;\r\n\t\t\tthis.p.errmsg=\"\";\r\n\t\t\treturn $.isFunction(this.p.onChange) ? this.p.onChange.call( this, this.p ) : false;\r\n\t\t};\r\n\t\t/*\r\n\t\t * Redraw the filter every time when new field is added/deleted\r\n\t\t * and field is  changed\r\n\t\t */\r\n\t\tthis.reDraw = function() {\r\n\t\t\t$(\"table.group:first\",this).remove();\r\n\t\t\tvar t = this.createTableForGroup(p.filter, null);\r\n\t\t\t$(this).append(t);\r\n\t\t\tif($.isFunction(this.p.afterRedraw) ) {\r\n\t\t\t\tthis.p.afterRedraw.call(this, this.p);\r\n\t\t\t}\r\n\t\t};\r\n\t\t/*\r\n\t\t * Creates a grouping data for the filter\r\n\t\t * @param group - object\r\n\t\t * @param parentgroup - object\r\n\t\t */\r\n\t\tthis.createTableForGroup = function(group, parentgroup) {\r\n\t\t\tvar that = this,  i;\r\n\t\t\t// this table will hold all the group (tables) and rules (rows)\r\n\t\t\tvar table = $(\"<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>\"),\r\n\t\t\t// create error message row\r\n\t\t\talign = \"left\";\r\n\t\t\tif(this.p.direction === \"rtl\") {\r\n\t\t\t\talign = \"right\";\r\n\t\t\t\ttable.attr(\"dir\",\"rtl\");\r\n\t\t\t}\r\n\t\t\tif(parentgroup === null) {\r\n\t\t\t\ttable.append(\"<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='\"+align+\"'></th></tr>\");\r\n\t\t\t}\r\n\r\n\t\t\tvar tr = $(\"<tr></tr>\");\r\n\t\t\ttable.append(tr);\r\n\t\t\t// this header will hold the group operator type and group action buttons for\r\n\t\t\t// creating subgroup \"+ {}\", creating rule \"+\" or deleting the group \"-\"\r\n\t\t\tvar th = $(\"<th colspan='5' align='\"+align+\"'></th>\");\r\n\t\t\ttr.append(th);\r\n\r\n\t\t\tif(this.p.ruleButtons === true) {\r\n\t\t\t// dropdown for: choosing group operator type\r\n\t\t\tvar groupOpSelect = $(\"<select class='opsel'></select>\");\r\n\t\t\tth.append(groupOpSelect);\r\n\t\t\t// populate dropdown with all posible group operators: or, and\r\n\t\t\tvar str= \"\", selected;\r\n\t\t\tfor (i = 0; i < p.groupOps.length; i++) {\r\n\t\t\t\tselected =  group.groupOp === that.p.groupOps[i].op ? \" selected='selected'\" :\"\";\r\n\t\t\t\tstr += \"<option value='\"+that.p.groupOps[i].op+\"'\" + selected+\">\"+that.p.groupOps[i].text+\"</option>\";\r\n\t\t\t}\r\n\r\n\t\t\tgroupOpSelect\r\n\t\t\t.append(str)\r\n\t\t\t.bind('change',function() {\r\n\t\t\t\tgroup.groupOp = $(groupOpSelect).val();\r\n\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t\t// button for adding a new subgroup\r\n\t\t\tvar inputAddSubgroup =\"<span></span>\";\r\n\t\t\tif(this.p.groupButton) {\r\n\t\t\t\tinputAddSubgroup = $(\"<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>\");\r\n\t\t\t\tinputAddSubgroup.bind('click',function() {\r\n\t\t\t\t\tif (group.groups === undefined ) {\r\n\t\t\t\t\t\tgroup.groups = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgroup.groups.push({\r\n\t\t\t\t\t\tgroupOp: p.groupOps[0].op,\r\n\t\t\t\t\t\trules: [],\r\n\t\t\t\t\t\tgroups: []\r\n\t\t\t\t\t}); // adding a new group\r\n\r\n\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\r\n\r\n\t\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tth.append(inputAddSubgroup);\r\n\t\t\tif(this.p.ruleButtons === true) {\r\n\t\t\t// button for adding a new rule\r\n\t\t\tvar inputAddRule = $(\"<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>\"), cm;\r\n\t\t\tinputAddRule.bind('click',function() {\r\n\t\t\t\t//if(!group) { group = {};}\r\n\t\t\t\tif (group.rules === undefined) {\r\n\t\t\t\t\tgroup.rules = [];\r\n\t\t\t\t}\r\n\t\t\t\tfor (i = 0; i < that.p.columns.length; i++) {\r\n\t\t\t\t// but show only serchable and serchhidden = true fields\r\n\t\t\t\t\tvar searchable = (that.p.columns[i].search === undefined) ?  true: that.p.columns[i].search,\r\n\t\t\t\t\thidden = (that.p.columns[i].hidden === true),\r\n\t\t\t\t\tignoreHiding = (that.p.columns[i].searchoptions.searchhidden === true);\r\n\t\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\r\n\t\t\t\t\t\tcm = that.p.columns[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar opr;\r\n\t\t\t\tif( cm.searchoptions.sopt ) {opr = cm.searchoptions.sopt;}\r\n\t\t\t\telse if(that.p.sopt) { opr= that.p.sopt; }\r\n\t\t\t\telse if  ( $.inArray(cm.searchtype, that.p.strarr) !== -1 ) {opr = that.p.stropts;}\r\n\t\t\t\telse {opr = that.p.numopts;}\r\n\r\n\t\t\t\tgroup.rules.push({\r\n\t\t\t\t\tfield: cm.name,\r\n\t\t\t\t\top: opr[0],\r\n\t\t\t\t\tdata: \"\"\r\n\t\t\t\t}); // adding a new rule\r\n\r\n\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\r\n\t\t\t\t// for the moment no change have been made to the rule, so\r\n\t\t\t\t// this will not trigger onchange event\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tth.append(inputAddRule);\r\n\t\t\t}\r\n\r\n\t\t\t// button for delete the group\r\n\t\t\tif (parentgroup !== null) { // ignore the first group\r\n\t\t\t\tvar inputDeleteGroup = $(\"<input type='button' value='-' title='Delete group' class='delete-group'/>\");\r\n\t\t\t\tth.append(inputDeleteGroup);\r\n\t\t\t\tinputDeleteGroup.bind('click',function() {\r\n\t\t\t\t// remove group from parent\r\n\t\t\t\t\tfor (i = 0; i < parentgroup.groups.length; i++) {\r\n\t\t\t\t\t\tif (parentgroup.groups[i] === group) {\r\n\t\t\t\t\t\t\tparentgroup.groups.splice(i, 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\r\n\r\n\t\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// append subgroup rows\r\n\t\t\tif (group.groups !== undefined) {\r\n\t\t\t\tfor (i = 0; i < group.groups.length; i++) {\r\n\t\t\t\t\tvar trHolderForSubgroup = $(\"<tr></tr>\");\r\n\t\t\t\t\ttable.append(trHolderForSubgroup);\r\n\r\n\t\t\t\t\tvar tdFirstHolderForSubgroup = $(\"<td class='first'></td>\");\r\n\t\t\t\t\ttrHolderForSubgroup.append(tdFirstHolderForSubgroup);\r\n\r\n\t\t\t\t\tvar tdMainHolderForSubgroup = $(\"<td colspan='4'></td>\");\r\n\t\t\t\t\ttdMainHolderForSubgroup.append(this.createTableForGroup(group.groups[i], group));\r\n\t\t\t\t\ttrHolderForSubgroup.append(tdMainHolderForSubgroup);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(group.groupOp === undefined) {\r\n\t\t\t\tgroup.groupOp = that.p.groupOps[0].op;\r\n\t\t\t}\r\n\r\n\t\t\t// append rules rows\r\n\t\t\tif (group.rules !== undefined) {\r\n\t\t\t\tfor (i = 0; i < group.rules.length; i++) {\r\n\t\t\t\t\ttable.append(\r\n                       this.createTableRowForRule(group.rules[i], group)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn table;\r\n\t\t};\r\n\t\t/*\r\n\t\t * Create the rule data for the filter\r\n\t\t */\r\n\t\tthis.createTableRowForRule = function(rule, group ) {\r\n\t\t\t// save current entity in a variable so that it could\r\n\t\t\t// be referenced in anonimous method calls\r\n\r\n\t\t\tvar that=this, $t = getGrid(), tr = $(\"<tr></tr>\"),\r\n\t\t\t//document.createElement(\"tr\"),\r\n\r\n\t\t\t// first column used for padding\r\n\t\t\t//tdFirstHolderForRule = document.createElement(\"td\"),\r\n\t\t\ti, op, trpar, cm, str=\"\", selected;\r\n\t\t\t//tdFirstHolderForRule.setAttribute(\"class\", \"first\");\r\n\t\t\ttr.append(\"<td class='first'></td>\");\r\n\r\n\r\n\t\t\t// create field container\r\n\t\t\tvar ruleFieldTd = $(\"<td class='columns'></td>\");\r\n\t\t\ttr.append(ruleFieldTd);\r\n\r\n\r\n\t\t\t// dropdown for: choosing field\r\n\t\t\tvar ruleFieldSelect = $(\"<select></select>\"), ina, aoprs = [];\r\n\t\t\truleFieldTd.append(ruleFieldSelect);\r\n\t\t\truleFieldSelect.bind('change',function() {\r\n\t\t\t\trule.field = $(ruleFieldSelect).val();\r\n\r\n\t\t\t\ttrpar = $(this).parents(\"tr:first\");\r\n\t\t\t\tfor (i=0;i<that.p.columns.length;i++) {\r\n\t\t\t\t\tif(that.p.columns[i].name ===  rule.field) {\r\n\t\t\t\t\t\tcm = that.p.columns[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!cm) {return;}\r\n\t\t\t\tcm.searchoptions.id = $.jgrid.randId();\r\n\t\t\t\tif(isIE && cm.inputtype === \"text\") {\r\n\t\t\t\t\tif(!cm.searchoptions.size) {\r\n\t\t\t\t\t\tcm.searchoptions.size = 10;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar elm = $.jgrid.createEl.call($t, cm.inputtype,cm.searchoptions, \"\", true, that.p.ajaxSelectOptions || {}, true);\r\n\t\t\t\t$(elm).addClass(\"input-elm\");\r\n\t\t\t\t//that.createElement(rule, \"\");\r\n\r\n\t\t\t\tif( cm.searchoptions.sopt ) {op = cm.searchoptions.sopt;}\r\n\t\t\t\telse if(that.p.sopt) { op= that.p.sopt; }\r\n\t\t\t\telse if  ($.inArray(cm.searchtype, that.p.strarr) !== -1) {op = that.p.stropts;}\r\n\t\t\t\telse {op = that.p.numopts;}\r\n\t\t\t\t// operators\r\n\t\t\t\tvar s =\"\", so = 0;\r\n\t\t\t\taoprs = [];\r\n\t\t\t\t$.each(that.p.ops, function() { aoprs.push(this.oper); });\r\n\t\t\t\tfor ( i = 0 ; i < op.length; i++) {\r\n\t\t\t\t\tina = $.inArray(op[i],aoprs);\r\n\t\t\t\t\tif(ina !== -1) {\r\n\t\t\t\t\t\tif(so===0) {\r\n\t\t\t\t\t\t\trule.op = that.p.ops[ina].oper;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts += \"<option value='\"+that.p.ops[ina].oper+\"'>\"+that.p.ops[ina].text+\"</option>\";\r\n\t\t\t\t\t\tso++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$(\".selectopts\",trpar).empty().append( s );\r\n\t\t\t\t$(\".selectopts\",trpar)[0].selectedIndex = 0;\r\n\t\t\t\tif( $.jgrid.msie && $.jgrid.msiever() < 9) {\r\n\t\t\t\t\tvar sw = parseInt($(\"select.selectopts\",trpar)[0].offsetWidth, 10) + 1;\r\n\t\t\t\t\t$(\".selectopts\",trpar).width( sw );\r\n\t\t\t\t\t$(\".selectopts\",trpar).css(\"width\",\"auto\");\r\n\t\t\t\t}\r\n\t\t\t\t// data\r\n\t\t\t\t$(\".data\",trpar).empty().append( elm );\r\n\t\t\t\t$.jgrid.bindEv.call($t, elm, cm.searchoptions);\r\n\t\t\t\t$(\".input-elm\",trpar).bind('change',function( e ) {\r\n\t\t\t\t\tvar elem = e.target;\r\n\t\t\t\t\trule.data = elem.nodeName.toUpperCase() === \"SPAN\" && cm.searchoptions && $.isFunction(cm.searchoptions.custom_value) ?\r\n\t\t\t\t\t\tcm.searchoptions.custom_value.call($t, $(elem).children(\".customelement:first\"), 'get') : elem.value;\r\n\t\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function(){ //IE, Opera, Chrome\r\n\t\t\t\trule.data = $(elm).val();\r\n\t\t\t\tthat.onchange();  // signals that the filter has changed\r\n\t\t\t\t}, 0);\r\n\t\t\t});\r\n\r\n\t\t\t// populate drop down with user provided column definitions\r\n\t\t\tvar j=0;\r\n\t\t\tfor (i = 0; i < that.p.columns.length; i++) {\r\n\t\t\t\t// but show only serchable and serchhidden = true fields\r\n\t\t\t\tvar searchable = (that.p.columns[i].search === undefined) ? true: that.p.columns[i].search,\r\n\t\t\t\thidden = (that.p.columns[i].hidden === true),\r\n\t\t\t\tignoreHiding = (that.p.columns[i].searchoptions.searchhidden === true);\r\n\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\r\n\t\t\t\t\tselected = \"\";\r\n\t\t\t\t\tif(rule.field === that.p.columns[i].name) {\r\n\t\t\t\t\t\tselected = \" selected='selected'\";\r\n\t\t\t\t\t\tj=i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstr += \"<option value='\"+that.p.columns[i].name+\"'\" +selected+\">\"+that.p.columns[i].label+\"</option>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\truleFieldSelect.append( str );\r\n\r\n\r\n\t\t\t// create operator container\r\n\t\t\tvar ruleOperatorTd = $(\"<td class='operators'></td>\");\r\n\t\t\ttr.append(ruleOperatorTd);\r\n\t\t\tcm = p.columns[j];\r\n\t\t\t// create it here so it can be referentiated in the onchange event\r\n\t\t\t//var RD = that.createElement(rule, rule.data);\r\n\t\t\tcm.searchoptions.id = $.jgrid.randId();\r\n\t\t\tif(isIE && cm.inputtype === \"text\") {\r\n\t\t\t\tif(!cm.searchoptions.size) {\r\n\t\t\t\t\tcm.searchoptions.size = 10;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar ruleDataInput = $.jgrid.createEl.call($t, cm.inputtype,cm.searchoptions, rule.data, true, that.p.ajaxSelectOptions || {}, true);\r\n\t\t\tif(rule.op === 'nu' || rule.op === 'nn') {\r\n\t\t\t\t$(ruleDataInput).attr('readonly','true');\r\n\t\t\t\t$(ruleDataInput).attr('disabled','true');\r\n\t\t\t} //retain the state of disabled text fields in case of null ops\r\n\t\t\t// dropdown for: choosing operator\r\n\t\t\tvar ruleOperatorSelect = $(\"<select class='selectopts'></select>\");\r\n\t\t\truleOperatorTd.append(ruleOperatorSelect);\r\n\t\t\truleOperatorSelect.bind('change',function() {\r\n\t\t\t\trule.op = $(ruleOperatorSelect).val();\r\n\t\t\t\ttrpar = $(this).parents(\"tr:first\");\r\n\t\t\t\tvar rd = $(\".input-elm\",trpar)[0];\r\n\t\t\t\tif (rule.op === \"nu\" || rule.op === \"nn\") { // disable for operator \"is null\" and \"is not null\"\r\n\t\t\t\t\trule.data = \"\";\r\n\t\t\t\t\tif(rd.tagName.toUpperCase() !== 'SELECT') rd.value = \"\";\r\n\t\t\t\t\trd.setAttribute(\"readonly\", \"true\");\r\n\t\t\t\t\trd.setAttribute(\"disabled\", \"true\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(rd.tagName.toUpperCase() === 'SELECT') rule.data = rd.value;\r\n\t\t\t\t\trd.removeAttribute(\"readonly\");\r\n\t\t\t\t\trd.removeAttribute(\"disabled\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.onchange();  // signals that the filter has changed\r\n\t\t\t});\r\n\r\n\t\t\t// populate drop down with all available operators\r\n\t\t\tif( cm.searchoptions.sopt ) {op = cm.searchoptions.sopt;}\r\n\t\t\telse if(that.p.sopt) { op= that.p.sopt; }\r\n\t\t\telse if  ($.inArray(cm.searchtype, that.p.strarr) !== -1) {op = that.p.stropts;}\r\n\t\t\telse {op = that.p.numopts;}\r\n\t\t\tstr=\"\";\r\n\t\t\t$.each(that.p.ops, function() { aoprs.push(this.oper); });\r\n\t\t\tfor ( i = 0; i < op.length; i++) {\r\n\t\t\t\tina = $.inArray(op[i],aoprs);\r\n\t\t\t\tif(ina !== -1) {\r\n\t\t\t\t\tselected = rule.op === that.p.ops[ina].oper ? \" selected='selected'\" : \"\";\r\n\t\t\t\t\tstr += \"<option value='\"+that.p.ops[ina].oper+\"'\"+selected+\">\"+that.p.ops[ina].text+\"</option>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\truleOperatorSelect.append( str );\r\n\t\t\t// create data container\r\n\t\t\tvar ruleDataTd = $(\"<td class='data'></td>\");\r\n\t\t\ttr.append(ruleDataTd);\r\n\r\n\t\t\t// textbox for: data\r\n\t\t\t// is created previously\r\n\t\t\t//ruleDataInput.setAttribute(\"type\", \"text\");\r\n\t\t\truleDataTd.append(ruleDataInput);\r\n\t\t\t$.jgrid.bindEv.call($t, ruleDataInput, cm.searchoptions);\r\n\t\t\t$(ruleDataInput)\r\n\t\t\t.addClass(\"input-elm\")\r\n\t\t\t.bind('change', function() {\r\n\t\t\t\trule.data = cm.inputtype === 'custom' ? cm.searchoptions.custom_value.call($t, $(this).children(\".customelement:first\"),'get') : $(this).val();\r\n\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t});\r\n\r\n\t\t\t// create action container\r\n\t\t\tvar ruleDeleteTd = $(\"<td></td>\");\r\n\t\t\ttr.append(ruleDeleteTd);\r\n\r\n\t\t\t// create button for: delete rule\r\n\t\t\tif(this.p.ruleButtons === true) {\r\n\t\t\tvar ruleDeleteInput = $(\"<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>\");\r\n\t\t\truleDeleteTd.append(ruleDeleteInput);\r\n\t\t\t//$(ruleDeleteInput).html(\"\").height(20).width(30).button({icons: {  primary: \"ui-icon-minus\", text:false}});\r\n\t\t\truleDeleteInput.bind('click',function() {\r\n\t\t\t\t// remove rule from group\r\n\t\t\t\tfor (i = 0; i < group.rules.length; i++) {\r\n\t\t\t\t\tif (group.rules[i] === rule) {\r\n\t\t\t\t\t\tgroup.rules.splice(i, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\r\n\r\n\t\t\t\tthat.onchange(); // signals that the filter has changed\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn tr;\r\n\t\t};\r\n\r\n\t\tthis.getStringForGroup = function(group) {\r\n\t\t\tvar s = \"(\", index;\r\n\t\t\tif (group.groups !== undefined) {\r\n\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\r\n\t\t\t\t\tif (s.length > 1) {\r\n\t\t\t\t\t\ts += \" \" + group.groupOp + \" \";\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ts += this.getStringForGroup(group.groups[index]);\r\n\t\t\t\t\t} catch (eg) {alert(eg);}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (group.rules !== undefined) {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\r\n\t\t\t\t\t\tif (s.length > 1) {\r\n\t\t\t\t\t\t\ts += \" \" + group.groupOp + \" \";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts += this.getStringForRule(group.rules[index]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {alert(e);}\r\n\t\t\t}\r\n\r\n\t\t\ts += \")\";\r\n\r\n\t\t\tif (s === \"()\") {\r\n\t\t\t\treturn \"\"; // ignore groups that don't have rules\r\n\t\t\t}\r\n\t\t\treturn s;\r\n\t\t};\r\n\t\tthis.getStringForRule = function(rule) {\r\n\t\t\tvar opUF = \"\",opC=\"\", i, cm, ret, val,\r\n\t\t\tnumtypes = ['int', 'integer', 'float', 'number', 'currency']; // jqGrid\r\n\t\t\tfor (i = 0; i < this.p.ops.length; i++) {\r\n\t\t\t\tif (this.p.ops[i].oper === rule.op) {\r\n\t\t\t\t\topUF = this.p.operands.hasOwnProperty(rule.op) ? this.p.operands[rule.op] : \"\";\r\n\t\t\t\t\topC = this.p.ops[i].oper;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (i=0; i<this.p.columns.length; i++) {\r\n\t\t\t\tif(this.p.columns[i].name === rule.field) {\r\n\t\t\t\t\tcm = this.p.columns[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cm == undefined) { return \"\"; }\r\n\t\t\tval = rule.data;\r\n\t\t\tif(opC === 'bw' || opC === 'bn') { val = val+\"%\"; }\r\n\t\t\tif(opC === 'ew' || opC === 'en') { val = \"%\"+val; }\r\n\t\t\tif(opC === 'cn' || opC === 'nc') { val = \"%\"+val+\"%\"; }\r\n\t\t\tif(opC === 'in' || opC === 'ni') { val = \" (\"+val+\")\"; }\r\n\t\t\tif(p.errorcheck) { checkData(rule.data, cm); }\r\n\t\t\tif($.inArray(cm.searchtype, numtypes) !== -1 || opC === 'nn' || opC === 'nu') { ret = rule.field + \" \" + opUF + \" \" + val; }\r\n\t\t\telse { ret = rule.field + \" \" + opUF + \" \\\"\" + val + \"\\\"\"; }\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\tthis.resetFilter = function () {\r\n\t\t\tthis.p.filter = $.extend(true,{},this.p.initFilter);\r\n\t\t\tthis.reDraw();\r\n\t\t\tthis.onchange();\r\n\t\t};\r\n\t\tthis.hideError = function() {\r\n\t\t\t$(\"th.ui-state-error\", this).html(\"\");\r\n\t\t\t$(\"tr.error\", this).hide();\r\n\t\t};\r\n\t\tthis.showError = function() {\r\n\t\t\t$(\"th.ui-state-error\", this).html(this.p.errmsg);\r\n\t\t\t$(\"tr.error\", this).show();\r\n\t\t};\r\n\t\tthis.toUserFriendlyString = function() {\r\n\t\t\treturn this.getStringForGroup(p.filter);\r\n\t\t};\r\n\t\tthis.toString = function() {\r\n\t\t\t// this will obtain a string that can be used to match an item.\r\n\t\t\tvar that = this;\r\n\t\t\tfunction getStringRule(rule) {\r\n\t\t\t\tif(that.p.errorcheck) {\r\n\t\t\t\t\tvar i, cm;\r\n\t\t\t\t\tfor (i=0; i<that.p.columns.length; i++) {\r\n\t\t\t\t\t\tif(that.p.columns[i].name === rule.field) {\r\n\t\t\t\t\t\t\tcm = that.p.columns[i];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(cm) {checkData(rule.data, cm);}\r\n\t\t\t\t}\r\n\t\t\t\treturn rule.op + \"(item.\" + rule.field + \",'\" + rule.data + \"')\";\r\n\t\t\t}\r\n\r\n\t\t\tfunction getStringForGroup(group) {\r\n\t\t\t\tvar s = \"(\", index;\r\n\r\n\t\t\t\tif (group.groups !== undefined) {\r\n\t\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\r\n\t\t\t\t\t\tif (s.length > 1) {\r\n\t\t\t\t\t\t\tif (group.groupOp === \"OR\") {\r\n\t\t\t\t\t\t\t\ts += \" || \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ts += \" && \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts += getStringForGroup(group.groups[index]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (group.rules !== undefined) {\r\n\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\r\n\t\t\t\t\t\tif (s.length > 1) {\r\n\t\t\t\t\t\t\tif (group.groupOp === \"OR\") {\r\n\t\t\t\t\t\t\t\ts += \" || \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse  {\r\n\t\t\t\t\t\t\t\ts += \" && \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ts += getStringRule(group.rules[index]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ts += \")\";\r\n\r\n\t\t\t\tif (s === \"()\") {\r\n\t\t\t\t\treturn \"\"; // ignore groups that don't have rules\r\n\t\t\t\t}\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\r\n\t\t\treturn getStringForGroup(this.p.filter);\r\n\t\t};\r\n\r\n\t\t// Here we init the filter\r\n\t\tthis.reDraw();\r\n\r\n\t\tif(this.p.showQuery) {\r\n\t\t\tthis.onchange();\r\n\t\t}\r\n\t\t// mark is as created so that it will not be created twice on this element\r\n\t\tthis.filter = true;\r\n\t});\r\n};\r\n$.extend($.fn.jqFilter,{\r\n\t/*\r\n\t * Return SQL like string. Can be used directly\r\n\t */\r\n\ttoSQLString : function()\r\n\t{\r\n\t\tvar s =\"\";\r\n\t\tthis.each(function(){\r\n\t\t\ts = this.toUserFriendlyString();\r\n\t\t});\r\n\t\treturn s;\r\n\t},\r\n\t/*\r\n\t * Return filter data as object.\r\n\t */\r\n\tfilterData : function()\r\n\t{\r\n\t\tvar s;\r\n\t\tthis.each(function(){\r\n\t\t\ts = this.p.filter;\r\n\t\t});\r\n\t\treturn s;\r\n\r\n\t},\r\n\tgetParameter : function (param) {\r\n\t\tif(param !== undefined) {\r\n\t\t\tif (this.p.hasOwnProperty(param) ) {\r\n\t\t\t\treturn this.p[param];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.p;\r\n\t},\r\n\tresetFilter: function() {\r\n\t\treturn this.each(function(){\r\n\t\t\tthis.resetFilter();\r\n\t\t});\r\n\t},\r\n\taddFilter: function (pfilter) {\r\n\t\tif (typeof pfilter === \"string\") {\r\n\t\t\tpfilter = $.jgrid.parse( pfilter );\r\n\t}\r\n\t\tthis.each(function(){\r\n\t\t\tthis.p.filter = pfilter;\r\n\t\t\tthis.reDraw();\r\n\t\t\tthis.onchange();\r\n\t\t});\r\n\t}\r\n\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false, eqnull:true, devel:true */\r\n/*global xmlJsonClass, jQuery */\r\n(function($){\r\n/**\r\n * jqGrid extension for form editing Grid Data\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n\"use strict\";\r\nvar rp_ge = {};\r\n$.jgrid.extend({\r\n\tsearchGrid : function (p) {\r\n\t\tp = $.extend(true, {\r\n\t\t\trecreateFilter: false,\r\n\t\t\tdrag: true,\r\n\t\t\tsField:'searchField',\r\n\t\t\tsValue:'searchString',\r\n\t\t\tsOper: 'searchOper',\r\n\t\t\tsFilter: 'filters',\r\n\t\t\tloadDefaults: true, // this options activates loading of default filters from grid's postData for Multipe Search only.\r\n\t\t\tbeforeShowSearch: null,\r\n\t\t\tafterShowSearch : null,\r\n\t\t\tonInitializeSearch: null,\r\n\t\t\tafterRedraw : null,\r\n\t\t\tafterChange: null,\r\n\t\t\tcloseAfterSearch : false,\r\n\t\t\tcloseAfterReset: false,\r\n\t\t\tcloseOnEscape : false,\r\n\t\t\tsearchOnEnter : false,\r\n\t\t\tmultipleSearch : false,\r\n\t\t\tmultipleGroup : false,\r\n\t\t\t//cloneSearchRowOnAdd: true,\r\n\t\t\ttop : 0,\r\n\t\t\tleft: 0,\r\n\t\t\tjqModal : true,\r\n\t\t\tmodal: false,\r\n\t\t\tresize : true,\r\n\t\t\twidth: 450,\r\n\t\t\theight: 'auto',\r\n\t\t\tdataheight: 'auto',\r\n\t\t\tshowQuery: false,\r\n\t\t\terrorcheck : true,\r\n\t\t\tsopt: null,\r\n\t\t\tstringResult: undefined,\r\n\t\t\tonClose : null,\r\n\t\t\tonSearch : null,\r\n\t\t\tonReset : null,\r\n\t\t\ttoTop : true,\r\n\t\t\toverlay : 30,\r\n\t\t\tcolumns : [],\r\n\t\t\ttmplNames : null,\r\n\t\t\ttmplFilters : null,\r\n\t\t\ttmplLabel : ' Template: ',\r\n\t\t\tshowOnLoad: false,\r\n\t\t\tlayer: null,\r\n\t\t\toperands : { \"eq\" :\"=\", \"ne\":\"<>\",\"lt\":\"<\",\"le\":\"<=\",\"gt\":\">\",\"ge\":\">=\",\"bw\":\"LIKE\",\"bn\":\"NOT LIKE\",\"in\":\"IN\",\"ni\":\"NOT IN\",\"ew\":\"LIKE\",\"en\":\"NOT LIKE\",\"cn\":\"LIKE\",\"nc\":\"NOT LIKE\",\"nu\":\"IS NULL\",\"nn\":\"ISNOT NULL\"}\r\n\t\t}, $.jgrid.search, p || {});\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tvar fid = \"fbox_\"+$t.p.id,\r\n\t\t\tshowFrm = true,\r\n\t\t\tmustReload = true,\r\n\t\t\tIDs = {themodal:'searchmod'+fid,modalhead:'searchhd'+fid,modalcontent:'searchcnt'+fid, scrollelm : fid},\r\n\t\t\tdefaultFilters  = $t.p.postData[p.sFilter];\r\n\t\t\tif(typeof defaultFilters === \"string\") {\r\n\t\t\t\tdefaultFilters = $.jgrid.parse( defaultFilters );\r\n\t\t\t}\r\n\t\t\tif(p.recreateFilter === true) {\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID(IDs.themodal)).remove();\r\n\t\t\t}\r\n\t\t\tfunction showFilter(_filter) {\r\n\t\t\t\tshowFrm = $($t).triggerHandler(\"jqGridFilterBeforeShow\", [_filter]);\r\n\t\t\t\tif(showFrm === undefined) {\r\n\t\t\t\t\tshowFrm = true;\r\n\t\t\t\t}\r\n\t\t\t\tif(showFrm && $.isFunction(p.beforeShowSearch)) {\r\n\t\t\t\t\tshowFrm = p.beforeShowSearch.call($t,_filter);\r\n\t\t\t\t}\r\n\t\t\t\tif(showFrm) {\r\n\t\t\t\t\t$.jgrid.viewModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gbox:\"#gbox_\"+$.jgrid.jqID(fid),jqm:p.jqModal, modal:p.modal, overlay: p.overlay, toTop: p.toTop});\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridFilterAfterShow\", [_filter]);\r\n\t\t\t\t\tif($.isFunction(p.afterShowSearch)) {\r\n\t\t\t\t\t\tp.afterShowSearch.call($t, _filter);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( $(\"#\"+$.jgrid.jqID(IDs.themodal))[0] !== undefined ) {\r\n\t\t\t\tshowFilter($(\"#fbox_\"+$.jgrid.jqID(+$t.p.id)));\r\n\t\t\t} else {\r\n\t\t\t\tvar fil = $(\"<div><div id='\"+fid+\"' class='searchFilter' style='overflow:auto'></div></div>\").insertBefore(\"#gview_\"+$.jgrid.jqID($t.p.id)),\r\n\t\t\t\talign = \"left\", butleft =\"\";\r\n\t\t\t\tif($t.p.direction === \"rtl\") {\r\n\t\t\t\t\talign = \"right\";\r\n\t\t\t\t\tbutleft = \" style='text-align:left'\";\r\n\t\t\t\t\tfil.attr(\"dir\",\"rtl\");\r\n\t\t\t\t}\r\n\t\t\t\tvar columns = $.extend([],$t.p.colModel),\r\n\t\t\t\tbS  =\"<a id='\"+fid+\"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>\"+p.Find+\"</a>\",\r\n\t\t\t\tbC  =\"<a id='\"+fid+\"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>\"+p.Reset+\"</a>\",\r\n\t\t\t\tbQ = \"\", tmpl=\"\", colnm, found = false, bt, cmi=-1;\r\n\t\t\t\tif(p.showQuery) {\r\n\t\t\t\t\tbQ =\"<a id='\"+fid+\"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>\";\r\n\t\t\t\t}\r\n\t\t\t\tif(!p.columns.length) {\r\n\t\t\t\t\t$.each(columns, function(i,n){\r\n\t\t\t\t\t\tif(!n.label) {\r\n\t\t\t\t\t\t\tn.label = $t.p.colNames[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// find first searchable column and set it if no default filter\r\n\t\t\t\t\t\tif(!found) {\r\n\t\t\t\t\t\t\tvar searchable = (n.search === undefined) ?  true: n.search ,\r\n\t\t\t\t\t\t\thidden = (n.hidden === true),\r\n\t\t\t\t\t\t\tignoreHiding = (n.searchoptions && n.searchoptions.searchhidden === true);\r\n\t\t\t\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\r\n\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\tcolnm = n.index || n.name;\r\n\t\t\t\t\t\t\t\tcmi =i;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcolumns = p.columns;\r\n\t\t\t\t\tcmi = 0;\r\n\t\t\t\t\tcolnm = columns[0].index || columns[0].name;\r\n\t\t\t\t}\r\n\t\t\t\t// old behaviour\r\n\t\t\t\tif( (!defaultFilters && colnm) || p.multipleSearch === false  ) {\r\n\t\t\t\t\tvar cmop = \"eq\";\r\n\t\t\t\t\tif(cmi >=0 && columns[cmi].searchoptions && columns[cmi].searchoptions.sopt) {\r\n\t\t\t\t\t\tcmop = columns[cmi].searchoptions.sopt[0];\r\n\t\t\t\t\t} else if(p.sopt && p.sopt.length) {\r\n\t\t\t\t\t\tcmop = p.sopt[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefaultFilters = {groupOp: \"AND\", rules: [{field: colnm, op: cmop, data: \"\"}]};\r\n\t\t\t\t}\r\n\t\t\t\tfound = false;\r\n\t\t\t\tif(p.tmplNames && p.tmplNames.length) {\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\ttmpl = p.tmplLabel;\r\n\t\t\t\t\ttmpl += \"<select class='ui-template'>\";\r\n\t\t\t\t\ttmpl += \"<option value='default'>Default</option>\";\r\n\t\t\t\t\t$.each(p.tmplNames, function(i,n){\r\n\t\t\t\t\t\ttmpl += \"<option value='\"+i+\"'>\"+n+\"</option>\";\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttmpl += \"</select>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbt = \"<table class='EditTable' style='border:0px none;margin-top:5px' id='\"+fid+\"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:\"+align+\"'>\"+bC+tmpl+\"</td><td class='EditButton' \"+butleft+\">\"+bQ+bS+\"</td></tr></tbody></table>\";\r\n\t\t\t\tfid = $.jgrid.jqID( fid);\r\n\t\t\t\t$(\"#\"+fid).jqFilter({\r\n\t\t\t\t\tcolumns : columns,\r\n\t\t\t\t\tfilter: p.loadDefaults ? defaultFilters : null,\r\n\t\t\t\t\tshowQuery: p.showQuery,\r\n\t\t\t\t\terrorcheck : p.errorcheck,\r\n\t\t\t\t\tsopt: p.sopt,\r\n\t\t\t\t\tgroupButton : p.multipleGroup,\r\n\t\t\t\t\truleButtons : p.multipleSearch,\r\n\t\t\t\t\tafterRedraw : p.afterRedraw,\r\n\t\t\t\t\tops : p.odata,\r\n\t\t\t\t\toperands : p.operands,\r\n\t\t\t\t\tajaxSelectOptions: $t.p.ajaxSelectOptions,\r\n\t\t\t\t\tgroupOps: p.groupOps,\r\n\t\t\t\t\tonChange : function() {\r\n\t\t\t\t\t\tif(this.p.showQuery) {\r\n\t\t\t\t\t\t\t$('.query',this).html(this.toUserFriendlyString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ($.isFunction(p.afterChange)) {\r\n\t\t\t\t\t\t\tp.afterChange.call($t, $(\"#\"+fid), p);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdirection : $t.p.direction,\r\n\t\t\t\t\tid: $t.p.id\r\n\t\t\t\t});\r\n\t\t\t\tfil.append( bt );\r\n\t\t\t\tif(found && p.tmplFilters && p.tmplFilters.length) {\r\n\t\t\t\t\t$(\".ui-template\", fil).bind('change', function(){\r\n\t\t\t\t\t\tvar curtempl = $(this).val();\r\n\t\t\t\t\t\tif(curtempl===\"default\") {\r\n\t\t\t\t\t\t\t$(\"#\"+fid).jqFilter('addFilter', defaultFilters);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\"#\"+fid).jqFilter('addFilter', p.tmplFilters[parseInt(curtempl,10)]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(p.multipleGroup === true) {p.multipleSearch = true;}\r\n\t\t\t\t$($t).triggerHandler(\"jqGridFilterInitialize\", [$(\"#\"+fid)]);\r\n\t\t\t\tif($.isFunction(p.onInitializeSearch) ) {\r\n\t\t\t\t\tp.onInitializeSearch.call($t, $(\"#\"+fid));\r\n\t\t\t\t}\r\n\t\t\t\tp.gbox = \"#gbox_\"+fid;\r\n\t\t\t\tif (p.layer) {\r\n\t\t\t\t\t$.jgrid.createModal(IDs ,fil,p,\"#gview_\"+$.jgrid.jqID($t.p.id),$(\"#gbox_\"+$.jgrid.jqID($t.p.id))[0], \"#\"+$.jgrid.jqID(p.layer), {position: \"relative\"});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.jgrid.createModal(IDs ,fil,p,\"#gview_\"+$.jgrid.jqID($t.p.id),$(\"#gbox_\"+$.jgrid.jqID($t.p.id))[0]);\r\n\t\t\t\t}\r\n\t\t\t\tif (p.searchOnEnter || p.closeOnEscape) {\r\n\t\t\t\t\t$(\"#\"+$.jgrid.jqID(IDs.themodal)).keydown(function (e) {\r\n\t\t\t\t\t\tvar $target = $(e.target);\r\n\t\t\t\t\t\tif (p.searchOnEnter && e.which === 13 && // 13 === $.ui.keyCode.ENTER\r\n\t\t\t\t\t\t\t\t!$target.hasClass('add-group') && !$target.hasClass('add-rule') &&\r\n\t\t\t\t\t\t\t\t!$target.hasClass('delete-group') && !$target.hasClass('delete-rule') &&\r\n\t\t\t\t\t\t\t\t(!$target.hasClass(\"fm-button\") || !$target.is(\"[id$=_query]\"))) {\r\n\t\t\t\t\t\t\t$(\"#\"+fid+\"_search\").click();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (p.closeOnEscape && e.which === 27) { // 27 === $.ui.keyCode.ESCAPE\r\n\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(IDs.modalhead)).find(\".ui-jqdialog-titlebar-close\").click();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(bQ) {\r\n\t\t\t\t\t$(\"#\"+fid+\"_query\").bind('click', function(){\r\n\t\t\t\t\t\t$(\".queryresult\", fil).toggle();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (p.stringResult===undefined) {\r\n\t\t\t\t\t// to provide backward compatibility, inferring stringResult value from multipleSearch\r\n\t\t\t\t\tp.stringResult = p.multipleSearch;\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#\"+fid+\"_search\").bind('click', function(){\r\n\t\t\t\t\tvar fl = $(\"#\"+fid), sdata={}, res, filters;\r\n\t\t\t\t\tfl.find(\".input-elm:focus\").change();\r\n\t\t\t\t\tfilters = fl.jqFilter('filterData');\r\n\t\t\t\t\tif(p.errorcheck) {\r\n\t\t\t\t\t\tfl[0].hideError();\r\n\t\t\t\t\t\tif(!p.showQuery) {fl.jqFilter('toSQLString');}\r\n\t\t\t\t\t\tif(fl[0].p.error) {\r\n\t\t\t\t\t\t\tfl[0].showError();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(p.stringResult) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// xmlJsonClass or JSON.stringify\r\n\t\t\t\t\t\t\tres = xmlJsonClass.toJson(filters, '', '', false);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tres = JSON.stringify(filters);\r\n\t\t\t\t\t\t\t} catch (e2) { }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(typeof res===\"string\") {\r\n\t\t\t\t\t\t\tsdata[p.sFilter] = res;\r\n\t\t\t\t\t\t\t$.each([p.sField,p.sValue, p.sOper], function() {sdata[this] = \"\";});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(p.multipleSearch) {\r\n\t\t\t\t\t\t\tsdata[p.sFilter] = filters;\r\n\t\t\t\t\t\t\t$.each([p.sField,p.sValue, p.sOper], function() {sdata[this] = \"\";});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsdata[p.sField] = filters.rules[0].field;\r\n\t\t\t\t\t\t\tsdata[p.sValue] = filters.rules[0].data;\r\n\t\t\t\t\t\t\tsdata[p.sOper] = filters.rules[0].op;\r\n\t\t\t\t\t\t\tsdata[p.sFilter] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$t.p.search = true;\r\n\t\t\t\t\t$.extend($t.p.postData,sdata);\r\n\t\t\t\t\tmustReload = $($t).triggerHandler(\"jqGridFilterSearch\");\r\n\t\t\t\t\tif( mustReload === undefined) {\r\n\t\t\t\t\t\tmustReload = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(mustReload && $.isFunction(p.onSearch) ) {\r\n\t\t\t\t\t\tmustReload = p.onSearch.call($t, $t.p.filters);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mustReload !== false) {\r\n\t\t\t\t\t\t$($t).trigger(\"reloadGrid\",[{page:1}]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(p.closeAfterSearch) {\r\n\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID($t.p.id),jqm:p.jqModal,onClose: p.onClose});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#\"+fid+\"_reset\").bind('click', function(){\r\n\t\t\t\t\tvar sdata={},\r\n\t\t\t\t\tfl = $(\"#\"+fid);\r\n\t\t\t\t\t$t.p.search = false;\r\n\t\t\t\t\t$t.p.resetsearch =  true;\r\n\t\t\t\t\tif(p.multipleSearch===false) {\r\n\t\t\t\t\t\tsdata[p.sField] = sdata[p.sValue] = sdata[p.sOper] = \"\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsdata[p.sFilter] = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfl[0].resetFilter();\r\n\t\t\t\t\tif(found) {\r\n\t\t\t\t\t\t$(\".ui-template\", fil).val(\"default\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.extend($t.p.postData,sdata);\r\n\t\t\t\t\tmustReload = $($t).triggerHandler(\"jqGridFilterReset\");\r\n\t\t\t\t\tif(mustReload === undefined) {\r\n\t\t\t\t\t\tmustReload = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(mustReload && $.isFunction(p.onReset) ) {\r\n\t\t\t\t\t\tmustReload = p.onReset.call($t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(mustReload !== false) {\r\n\t\t\t\t\t\t$($t).trigger(\"reloadGrid\",[{page:1}]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (p.closeAfterReset) {\r\n\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID($t.p.id),jqm:p.jqModal,onClose: p.onClose});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\tshowFilter($(\"#\"+fid));\r\n\t\t\t\t$(\".fm-button:not(.ui-state-disabled)\",fil).hover(\r\n\t\t\t\t\tfunction(){$(this).addClass('ui-state-hover');},\r\n\t\t\t\t\tfunction(){$(this).removeClass('ui-state-hover');}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\teditGridRow : function(rowid, p){\r\n\t\tp = $.extend(true, {\r\n\t\t\ttop : 0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: 300,\r\n\t\t\tdatawidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tdataheight: 'auto',\r\n\t\t\tmodal: false,\r\n\t\t\toverlay : 30,\r\n\t\t\tdrag: true,\r\n\t\t\tresize: true,\r\n\t\t\turl: null,\r\n\t\t\tmtype : \"POST\",\r\n\t\t\tclearAfterAdd :true,\r\n\t\t\tcloseAfterEdit : false,\r\n\t\t\treloadAfterSubmit : true,\r\n\t\t\tonInitializeForm: null,\r\n\t\t\tbeforeInitData: null,\r\n\t\t\tbeforeShowForm: null,\r\n\t\t\tafterShowForm: null,\r\n\t\t\tbeforeSubmit: null,\r\n\t\t\tafterSubmit: null,\r\n\t\t\tonclickSubmit: null,\r\n\t\t\tafterComplete: null,\r\n\t\t\tonclickPgButtons : null,\r\n\t\t\tafterclickPgButtons: null,\r\n\t\t\teditData : {},\r\n\t\t\trecreateForm : false,\r\n\t\t\tjqModal : true,\r\n\t\t\tcloseOnEscape : false,\r\n\t\t\taddedrow : \"first\",\r\n\t\t\ttopinfo : '',\r\n\t\t\tbottominfo: '',\r\n\t\t\tsaveicon : [],\r\n\t\t\tcloseicon : [],\r\n\t\t\tsavekey: [false,13],\r\n\t\t\tnavkeys: [false,38,40],\r\n\t\t\tcheckOnSubmit : false,\r\n\t\t\tcheckOnUpdate : false,\r\n\t\t\t_savedData : {},\r\n\t\t\tprocessing : false,\r\n\t\t\tonClose : null,\r\n\t\t\tajaxEditOptions : {},\r\n\t\t\tserializeEditData : null,\r\n\t\t\tviewPagerButtons : true,\r\n\t\t\toverlayClass : 'ui-widget-overlay'\r\n\t\t}, $.jgrid.edit, p || {});\r\n\t\trp_ge[$(this)[0].p.id] = p;\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif (!$t.grid || !rowid) {return;}\r\n\t\t\tvar gID = $t.p.id,\r\n\t\t\tfrmgr = \"FrmGrid_\"+gID, frmtborg = \"TblGrid_\"+gID, frmtb = \"#\"+$.jgrid.jqID(frmtborg),\r\n\t\t\tIDs = {themodal:'editmod'+gID,modalhead:'edithd'+gID,modalcontent:'editcnt'+gID, scrollelm : frmgr},\r\n\t\t\tonBeforeShow = $.isFunction(rp_ge[$t.p.id].beforeShowForm) ? rp_ge[$t.p.id].beforeShowForm : false,\r\n\t\t\tonAfterShow = $.isFunction(rp_ge[$t.p.id].afterShowForm) ? rp_ge[$t.p.id].afterShowForm : false,\r\n\t\t\tonBeforeInit = $.isFunction(rp_ge[$t.p.id].beforeInitData) ? rp_ge[$t.p.id].beforeInitData : false,\r\n\t\t\tonInitializeForm = $.isFunction(rp_ge[$t.p.id].onInitializeForm) ? rp_ge[$t.p.id].onInitializeForm : false,\r\n\t\t\tshowFrm = true,\r\n\t\t\tmaxCols = 1, maxRows=0,\tpostdata, diff, frmoper;\r\n\t\t\tfrmgr = $.jgrid.jqID(frmgr);\r\n\t\t\tif (rowid === \"new\") {\r\n\t\t\t\trowid = \"_empty\";\r\n\t\t\t\tfrmoper = \"add\";\r\n\t\t\t\tp.caption=rp_ge[$t.p.id].addCaption;\r\n\t\t\t} else {\r\n\t\t\t\tp.caption=rp_ge[$t.p.id].editCaption;\r\n\t\t\t\tfrmoper = \"edit\";\r\n\t\t\t}\r\n\t\t\tif(!p.recreateForm) {\r\n\t\t\t\tif( $($t).data(\"formProp\") ) {\r\n\t\t\t\t\t$.extend(rp_ge[$(this)[0].p.id], $($t).data(\"formProp\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar closeovrl = true;\r\n\t\t\tif(p.checkOnUpdate && p.jqModal && !p.modal) {\r\n\t\t\t\tcloseovrl = false;\r\n\t\t\t}\r\n\t\t\tfunction getFormData(){\r\n\t\t\t\t$(frmtb+\" > tbody > tr > td > .FormElement\").each(function() {\r\n\t\t\t\t\tvar celm = $(\".customelement\", this);\r\n\t\t\t\t\tif (celm.length) {\r\n\t\t\t\t\t\tvar  elem = celm[0], nm = $(elem).attr('name');\r\n\t\t\t\t\t\t$.each($t.p.colModel, function(){\r\n\t\t\t\t\t\t\tif(this.name === nm && this.editoptions && $.isFunction(this.editoptions.custom_value)) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tpostdata[nm] = this.editoptions.custom_value.call($t, $(\"#\"+$.jgrid.jqID(nm),frmtb),'get');\r\n\t\t\t\t\t\t\t\t\tif (postdata[nm] === undefined) {throw \"e1\";}\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\tif (e===\"e1\") {$.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\t\t\telse {$.jgrid.info_dialog($.jgrid.errors.errcap,e.message,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tswitch ($(this).get(0).type) {\r\n\t\t\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\t\t\tif($(this).is(\":checked\")) {\r\n\t\t\t\t\t\t\t\tpostdata[this.name]= $(this).val();\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tvar ofv = $(this).attr(\"offval\");\r\n\t\t\t\t\t\t\t\tpostdata[this.name]= ofv;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"select-one\":\r\n\t\t\t\t\t\t\tpostdata[this.name]= $(\"option:selected\",this).val();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"select-multiple\":\r\n\t\t\t\t\t\t\tpostdata[this.name]= $(this).val();\r\n\t\t\t\t\t\t\tif(postdata[this.name]) {postdata[this.name] = postdata[this.name].join(\",\");}\r\n\t\t\t\t\t\t\telse {postdata[this.name] =\"\";}\r\n\t\t\t\t\t\t\tvar selectedText = [];\r\n\t\t\t\t\t\t\t$(\"option:selected\",this).each(\r\n\t\t\t\t\t\t\t\tfunction(i,selected){\r\n\t\t\t\t\t\t\t\t\tselectedText[i] = $(selected).text();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"password\":\r\n\t\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\t\tcase \"button\":\r\n\t\t\t\t\t\t\tpostdata[this.name] = $(this).val();\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($t.p.autoencode) {postdata[this.name] = $.jgrid.htmlEncode(postdata[this.name]);}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tfunction createData(rowid,obj,tb,maxcols){\r\n\t\t\t\tvar nm, hc,trdata, cnt=0,tmp, dc,elc, retpos=[], ind=false,\r\n\t\t\t\ttdtmpl = \"<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>\", tmpl=\"\", i; //*2\r\n\t\t\t\tfor (i =1; i<=maxcols;i++) {\r\n\t\t\t\t\ttmpl += tdtmpl;\r\n\t\t\t\t}\r\n\t\t\t\tif(rowid !== '_empty') {\r\n\t\t\t\t\tind = $(obj).jqGrid(\"getInd\",rowid);\r\n\t\t\t\t}\r\n\t\t\t\t$(obj.p.colModel).each( function(i) {\r\n\t\t\t\t\tnm = this.name;\r\n\t\t\t\t\t// hidden fields are included in the form\r\n\t\t\t\t\tif(this.editrules && this.editrules.edithidden === true) {\r\n\t\t\t\t\t\thc = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thc = this.hidden === true ? true : false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdc = hc ? \"style='display:none'\" : \"\";\r\n\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && this.editable===true && nm !== 'rn') {\r\n\t\t\t\t\t\tif(ind === false) {\r\n\t\t\t\t\t\t\ttmp = \"\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(nm === obj.p.ExpandColumn && obj.p.treeGrid === true) {\r\n\t\t\t\t\t\t\t\ttmp = $(\"td[role='gridcell']:eq(\"+i+\")\",obj.rows[ind]).text();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\ttmp =  $.unformat.call(obj, $(\"td[role='gridcell']:eq(\"+i+\")\",obj.rows[ind]),{rowId:rowid, colModel:this},i);\r\n\t\t\t\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\t\t\t\ttmp =  (this.edittype && this.edittype === \"textarea\") ? $(\"td[role='gridcell']:eq(\"+i+\")\",obj.rows[ind]).text() : $(\"td[role='gridcell']:eq(\"+i+\")\",obj.rows[ind]).html();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(!tmp || tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length===1 && tmp.charCodeAt(0)===160) ) {tmp='';}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar opt = $.extend({}, this.editoptions || {} ,{id:nm,name:nm}),\r\n\t\t\t\t\t\tfrmopt = $.extend({}, {elmprefix:'',elmsuffix:'',rowabove:false,rowcontent:''}, this.formoptions || {}),\r\n\t\t\t\t\t\trp = parseInt(frmopt.rowpos,10) || cnt+1,\r\n\t\t\t\t\t\tcp = parseInt((parseInt(frmopt.colpos,10) || 1)*2,10);\r\n\t\t\t\t\t\tif(rowid === \"_empty\" && opt.defaultValue ) {\r\n\t\t\t\t\t\t\ttmp = $.isFunction(opt.defaultValue) ? opt.defaultValue.call($t) : opt.defaultValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!this.edittype) {this.edittype = \"text\";}\r\n\t\t\t\t\t\tif($t.p.autoencode) {tmp = $.jgrid.htmlDecode(tmp);}\r\n\t\t\t\t\t\telc = $.jgrid.createEl.call($t,this.edittype,opt,tmp,false,$.extend({},$.jgrid.ajaxOptions,obj.p.ajaxSelectOptions || {}));\r\n\t\t\t\t\t\t//if(tmp === \"\" && this.edittype == \"checkbox\") {tmp = $(elc).attr(\"offval\");}\r\n\t\t\t\t\t\t//if(tmp === \"\" && this.edittype == \"select\") {tmp = $(\"option:eq(0)\",elc).text();}\r\n\t\t\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit || rp_ge[$t.p.id].checkOnUpdate) {rp_ge[$t.p.id]._savedData[nm] = tmp;}\r\n\t\t\t\t\t\t$(elc).addClass(\"FormElement\");\r\n\t\t\t\t\t\tif( $.inArray(this.edittype, ['text','textarea','password','select']) > -1) {\r\n\t\t\t\t\t\t\t$(elc).addClass(\"ui-widget-content ui-corner-all\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrdata = $(tb).find(\"tr[rowpos=\"+rp+\"]\");\r\n\t\t\t\t\t\tif(frmopt.rowabove) {\r\n\t\t\t\t\t\t\tvar newdata = $(\"<tr><td class='contentinfo' colspan='\"+(maxcols*2)+\"'>\"+frmopt.rowcontent+\"</td></tr>\");\r\n\t\t\t\t\t\t\t$(tb).append(newdata);\r\n\t\t\t\t\t\t\tnewdata[0].rp = rp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( trdata.length===0 ) {\r\n\t\t\t\t\t\t\ttrdata = $(\"<tr \"+dc+\" rowpos='\"+rp+\"'></tr>\").addClass(\"FormData\").attr(\"id\",\"tr_\"+nm);\r\n\t\t\t\t\t\t\t$(trdata).append(tmpl);\r\n\t\t\t\t\t\t\t$(tb).append(trdata);\r\n\t\t\t\t\t\t\ttrdata[0].rp = rp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\"td:eq(\"+(cp-2)+\")\",trdata[0]).html(frmopt.label === undefined ? obj.p.colNames[i]: frmopt.label);\r\n\t\t\t\t\t\t$(\"td:eq(\"+(cp-1)+\")\",trdata[0]).append(frmopt.elmprefix).append(elc).append(frmopt.elmsuffix);\r\n\t\t\t\t\t\tif(this.edittype==='custom' && $.isFunction(opt.custom_value) ) {\r\n\t\t\t\t\t\t\topt.custom_value.call($t, $(\"#\"+nm,\"#\"+frmgr),'set',tmp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$.jgrid.bindEv.call($t, elc, opt);\r\n\t\t\t\t\t\tretpos[cnt] = i;\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif( cnt > 0) {\r\n\t\t\t\t\tvar idrow = $(\"<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='\"+ (maxcols*2-1)+\"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='\"+obj.p.id+\"_id' value='\"+rowid+\"'/></td></tr>\");\r\n\t\t\t\t\tidrow[0].rp = cnt+999;\r\n\t\t\t\t\t$(tb).append(idrow);\r\n\t\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit || rp_ge[$t.p.id].checkOnUpdate) {rp_ge[$t.p.id]._savedData[obj.p.id+\"_id\"] = rowid;}\r\n\t\t\t\t}\r\n\t\t\t\treturn retpos;\r\n\t\t\t}\r\n\t\t\tfunction fillData(rowid,obj,fmid){\r\n\t\t\t\tvar nm,cnt=0,tmp, fld,opt,vl,vlc;\r\n\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit || rp_ge[$t.p.id].checkOnUpdate) {rp_ge[$t.p.id]._savedData = {};rp_ge[$t.p.id]._savedData[obj.p.id+\"_id\"]=rowid;}\r\n\t\t\t\tvar cm = obj.p.colModel;\r\n\t\t\t\tif(rowid === '_empty') {\r\n\t\t\t\t\t$(cm).each(function(){\r\n\t\t\t\t\t\tnm = this.name;\r\n\t\t\t\t\t\topt = $.extend({}, this.editoptions || {} );\r\n\t\t\t\t\t\tfld = $(\"#\"+$.jgrid.jqID(nm),\"#\"+fmid);\r\n\t\t\t\t\t\tif(fld && fld.length && fld[0] !== null) {\r\n\t\t\t\t\t\t\tvl = \"\";\r\n\t\t\t\t\t\t\tif(this.edittype === 'custom' && $.isFunction(opt.custom_value)) {\r\n\t\t\t\t\t\t\t\topt.custom_value.call($t, $(\"#\"+nm,\"#\"+fmid),'set',vl);\r\n\t\t\t\t\t\t\t} else if(opt.defaultValue ) {\r\n\t\t\t\t\t\t\t\tvl = $.isFunction(opt.defaultValue) ? opt.defaultValue.call($t) : opt.defaultValue;\r\n\t\t\t\t\t\t\t\tif(fld[0].type==='checkbox') {\r\n\t\t\t\t\t\t\t\t\tvlc = vl.toLowerCase();\r\n\t\t\t\t\t\t\t\t\tif(vlc.search(/(false|f|0|no|n|off|undefined)/i)<0 && vlc!==\"\") {\r\n\t\t\t\t\t\t\t\t\t\tfld[0].checked = true;\r\n\t\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = true;\r\n\t\t\t\t\t\t\t\t\t\tfld[0].value = vl;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tfld[0].checked = false;\r\n\t\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {fld.val(vl);}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif( fld[0].type==='checkbox' ) {\r\n\t\t\t\t\t\t\t\t\tfld[0].checked = false;\r\n\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = false;\r\n\t\t\t\t\t\t\t\t\tvl = $(fld).attr(\"offval\");\r\n\t\t\t\t\t\t\t\t} else if (fld[0].type && fld[0].type.substr(0,6)==='select') {\r\n\t\t\t\t\t\t\t\t\tfld[0].selectedIndex = 0;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tfld.val(vl);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit===true || rp_ge[$t.p.id].checkOnUpdate) {rp_ge[$t.p.id]._savedData[nm] = vl;}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\"#id_g\",\"#\"+fmid).val(rowid);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar tre = $(obj).jqGrid(\"getInd\",rowid,true);\r\n\t\t\t\tif(!tre) {return;}\r\n\t\t\t\t$('td[role=\"gridcell\"]',tre).each( function(i) {\r\n\t\t\t\t\tnm = cm[i].name;\r\n\t\t\t\t\t// hidden fields are included in the form\r\n\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && nm !== 'rn' && cm[i].editable===true) {\r\n\t\t\t\t\t\tif(nm === obj.p.ExpandColumn && obj.p.treeGrid === true) {\r\n\t\t\t\t\t\t\ttmp = $(this).text();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\ttmp =  $.unformat.call(obj, $(this),{rowId:rowid, colModel:cm[i]},i);\r\n\t\t\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\t\t\ttmp = cm[i].edittype===\"textarea\" ? $(this).text() : $(this).html();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif($t.p.autoencode) {tmp = $.jgrid.htmlDecode(tmp);}\r\n\t\t\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit===true || rp_ge[$t.p.id].checkOnUpdate) {rp_ge[$t.p.id]._savedData[nm] = tmp;}\r\n\t\t\t\t\t\tnm = $.jgrid.jqID(nm);\r\n\t\t\t\t\t\tswitch (cm[i].edittype) {\r\n\t\t\t\t\t\t\tcase \"password\":\r\n\t\t\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\t\tcase \"button\" :\r\n\t\t\t\t\t\t\tcase \"image\":\r\n\t\t\t\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\t\t\t\tif(tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length===1 && tmp.charCodeAt(0)===160) ) {tmp='';}\r\n\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid).val(tmp);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"select\":\r\n\t\t\t\t\t\t\t\tvar opv = tmp.split(\",\");\r\n\t\t\t\t\t\t\t\topv = $.map(opv,function(n){return $.trim(n);});\r\n\t\t\t\t\t\t\t\t$(\"#\"+nm+\" option\",\"#\"+fmid).each(function(){\r\n\t\t\t\t\t\t\t\t\tif (!cm[i].editoptions.multiple && ($.trim(tmp) === $.trim($(this).text()) || opv[0] === $.trim($(this).text()) || opv[0] === $.trim($(this).val())) ){\r\n\t\t\t\t\t\t\t\t\t\tthis.selected= true;\r\n\t\t\t\t\t\t\t\t\t} else if (cm[i].editoptions.multiple){\r\n\t\t\t\t\t\t\t\t\t\tif(  $.inArray($.trim($(this).text()), opv ) > -1 || $.inArray($.trim($(this).val()), opv ) > -1  ){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.selected = true;\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.selected = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.selected = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\t\t\t\ttmp = String(tmp);\r\n\t\t\t\t\t\t\t\tif(cm[i].editoptions && cm[i].editoptions.value) {\r\n\t\t\t\t\t\t\t\t\tvar cb = cm[i].editoptions.value.split(\":\");\r\n\t\t\t\t\t\t\t\t\tif(cb[0] === tmp) {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr']({\"checked\":true, \"defaultChecked\" : true});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr']({\"checked\":false, \"defaultChecked\" : false});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttmp = tmp.toLowerCase();\r\n\t\t\t\t\t\t\t\t\tif(tmp.search(/(false|f|0|no|n|off|undefined)/i)<0 && tmp!==\"\") {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr'](\"checked\",true);\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr'](\"defaultChecked\",true); //ie\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr'](\"checked\", false);\r\n\t\t\t\t\t\t\t\t\t\t$(\"#\"+nm,\"#\"+fmid)[$t.p.useProp ? 'prop': 'attr'](\"defaultChecked\", false); //ie\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'custom' :\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tif(cm[i].editoptions && $.isFunction(cm[i].editoptions.custom_value)) {\r\n\t\t\t\t\t\t\t\t\t\tcm[i].editoptions.custom_value.call($t, $(\"#\"+nm,\"#\"+fmid),'set',tmp);\r\n\t\t\t\t\t\t\t\t\t} else {throw \"e1\";}\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\tif (e===\"e1\") {$.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\t\t\telse {$.jgrid.info_dialog($.jgrid.errors.errcap,e.message,$.jgrid.edit.bClose);}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(cnt>0) {$(\"#id_g\",frmtb).val(rowid);}\r\n\t\t\t}\r\n\t\t\tfunction setNulls() {\r\n\t\t\t\t$.each($t.p.colModel, function(i,n){\r\n\t\t\t\t\tif(n.editoptions && n.editoptions.NullIfEmpty === true) {\r\n\t\t\t\t\t\tif(postdata.hasOwnProperty(n.name) && postdata[n.name] === \"\") {\r\n\t\t\t\t\t\t\tpostdata[n.name] = 'null';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction postIt() {\r\n\t\t\t\tvar copydata, ret=[true,\"\",\"\"], onCS = {}, opers = $t.p.prmNames, idname, oper, key, selr, i;\r\n\r\n\t\t\t\tvar retvals = $($t).triggerHandler(\"jqGridAddEditBeforeCheckValues\", [$(\"#\"+frmgr), frmoper]);\r\n\t\t\t\tif(retvals && typeof retvals === 'object') {postdata = retvals;}\r\n\r\n\t\t\t\tif($.isFunction(rp_ge[$t.p.id].beforeCheckValues)) {\r\n\t\t\t\t\tretvals = rp_ge[$t.p.id].beforeCheckValues.call($t, postdata,$(\"#\"+frmgr),frmoper);\r\n\t\t\t\t\tif(retvals && typeof retvals === 'object') {postdata = retvals;}\r\n\t\t\t\t}\r\n\t\t\t\tfor( key in postdata ){\r\n\t\t\t\t\tif(postdata.hasOwnProperty(key)) {\r\n\t\t\t\t\t\tret = $.jgrid.checkValues.call($t,postdata[key],key);\r\n\t\t\t\t\t\tif(ret[0] === false) {break;}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetNulls();\r\n\t\t\t\tif(ret[0]) {\r\n\t\t\t\t\tonCS = $($t).triggerHandler(\"jqGridAddEditClickSubmit\", [rp_ge[$t.p.id], postdata, frmoper]);\r\n\t\t\t\t\tif( onCS === undefined && $.isFunction( rp_ge[$t.p.id].onclickSubmit)) {\r\n\t\t\t\t\t\tonCS = rp_ge[$t.p.id].onclickSubmit.call($t, rp_ge[$t.p.id], postdata, frmoper) || {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tret = $($t).triggerHandler(\"jqGridAddEditBeforeSubmit\", [postdata, $(\"#\"+frmgr), frmoper]);\r\n\t\t\t\t\tif(ret === undefined) {\r\n\t\t\t\t\t\tret = [true,\"\",\"\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( ret[0] && $.isFunction(rp_ge[$t.p.id].beforeSubmit))  {\r\n\t\t\t\t\t\tret = rp_ge[$t.p.id].beforeSubmit.call($t,postdata,$(\"#\"+frmgr), frmoper);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(ret[0] && !rp_ge[$t.p.id].processing) {\r\n\t\t\t\t\trp_ge[$t.p.id].processing = true;\r\n\t\t\t\t\t$(\"#sData\", frmtb+\"_2\").addClass('ui-state-active');\r\n\t\t\t\t\toper = opers.oper;\r\n\t\t\t\t\tidname = opers.id;\r\n\t\t\t\t\t// we add to pos data array the action - the name is oper\r\n\t\t\t\t\tpostdata[oper] = ($.trim(postdata[$t.p.id+\"_id\"]) === \"_empty\") ? opers.addoper : opers.editoper;\r\n\t\t\t\t\tif(postdata[oper] !== opers.addoper) {\r\n\t\t\t\t\t\tpostdata[idname] = postdata[$t.p.id+\"_id\"];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// check to see if we have allredy this field in the form and if yes lieve it\r\n\t\t\t\t\t\tif( postdata[idname] === undefined ) {postdata[idname] = postdata[$t.p.id+\"_id\"];}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete postdata[$t.p.id+\"_id\"];\r\n\t\t\t\t\tpostdata = $.extend(postdata,rp_ge[$t.p.id].editData,onCS);\r\n\t\t\t\t\tif($t.p.treeGrid === true)  {\r\n\t\t\t\t\t\tif(postdata[oper] === opers.addoper) {\r\n\t\t\t\t\t\tselr = $($t).jqGrid(\"getGridParam\", 'selrow');\r\n\t\t\t\t\t\t\tvar tr_par_id = $t.p.treeGridModel === 'adjacency' ? $t.p.treeReader.parent_id_field : 'parent_id';\r\n\t\t\t\t\t\t\tpostdata[tr_par_id] = selr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(i in $t.p.treeReader){\r\n\t\t\t\t\t\t\tif($t.p.treeReader.hasOwnProperty(i)) {\r\n\t\t\t\t\t\t\t\tvar itm = $t.p.treeReader[i];\r\n\t\t\t\t\t\t\t\tif(postdata.hasOwnProperty(itm)) {\r\n\t\t\t\t\t\t\t\t\tif(postdata[oper] === opers.addoper && i === 'parent_id_field') {continue;}\r\n\t\t\t\t\t\t\t\t\tdelete postdata[itm];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpostdata[idname] = $.jgrid.stripPref($t.p.idPrefix, postdata[idname]);\r\n\t\t\t\t\tvar ajaxOptions = $.extend({\r\n\t\t\t\t\t\turl: rp_ge[$t.p.id].url || $($t).jqGrid('getGridParam','editurl'),\r\n\t\t\t\t\t\ttype: rp_ge[$t.p.id].mtype,\r\n\t\t\t\t\t\tdata: $.isFunction(rp_ge[$t.p.id].serializeEditData) ? rp_ge[$t.p.id].serializeEditData.call($t,postdata) :  postdata,\r\n\t\t\t\t\t\tcomplete:function(data,status){\r\n\t\t\t\t\t\t\tvar key;\r\n\t\t\t\t\t\t\tpostdata[idname] = $t.p.idPrefix + postdata[idname];\r\n\t\t\t\t\t\t\tif(data.status >= 300 && data.status !== 304) {\r\n\t\t\t\t\t\t\t\tret[0] = false;\r\n\t\t\t\t\t\t\t\tret[1] = $($t).triggerHandler(\"jqGridAddEditErrorTextFormat\", [data, frmoper]);\r\n\t\t\t\t\t\t\t\tif ($.isFunction(rp_ge[$t.p.id].errorTextFormat)) {\r\n\t\t\t\t\t\t\t\t\tret[1] = rp_ge[$t.p.id].errorTextFormat.call($t, data, frmoper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tret[1] = status + \" Status: '\" + data.statusText + \"'. Error code: \" + data.status;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// data is posted successful\r\n\t\t\t\t\t\t\t\t// execute aftersubmit with the returned data from server\r\n\t\t\t\t\t\t\t\tret = $($t).triggerHandler(\"jqGridAddEditAfterSubmit\", [data, postdata, frmoper]);\r\n\t\t\t\t\t\t\t\tif(ret === undefined) {\r\n\t\t\t\t\t\t\t\t\tret = [true,\"\",\"\"];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif( ret[0] && $.isFunction(rp_ge[$t.p.id].afterSubmit) ) {\r\n\t\t\t\t\t\t\t\t\tret = rp_ge[$t.p.id].afterSubmit.call($t, data,postdata, frmoper);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(ret[0] === false) {\r\n\t\t\t\t\t\t\t\t$(\"#FormError>td\",frmtb).html(ret[1]);\r\n\t\t\t\t\t\t\t\t$(\"#FormError\",frmtb).show();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif($t.p.autoencode) {\r\n\t\t\t\t\t\t\t\t\t$.each(postdata,function(n,v){\r\n\t\t\t\t\t\t\t\t\t\tpostdata[n] = $.jgrid.htmlDecode(v);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//rp_ge[$t.p.id].reloadAfterSubmit = rp_ge[$t.p.id].reloadAfterSubmit && $t.p.datatype != \"local\";\r\n\t\t\t\t\t\t\t\t// the action is add\r\n\t\t\t\t\t\t\t\tif(postdata[oper] === opers.addoper ) {\r\n\t\t\t\t\t\t\t\t\t//id processing\r\n\t\t\t\t\t\t\t\t\t// user not set the id ret[2]\r\n\t\t\t\t\t\t\t\t\tif(!ret[2]) {ret[2] = $.jgrid.randId();}\r\n\t\t\t\t\t\t\t\t\tpostdata[idname] = ret[2];\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].reloadAfterSubmit) {\r\n\t\t\t\t\t\t\t\t\t\t$($t).trigger(\"reloadGrid\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif($t.p.treeGrid === true){\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"addChildNode\",ret[2],selr,postdata );\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"addRowData\",ret[2],postdata,p.addedrow);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].closeAfterAdd) {\r\n\t\t\t\t\t\t\t\t\t\tif($t.p.treeGrid !== true){\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"setSelection\",ret[2]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal,onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\t\t\t\t\t} else if (rp_ge[$t.p.id].clearAfterAdd) {\r\n\t\t\t\t\t\t\t\t\t\tfillData(\"_empty\",$t,frmgr);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// the action is update\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].reloadAfterSubmit) {\r\n\t\t\t\t\t\t\t\t\t\t$($t).trigger(\"reloadGrid\");\r\n\t\t\t\t\t\t\t\t\t\tif( !rp_ge[$t.p.id].closeAfterEdit ) {setTimeout(function(){$($t).jqGrid(\"setSelection\",postdata[idname]);},1000);}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif($t.p.treeGrid === true) {\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"setTreeRow\", postdata[idname],postdata);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"setRowData\", postdata[idname],postdata);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].closeAfterEdit) {$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal,onClose: rp_ge[$t.p.id].onClose});}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif($.isFunction(rp_ge[$t.p.id].afterComplete)) {\r\n\t\t\t\t\t\t\t\t\tcopydata = data;\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridAddEditAfterComplete\", [copydata, postdata, $(\"#\"+frmgr), frmoper]);\r\n\t\t\t\t\t\t\t\t\t\trp_ge[$t.p.id].afterComplete.call($t, copydata, postdata, $(\"#\"+frmgr), frmoper);\r\n\t\t\t\t\t\t\t\t\t\tcopydata=null;\r\n\t\t\t\t\t\t\t\t\t},500);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].checkOnSubmit || rp_ge[$t.p.id].checkOnUpdate) {\r\n\t\t\t\t\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",false);\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id]._savedData[$t.p.id+\"_id\"] !== \"_empty\"){\r\n\t\t\t\t\t\t\t\t\t\tfor(key in rp_ge[$t.p.id]._savedData) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id]._savedData.hasOwnProperty(key) && postdata[key]) {\r\n\t\t\t\t\t\t\t\t\t\t\t\trp_ge[$t.p.id]._savedData[key] = postdata[key];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trp_ge[$t.p.id].processing=false;\r\n\t\t\t\t\t\t\t$(\"#sData\", frmtb+\"_2\").removeClass('ui-state-active');\r\n\t\t\t\t\t\t\ttry{$(':input:visible',\"#\"+frmgr)[0].focus();} catch (e){}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, $.jgrid.ajaxOptions, rp_ge[$t.p.id].ajaxEditOptions );\r\n\r\n\t\t\t\t\tif (!ajaxOptions.url && !rp_ge[$t.p.id].useDataProxy) {\r\n\t\t\t\t\t\tif ($.isFunction($t.p.dataProxy)) {\r\n\t\t\t\t\t\t\trp_ge[$t.p.id].useDataProxy = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tret[0]=false;ret[1] += \" \"+$.jgrid.errors.nourl;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ret[0]) {\r\n\t\t\t\t\t\tif (rp_ge[$t.p.id].useDataProxy) {\r\n\t\t\t\t\t\t\tvar dpret = $t.p.dataProxy.call($t, ajaxOptions, \"set_\"+$t.p.id);\r\n\t\t\t\t\t\t\tif(dpret === undefined) {\r\n\t\t\t\t\t\t\t\tdpret = [true, \"\"];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(dpret[0] === false ) {\r\n\t\t\t\t\t\t\t\tret[0] = false;\r\n\t\t\t\t\t\t\t\tret[1] = dpret[1] || \"Error deleting the selected row!\" ;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif(ajaxOptions.data.oper === opers.addoper && rp_ge[$t.p.id].closeAfterAdd ) {\r\n\t\t\t\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(ajaxOptions.data.oper === opers.editoper && rp_ge[$t.p.id].closeAfterEdit ) {\r\n\t\t\t\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.ajax(ajaxOptions);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ret[0] === false) {\r\n\t\t\t\t\t$(\"#FormError>td\",frmtb).html(ret[1]);\r\n\t\t\t\t\t$(\"#FormError\",frmtb).show();\r\n\t\t\t\t\t// return;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction compareData(nObj, oObj ) {\r\n\t\t\t\tvar ret = false,key;\r\n\t\t\t\tfor (key in nObj) {\r\n\t\t\t\t\tif(nObj.hasOwnProperty(key) && nObj[key] != oObj[key]) {\r\n\t\t\t\t\t\tret = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t\tfunction checkUpdates () {\r\n\t\t\t\tvar stat = true;\r\n\t\t\t\t$(\"#FormError\",frmtb).hide();\r\n\t\t\t\tif(rp_ge[$t.p.id].checkOnUpdate) {\r\n\t\t\t\t\tpostdata = {};\r\n\t\t\t\t\tgetFormData();\r\n\t\t\t\t\tdiff = compareData(postdata,rp_ge[$t.p.id]._savedData);\r\n\t\t\t\t\tif(diff) {\r\n\t\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",true);\r\n\t\t\t\t\t\t$(\".confirm\",\"#\"+IDs.themodal).show();\r\n\t\t\t\t\t\tstat = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn stat;\r\n\t\t\t}\r\n\t\t\tfunction restoreInline()\r\n\t\t\t{\r\n\t\t\t\tvar i;\r\n\t\t\t\tif (rowid !== \"_empty\" && $t.p.savedRow !== undefined && $t.p.savedRow.length > 0 && $.isFunction($.fn.jqGrid.restoreRow)) {\r\n\t\t\t\t\tfor (i=0;i<$t.p.savedRow.length;i++) {\r\n\t\t\t\t\t\tif ($t.p.savedRow[i].id == rowid) {\r\n\t\t\t\t\t\t\t$($t).jqGrid('restoreRow',rowid);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction updateNav(cr, posarr){\r\n\t\t\t\tvar totr = posarr[1].length-1;\r\n\t\t\t\tif (cr===0) {\r\n\t\t\t\t\t$(\"#pData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else if( posarr[1][cr-1] !== undefined && $(\"#\"+$.jgrid.jqID(posarr[1][cr-1])).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t$(\"#pData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#pData\",frmtb+\"_2\").removeClass('ui-state-disabled');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cr===totr) {\r\n\t\t\t\t\t$(\"#nData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else if( posarr[1][cr+1] !== undefined && $(\"#\"+$.jgrid.jqID(posarr[1][cr+1])).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t$(\"#nData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#nData\",frmtb+\"_2\").removeClass('ui-state-disabled');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction getCurrPos() {\r\n\t\t\t\tvar rowsInGrid = $($t).jqGrid(\"getDataIDs\"),\r\n\t\t\t\tselrow = $(\"#id_g\",frmtb).val(),\r\n\t\t\t\tpos = $.inArray(selrow,rowsInGrid);\r\n\t\t\t\treturn [pos,rowsInGrid];\r\n\t\t\t}\r\n\r\n\t\t\tvar dh = isNaN(rp_ge[$(this)[0].p.id].dataheight) ? rp_ge[$(this)[0].p.id].dataheight : rp_ge[$(this)[0].p.id].dataheight+\"px\",\r\n\t\t\tdw = isNaN(rp_ge[$(this)[0].p.id].datawidth) ? rp_ge[$(this)[0].p.id].datawidth : rp_ge[$(this)[0].p.id].datawidth+\"px\",\r\n\t\t\tfrm = $(\"<form name='FormPost' id='\"+frmgr+\"' class='FormGrid' onSubmit='return false;' style='width:\"+dw+\";overflow:auto;position:relative;height:\"+dh+\";'></form>\").data(\"disabled\",false),\r\n\t\t\ttbl = $(\"<table id='\"+frmtborg+\"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>\");\r\n\t\t\tshowFrm = $($t).triggerHandler(\"jqGridAddEditBeforeInitData\", [$(\"#\"+frmgr), frmoper]);\r\n\t\t\tif(showFrm === undefined) {\r\n\t\t\t\tshowFrm = true;\r\n\t\t\t}\r\n\t\t\tif(showFrm && onBeforeInit) {\r\n\t\t\t\tshowFrm = onBeforeInit.call($t,$(\"#\"+frmgr),frmoper);\r\n\t\t\t}\r\n\t\t\tif(showFrm === false) {return;}\r\n\t\t\trestoreInline();\r\n\t\t\t$($t.p.colModel).each( function() {\r\n\t\t\t\tvar fmto = this.formoptions;\r\n\t\t\t\tmaxCols = Math.max(maxCols, fmto ? fmto.colpos || 0 : 0 );\r\n\t\t\t\tmaxRows = Math.max(maxRows, fmto ? fmto.rowpos || 0 : 0 );\r\n\t\t\t});\r\n\t\t\t$(frm).append(tbl);\r\n\t\t\tvar flr = $(\"<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='\"+(maxCols*2)+\"'></td></tr>\");\r\n\t\t\tflr[0].rp = 0;\r\n\t\t\t$(tbl).append(flr);\r\n\t\t\t//topinfo\r\n\t\t\tflr = $(\"<tr style='display:none' class='tinfo'><td class='topinfo' colspan='\"+(maxCols*2)+\"'>\"+rp_ge[$t.p.id].topinfo+\"</td></tr>\");\r\n\t\t\tflr[0].rp = 0;\r\n\t\t\t$(tbl).append(flr);\r\n\t\t\t// set the id.\r\n\t\t\t// use carefull only to change here colproperties.\r\n\t\t\t// create data\r\n\t\t\tvar rtlb = $t.p.direction === \"rtl\" ? true :false,\r\n\t\t\tbp = rtlb ? \"nData\" : \"pData\",\r\n\t\t\tbn = rtlb ? \"pData\" : \"nData\";\r\n\t\t\tcreateData(rowid,$t,tbl,maxCols);\r\n\t\t\t// buttons at footer\r\n\t\t\tvar bP = \"<a id='\"+bp+\"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>\",\r\n\t\t\tbN = \"<a id='\"+bn+\"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>\",\r\n\t\t\tbS  =\"<a id='sData' class='fm-button ui-state-default ui-corner-all'>\"+p.bSubmit+\"</a>\",\r\n\t\t\tbC  =\"<a id='cData' class='fm-button ui-state-default ui-corner-all'>\"+p.bCancel+\"</a>\";\r\n\t\t\tvar bt = \"<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='\"+frmtborg+\"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>\"+(rtlb ? bN+bP : bP+bN)+\"</td><td class='EditButton'>\"+bS+bC+\"</td></tr>\";\r\n\t\t\tbt += \"<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>\"+rp_ge[$t.p.id].bottominfo+\"</td></tr>\";\r\n\t\t\tbt += \"</tbody></table>\";\r\n\t\t\tif(maxRows >  0) {\r\n\t\t\t\tvar sd=[];\r\n\t\t\t\t$.each($(tbl)[0].rows,function(i,r){\r\n\t\t\t\t\tsd[i] = r;\r\n\t\t\t\t});\r\n\t\t\t\tsd.sort(function(a,b){\r\n\t\t\t\t\tif(a.rp > b.rp) {return 1;}\r\n\t\t\t\t\tif(a.rp < b.rp) {return -1;}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t\t$.each(sd, function(index, row) {\r\n\t\t\t\t\t$('tbody',tbl).append(row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tp.gbox = \"#gbox_\"+$.jgrid.jqID(gID);\r\n\t\t\tvar cle = false;\r\n\t\t\tif(p.closeOnEscape===true){\r\n\t\t\t\tp.closeOnEscape = false;\r\n\t\t\t\tcle = true;\r\n\t\t\t}\r\n\t\t\tvar tms = $(\"<div></div>\").append(frm).append(bt);\r\n\t\t\t$.jgrid.createModal(IDs,tms, rp_ge[$(this)[0].p.id] ,\"#gview_\"+$.jgrid.jqID($t.p.id),$(\"#gbox_\"+$.jgrid.jqID($t.p.id))[0]);\r\n\t\t\tif(rtlb) {\r\n\t\t\t\t$(\"#pData, #nData\",frmtb+\"_2\").css(\"float\",\"right\");\r\n\t\t\t\t$(\".EditButton\",frmtb+\"_2\").css(\"text-align\",\"left\");\r\n\t\t\t}\r\n\t\t\tif(rp_ge[$t.p.id].topinfo) {$(\".tinfo\",frmtb).show();}\r\n\t\t\tif(rp_ge[$t.p.id].bottominfo) {$(\".binfo\",frmtb+\"_2\").show();}\r\n\t\t\ttms = null;bt=null;\r\n\t\t\t$(\"#\"+$.jgrid.jqID(IDs.themodal)).keydown( function( e ) {\r\n\t\t\t\tvar wkey = e.target;\r\n\t\t\t\tif ($(\"#\"+frmgr).data(\"disabled\")===true ) {return false;}//??\r\n\t\t\t\tif(rp_ge[$t.p.id].savekey[0] === true && e.which === rp_ge[$t.p.id].savekey[1]) { // save\r\n\t\t\t\t\tif(wkey.tagName !== \"TEXTAREA\") {\r\n\t\t\t\t\t\t$(\"#sData\", frmtb+\"_2\").trigger(\"click\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(e.which === 27) {\r\n\t\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t\tif(cle)\t{$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:p.gbox,jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(rp_ge[$t.p.id].navkeys[0]===true) {\r\n\t\t\t\t\tif($(\"#id_g\",frmtb).val() === \"_empty\") {return true;}\r\n\t\t\t\t\tif(e.which === rp_ge[$t.p.id].navkeys[1]){ //up\r\n\t\t\t\t\t\t$(\"#pData\", frmtb+\"_2\").trigger(\"click\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(e.which === rp_ge[$t.p.id].navkeys[2]){ //down\r\n\t\t\t\t\t\t$(\"#nData\", frmtb+\"_2\").trigger(\"click\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(p.checkOnUpdate) {\r\n\t\t\t\t$(\"a.ui-jqdialog-titlebar-close span\",\"#\"+$.jgrid.jqID(IDs.themodal)).removeClass(\"jqmClose\");\r\n\t\t\t\t$(\"a.ui-jqdialog-titlebar-close\",\"#\"+$.jgrid.jqID(IDs.themodal)).unbind(\"click\")\r\n\t\t\t\t.click(function(){\r\n\t\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal,onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tp.saveicon = $.extend([true,\"left\",\"ui-icon-disk\"],p.saveicon);\r\n\t\t\tp.closeicon = $.extend([true,\"left\",\"ui-icon-close\"],p.closeicon);\r\n\t\t\t// beforeinitdata after creation of the form\r\n\t\t\tif(p.saveicon[0]===true) {\r\n\t\t\t\t$(\"#sData\",frmtb+\"_2\").addClass(p.saveicon[1] === \"right\" ? 'fm-button-icon-right' : 'fm-button-icon-left')\r\n\t\t\t\t.append(\"<span class='ui-icon \"+p.saveicon[2]+\"'></span>\");\r\n\t\t\t}\r\n\t\t\tif(p.closeicon[0]===true) {\r\n\t\t\t\t$(\"#cData\",frmtb+\"_2\").addClass(p.closeicon[1] === \"right\" ? 'fm-button-icon-right' : 'fm-button-icon-left')\r\n\t\t\t\t.append(\"<span class='ui-icon \"+p.closeicon[2]+\"'></span>\");\r\n\t\t\t}\r\n\t\t\tif(rp_ge[$t.p.id].checkOnSubmit || rp_ge[$t.p.id].checkOnUpdate) {\r\n\t\t\t\tbS  =\"<a id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>\"+p.bYes+\"</a>\";\r\n\t\t\t\tbN  =\"<a id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>\"+p.bNo+\"</a>\";\r\n\t\t\t\tbC  =\"<a id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>\"+p.bExit+\"</a>\";\r\n\t\t\t\tvar zI = p.zIndex  || 999;zI ++;\r\n\t\t\t\t$(\"<div class='\"+ p.overlayClass+\" jqgrid-overlay confirm' style='z-index:\"+zI+\";display:none;'>&#160;\"+\"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:\"+(zI+1)+\"'>\"+p.saveData+\"<br/><br/>\"+bS+bN+bC+\"</div>\").insertAfter(\"#\"+frmgr);\r\n\t\t\t\t$(\"#sNew\",\"#\"+$.jgrid.jqID(IDs.themodal)).click(function(){\r\n\t\t\t\t\tpostIt();\r\n\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",false);\r\n\t\t\t\t\t$(\".confirm\",\"#\"+$.jgrid.jqID(IDs.themodal)).hide();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#nNew\",\"#\"+$.jgrid.jqID(IDs.themodal)).click(function(){\r\n\t\t\t\t\t$(\".confirm\",\"#\"+$.jgrid.jqID(IDs.themodal)).hide();\r\n\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",false);\r\n\t\t\t\t\tsetTimeout(function(){$(\":input:visible\",\"#\"+frmgr)[0].focus();},0);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#cNew\",\"#\"+$.jgrid.jqID(IDs.themodal)).click(function(){\r\n\t\t\t\t\t$(\".confirm\",\"#\"+$.jgrid.jqID(IDs.themodal)).hide();\r\n\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",false);\r\n\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal,onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// here initform - only once\r\n\t\t\t$($t).triggerHandler(\"jqGridAddEditInitializeForm\", [$(\"#\"+frmgr), frmoper]);\r\n\t\t\tif(onInitializeForm) {onInitializeForm.call($t,$(\"#\"+frmgr), frmoper);}\r\n\t\t\tif(rowid===\"_empty\" || !rp_ge[$t.p.id].viewPagerButtons) {$(\"#pData,#nData\",frmtb+\"_2\").hide();} else {$(\"#pData,#nData\",frmtb+\"_2\").show();}\r\n\t\t\t$($t).triggerHandler(\"jqGridAddEditBeforeShowForm\", [$(\"#\"+frmgr), frmoper]);\r\n\t\t\tif(onBeforeShow) { onBeforeShow.call($t, $(\"#\"+frmgr), frmoper);}\r\n\t\t\t$(\"#\"+$.jgrid.jqID(IDs.themodal)).data(\"onClose\",rp_ge[$t.p.id].onClose);\r\n\t\t\t$.jgrid.viewModal(\"#\"+$.jgrid.jqID(IDs.themodal),{\r\n\t\t\t\tgbox:\"#gbox_\"+$.jgrid.jqID(gID),\r\n\t\t\t\tjqm:p.jqModal,\r\n\t\t\t\toverlay: p.overlay,\r\n\t\t\t\tmodal:p.modal,\r\n\t\t\t\toverlayClass: p.overlayClass,\r\n\t\t\t\tonHide :  function(h) {\r\n\t\t\t\t\t$($t).data(\"formProp\", {\r\n\t\t\t\t\t\ttop:parseFloat($(h.w).css(\"top\")),\r\n\t\t\t\t\t\tleft : parseFloat($(h.w).css(\"left\")),\r\n\t\t\t\t\t\twidth : $(h.w).width(),\r\n\t\t\t\t\t\theight : $(h.w).height(),\r\n\t\t\t\t\t\tdataheight : $(\"#\"+frmgr).height(),\r\n\t\t\t\t\t\tdatawidth: $(\"#\"+frmgr).width()\r\n\t\t\t\t\t});\r\n\t\t\t\t\th.w.remove();\r\n\t\t\t\t\tif(h.o) {h.o.remove();}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!closeovrl) {\r\n\t\t\t\t$(\".\" + $.jgrid.jqID(p.overlayClass)).click(function(){\r\n\t\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t$(\".fm-button\",\"#\"+$.jgrid.jqID(IDs.themodal)).hover(\r\n\t\t\t\tfunction(){$(this).addClass('ui-state-hover');},\r\n\t\t\t\tfunction(){$(this).removeClass('ui-state-hover');}\r\n\t\t\t);\r\n\t\t\t$(\"#sData\", frmtb+\"_2\").click(function(){\r\n\t\t\t\tpostdata = {};\r\n\t\t\t\t$(\"#FormError\",frmtb).hide();\r\n\t\t\t\t// all depend on ret array\r\n\t\t\t\t//ret[0] - succes\r\n\t\t\t\t//ret[1] - msg if not succes\r\n\t\t\t\t//ret[2] - the id  that will be set if reload after submit false\r\n\t\t\t\tgetFormData();\r\n\t\t\t\tif(postdata[$t.p.id+\"_id\"] === \"_empty\")\t{postIt();}\r\n\t\t\t\telse if(p.checkOnSubmit===true ) {\r\n\t\t\t\t\tdiff = compareData(postdata,rp_ge[$t.p.id]._savedData);\r\n\t\t\t\t\tif(diff) {\r\n\t\t\t\t\t\t$(\"#\"+frmgr).data(\"disabled\",true);\r\n\t\t\t\t\t\t$(\".confirm\",\"#\"+$.jgrid.jqID(IDs.themodal)).show();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpostIt();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpostIt();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$(\"#cData\", frmtb+\"_2\").click(function(){\r\n\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal,onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$(\"#nData\", frmtb+\"_2\").click(function(){\r\n\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t$(\"#FormError\",frmtb).hide();\r\n\t\t\t\tvar npos = getCurrPos();\r\n\t\t\t\tnpos[0] = parseInt(npos[0],10);\r\n\t\t\t\tif(npos[0] !== -1 && npos[1][npos[0]+1]) {\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridAddEditClickPgButtons\", ['next',$(\"#\"+frmgr),npos[1][npos[0]]]);\r\n\t\t\t\t\tvar nposret;\r\n\t\t\t\t\tif($.isFunction(p.onclickPgButtons)) {\r\n\t\t\t\t\t\tnposret = p.onclickPgButtons.call($t, 'next',$(\"#\"+frmgr),npos[1][npos[0]]);\r\n\t\t\t\t\t\tif( nposret !== undefined && nposret === false ) {return false;}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( $(\"#\"+$.jgrid.jqID(npos[1][npos[0]+1])).hasClass('ui-state-disabled')) {return false;}\r\n\t\t\t\t\tfillData(npos[1][npos[0]+1],$t,frmgr);\r\n\t\t\t\t\t$($t).jqGrid(\"setSelection\",npos[1][npos[0]+1]);\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridAddEditAfterClickPgButtons\", ['next',$(\"#\"+frmgr),npos[1][npos[0]]]);\r\n\t\t\t\t\tif($.isFunction(p.afterclickPgButtons)) {\r\n\t\t\t\t\t\tp.afterclickPgButtons.call($t, 'next',$(\"#\"+frmgr),npos[1][npos[0]+1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateNav(npos[0]+1,npos);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$(\"#pData\", frmtb+\"_2\").click(function(){\r\n\t\t\t\tif(!checkUpdates()) {return false;}\r\n\t\t\t\t$(\"#FormError\",frmtb).hide();\r\n\t\t\t\tvar ppos = getCurrPos();\r\n\t\t\t\tif(ppos[0] !== -1 && ppos[1][ppos[0]-1]) {\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridAddEditClickPgButtons\", ['prev',$(\"#\"+frmgr),ppos[1][ppos[0]]]);\r\n\t\t\t\t\tvar pposret;\r\n\t\t\t\t\tif($.isFunction(p.onclickPgButtons)) {\r\n\t\t\t\t\t\tpposret = p.onclickPgButtons.call($t, 'prev',$(\"#\"+frmgr),ppos[1][ppos[0]]);\r\n\t\t\t\t\t\tif( pposret !== undefined && pposret === false ) {return false;}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( $(\"#\"+$.jgrid.jqID(ppos[1][ppos[0]-1])).hasClass('ui-state-disabled')) {return false;}\r\n\t\t\t\t\tfillData(ppos[1][ppos[0]-1],$t,frmgr);\r\n\t\t\t\t\t$($t).jqGrid(\"setSelection\",ppos[1][ppos[0]-1]);\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridAddEditAfterClickPgButtons\", ['prev',$(\"#\"+frmgr),ppos[1][ppos[0]]]);\r\n\t\t\t\t\tif($.isFunction(p.afterclickPgButtons)) {\r\n\t\t\t\t\t\tp.afterclickPgButtons.call($t, 'prev',$(\"#\"+frmgr),ppos[1][ppos[0]-1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateNav(ppos[0]-1,ppos);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$($t).triggerHandler(\"jqGridAddEditAfterShowForm\", [$(\"#\"+frmgr), frmoper]);\r\n\t\t\tif(onAfterShow) { onAfterShow.call($t, $(\"#\"+frmgr), frmoper); }\r\n\t\t\tvar posInit =getCurrPos();\r\n\t\t\tupdateNav(posInit[0],posInit);\r\n\t\t});\r\n\t},\r\n\tviewGridRow : function(rowid, p){\r\n\t\tp = $.extend(true, {\r\n\t\t\ttop : 0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: 0,\r\n\t\t\tdatawidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tdataheight: 'auto',\r\n\t\t\tmodal: false,\r\n\t\t\toverlay: 30,\r\n\t\t\tdrag: true,\r\n\t\t\tresize: true,\r\n\t\t\tjqModal: true,\r\n\t\t\tcloseOnEscape : false,\r\n\t\t\tlabelswidth: '30%',\r\n\t\t\tcloseicon: [],\r\n\t\t\tnavkeys: [false,38,40],\r\n\t\t\tonClose: null,\r\n\t\t\tbeforeShowForm : null,\r\n\t\t\tbeforeInitData : null,\r\n\t\t\tviewPagerButtons : true,\r\n\t\t\trecreateForm : false\r\n\t\t}, $.jgrid.view, p || {});\r\n\t\trp_ge[$(this)[0].p.id] = p;\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif (!$t.grid || !rowid) {return;}\r\n\t\t\tvar gID = $t.p.id,\r\n\t\t\tfrmgr = \"ViewGrid_\"+$.jgrid.jqID( gID  ), frmtb = \"ViewTbl_\" + $.jgrid.jqID( gID ),\r\n\t\t\tfrmgr_id = \"ViewGrid_\"+gID, frmtb_id = \"ViewTbl_\"+gID,\r\n\t\t\tIDs = {themodal:'viewmod'+gID,modalhead:'viewhd'+gID,modalcontent:'viewcnt'+gID, scrollelm : frmgr},\r\n\t\t\tonBeforeInit = $.isFunction(rp_ge[$t.p.id].beforeInitData) ? rp_ge[$t.p.id].beforeInitData : false,\r\n\t\t\tshowFrm = true,\r\n\t\t\tmaxCols = 1, maxRows=0;\r\n\t\t\tif(!p.recreateForm) {\r\n\t\t\t\tif( $($t).data(\"viewProp\") ) {\r\n\t\t\t\t\t$.extend(rp_ge[$(this)[0].p.id], $($t).data(\"viewProp\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction focusaref(){ //Sfari 3 issues\r\n\t\t\t\tif(rp_ge[$t.p.id].closeOnEscape===true || rp_ge[$t.p.id].navkeys[0]===true) {\r\n\t\t\t\t\tsetTimeout(function(){$(\".ui-jqdialog-titlebar-close\",\"#\"+$.jgrid.jqID(IDs.modalhead)).focus();},0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction createData(rowid,obj,tb,maxcols){\r\n\t\t\t\tvar nm, hc,trdata, cnt=0,tmp, dc, retpos=[], ind=false, i,\r\n\t\t\t\ttdtmpl = \"<td class='CaptionTD form-view-label ui-widget-content' width='\"+p.labelswidth+\"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>\", tmpl=\"\",\r\n\t\t\t\ttdtmpl2 = \"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>\",\r\n\t\t\t\tfmtnum = ['integer','number','currency'],max1 =0, max2=0 ,maxw,setme, viewfld;\r\n\t\t\t\tfor (i=1;i<=maxcols;i++) {\r\n\t\t\t\t\ttmpl += i === 1 ? tdtmpl : tdtmpl2;\r\n\t\t\t\t}\r\n\t\t\t\t// find max number align rigth with property formatter\r\n\t\t\t\t$(obj.p.colModel).each( function() {\r\n\t\t\t\t\tif(this.editrules && this.editrules.edithidden === true) {\r\n\t\t\t\t\t\thc = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thc = this.hidden === true ? true : false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!hc && this.align==='right') {\r\n\t\t\t\t\t\tif(this.formatter && $.inArray(this.formatter,fmtnum) !== -1 ) {\r\n\t\t\t\t\t\t\tmax1 = Math.max(max1,parseInt(this.width,10));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmax2 = Math.max(max2,parseInt(this.width,10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tmaxw  = max1 !==0 ? max1 : max2 !==0 ? max2 : 0;\r\n\t\t\t\tind = $(obj).jqGrid(\"getInd\",rowid);\r\n\t\t\t\t$(obj.p.colModel).each( function(i) {\r\n\t\t\t\t\tnm = this.name;\r\n\t\t\t\t\tsetme = false;\r\n\t\t\t\t\t// hidden fields are included in the form\r\n\t\t\t\t\tif(this.editrules && this.editrules.edithidden === true) {\r\n\t\t\t\t\t\thc = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thc = this.hidden === true ? true : false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdc = hc ? \"style='display:none'\" : \"\";\r\n\t\t\t\t\tviewfld = (typeof this.viewable !== 'boolean') ? true : this.viewable;\r\n\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && nm !== 'rn' && viewfld) {\r\n\t\t\t\t\t\tif(ind === false) {\r\n\t\t\t\t\t\t\ttmp = \"\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(nm === obj.p.ExpandColumn && obj.p.treeGrid === true) {\r\n\t\t\t\t\t\t\t\ttmp = $(\"td:eq(\"+i+\")\",obj.rows[ind]).text();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttmp = $(\"td:eq(\"+i+\")\",obj.rows[ind]).html();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetme = this.align === 'right' && maxw !==0 ? true : false;\r\n\t\t\t\t\t\tvar frmopt = $.extend({},{rowabove:false,rowcontent:''}, this.formoptions || {}),\r\n\t\t\t\t\t\trp = parseInt(frmopt.rowpos,10) || cnt+1,\r\n\t\t\t\t\t\tcp = parseInt((parseInt(frmopt.colpos,10) || 1)*2,10);\r\n\t\t\t\t\t\tif(frmopt.rowabove) {\r\n\t\t\t\t\t\t\tvar newdata = $(\"<tr><td class='contentinfo' colspan='\"+(maxcols*2)+\"'>\"+frmopt.rowcontent+\"</td></tr>\");\r\n\t\t\t\t\t\t\t$(tb).append(newdata);\r\n\t\t\t\t\t\t\tnewdata[0].rp = rp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrdata = $(tb).find(\"tr[rowpos=\"+rp+\"]\");\r\n\t\t\t\t\t\tif ( trdata.length===0 ) {\r\n\t\t\t\t\t\t\ttrdata = $(\"<tr \"+dc+\" rowpos='\"+rp+\"'></tr>\").addClass(\"FormData\").attr(\"id\",\"trv_\"+nm);\r\n\t\t\t\t\t\t\t$(trdata).append(tmpl);\r\n\t\t\t\t\t\t\t$(tb).append(trdata);\r\n\t\t\t\t\t\t\ttrdata[0].rp = rp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\"td:eq(\"+(cp-2)+\")\",trdata[0]).html('<b>'+ (frmopt.label === undefined ? obj.p.colNames[i]: frmopt.label)+'</b>');\r\n\t\t\t\t\t\t$(\"td:eq(\"+(cp-1)+\")\",trdata[0]).append(\"<span>\"+tmp+\"</span>\").attr(\"id\",\"v_\"+nm);\r\n\t\t\t\t\t\tif(setme){\r\n\t\t\t\t\t\t\t$(\"td:eq(\"+(cp-1)+\") span\",trdata[0]).css({'text-align':'right',width:maxw+\"px\"});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tretpos[cnt] = i;\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif( cnt > 0) {\r\n\t\t\t\t\tvar idrow = $(\"<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='\"+ (maxcols*2-1)+\"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='\"+rowid+\"'/></td></tr>\");\r\n\t\t\t\t\tidrow[0].rp = cnt+99;\r\n\t\t\t\t\t$(tb).append(idrow);\r\n\t\t\t\t}\r\n\t\t\t\treturn retpos;\r\n\t\t\t}\r\n\t\t\tfunction fillData(rowid,obj){\r\n\t\t\t\tvar nm, hc,cnt=0,tmp,trv;\r\n\t\t\t\ttrv = $(obj).jqGrid(\"getInd\",rowid,true);\r\n\t\t\t\tif(!trv) {return;}\r\n\t\t\t\t$('td',trv).each( function(i) {\r\n\t\t\t\t\tnm = obj.p.colModel[i].name;\r\n\t\t\t\t\t// hidden fields are included in the form\r\n\t\t\t\t\tif(obj.p.colModel[i].editrules && obj.p.colModel[i].editrules.edithidden === true) {\r\n\t\t\t\t\t\thc = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thc = obj.p.colModel[i].hidden === true ? true : false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && nm !== 'rn') {\r\n\t\t\t\t\t\tif(nm === obj.p.ExpandColumn && obj.p.treeGrid === true) {\r\n\t\t\t\t\t\t\ttmp = $(this).text();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttmp = $(this).html();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnm = $.jgrid.jqID(\"v_\"+nm);\r\n\t\t\t\t\t\t$(\"#\"+nm+\" span\",\"#\"+frmtb).html(tmp);\r\n\t\t\t\t\t\tif (hc) {$(\"#\"+nm,\"#\"+frmtb).parents(\"tr:first\").hide();}\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(cnt>0) {$(\"#id_g\",\"#\"+frmtb).val(rowid);}\r\n\t\t\t}\r\n\t\t\tfunction updateNav(cr,posarr){\r\n\t\t\t\tvar totr = posarr[1].length-1;\r\n\t\t\t\tif (cr===0) {\r\n\t\t\t\t\t$(\"#pData\",\"#\"+frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else if( posarr[1][cr-1] !== undefined && $(\"#\"+$.jgrid.jqID(posarr[1][cr-1])).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t$(\"#pData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#pData\",\"#\"+frmtb+\"_2\").removeClass('ui-state-disabled');\r\n\t\t\t\t}\r\n\t\t\t\tif (cr===totr) {\r\n\t\t\t\t\t$(\"#nData\",\"#\"+frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else if( posarr[1][cr+1] !== undefined && $(\"#\"+$.jgrid.jqID(posarr[1][cr+1])).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t$(\"#nData\",frmtb+\"_2\").addClass('ui-state-disabled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#nData\",\"#\"+frmtb+\"_2\").removeClass('ui-state-disabled');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction getCurrPos() {\r\n\t\t\t\tvar rowsInGrid = $($t).jqGrid(\"getDataIDs\"),\r\n\t\t\t\tselrow = $(\"#id_g\",\"#\"+frmtb).val(),\r\n\t\t\t\tpos = $.inArray(selrow,rowsInGrid);\r\n\t\t\t\treturn [pos,rowsInGrid];\r\n\t\t\t}\r\n\r\n\t\t\tvar dh = isNaN(rp_ge[$(this)[0].p.id].dataheight) ? rp_ge[$(this)[0].p.id].dataheight : rp_ge[$(this)[0].p.id].dataheight+\"px\",\r\n\t\t\tdw = isNaN(rp_ge[$(this)[0].p.id].datawidth) ? rp_ge[$(this)[0].p.id].datawidth : rp_ge[$(this)[0].p.id].datawidth+\"px\",\r\n\t\t\tfrm = $(\"<form name='FormPost' id='\"+frmgr_id+\"' class='FormGrid' style='width:\"+dw+\";overflow:auto;position:relative;height:\"+dh+\";'></form>\"),\r\n\t\t\ttbl =$(\"<table id='\"+frmtb_id+\"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>\");\r\n\t\t\tif(onBeforeInit) {\r\n\t\t\t\tshowFrm = onBeforeInit.call($t,$(\"#\"+frmgr));\r\n\t\t\t\tif(showFrm === undefined) {\r\n\t\t\t\t\tshowFrm = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(showFrm === false) {return;}\r\n\t\t\t$($t.p.colModel).each( function() {\r\n\t\t\t\tvar fmto = this.formoptions;\r\n\t\t\t\tmaxCols = Math.max(maxCols, fmto ? fmto.colpos || 0 : 0 );\r\n\t\t\t\tmaxRows = Math.max(maxRows, fmto ? fmto.rowpos || 0 : 0 );\r\n\t\t\t});\r\n\t\t\t// set the id.\r\n\t\t\t$(frm).append(tbl);\r\n\t\t\tcreateData(rowid, $t, tbl, maxCols);\r\n\t\t\tvar rtlb = $t.p.direction === \"rtl\" ? true :false,\r\n\t\t\tbp = rtlb ? \"nData\" : \"pData\",\r\n\t\t\tbn = rtlb ? \"pData\" : \"nData\",\r\n\t\t\t\t// buttons at footer\r\n\t\t\tbP = \"<a id='\"+bp+\"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>\",\r\n\t\t\tbN = \"<a id='\"+bn+\"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>\",\r\n\t\t\tbC  =\"<a id='cData' class='fm-button ui-state-default ui-corner-all'>\"+p.bClose+\"</a>\";\r\n\t\t\tif(maxRows >  0) {\r\n\t\t\t\tvar sd=[];\r\n\t\t\t\t$.each($(tbl)[0].rows,function(i,r){\r\n\t\t\t\t\tsd[i] = r;\r\n\t\t\t\t});\r\n\t\t\t\tsd.sort(function(a,b){\r\n\t\t\t\t\tif(a.rp > b.rp) {return 1;}\r\n\t\t\t\t\tif(a.rp < b.rp) {return -1;}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t\t$.each(sd, function(index, row) {\r\n\t\t\t\t\t$('tbody',tbl).append(row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tp.gbox = \"#gbox_\"+$.jgrid.jqID(gID);\r\n\t\t\tvar bt = $(\"<div></div>\").append(frm).append(\"<table border='0' class='EditTable' id='\"+frmtb+\"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='\"+p.labelswidth+\"'>\"+(rtlb ? bN+bP : bP+bN)+\"</td><td class='EditButton'>\"+bC+\"</td></tr></tbody></table>\");\r\n\t\t\t$.jgrid.createModal(IDs,bt,p,\"#gview_\"+$.jgrid.jqID($t.p.id),$(\"#gview_\"+$.jgrid.jqID($t.p.id))[0]);\r\n\t\t\tif(rtlb) {\r\n\t\t\t\t$(\"#pData, #nData\",\"#\"+frmtb+\"_2\").css(\"float\",\"right\");\r\n\t\t\t\t$(\".EditButton\",\"#\"+frmtb+\"_2\").css(\"text-align\",\"left\");\r\n\t\t\t}\r\n\t\t\tif(!p.viewPagerButtons) {$(\"#pData, #nData\",\"#\"+frmtb+\"_2\").hide();}\r\n\t\t\tbt = null;\r\n\t\t\t$(\"#\"+IDs.themodal).keydown( function( e ) {\r\n\t\t\t\tif(e.which === 27) {\r\n\t\t\t\t\tif(rp_ge[$t.p.id].closeOnEscape) {$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:p.gbox,jqm:p.jqModal, onClose: p.onClose});}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(p.navkeys[0]===true) {\r\n\t\t\t\t\tif(e.which === p.navkeys[1]){ //up\r\n\t\t\t\t\t\t$(\"#pData\", \"#\"+frmtb+\"_2\").trigger(\"click\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(e.which === p.navkeys[2]){ //down\r\n\t\t\t\t\t\t$(\"#nData\", \"#\"+frmtb+\"_2\").trigger(\"click\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tp.closeicon = $.extend([true,\"left\",\"ui-icon-close\"],p.closeicon);\r\n\t\t\tif(p.closeicon[0]===true) {\r\n\t\t\t\t$(\"#cData\",\"#\"+frmtb+\"_2\").addClass(p.closeicon[1] === \"right\" ? 'fm-button-icon-right' : 'fm-button-icon-left')\r\n\t\t\t\t.append(\"<span class='ui-icon \"+p.closeicon[2]+\"'></span>\");\r\n\t\t\t}\r\n\t\t\tif($.isFunction(p.beforeShowForm)) {p.beforeShowForm.call($t,$(\"#\"+frmgr));}\r\n\t\t\t$.jgrid.viewModal(\"#\"+$.jgrid.jqID(IDs.themodal),{\r\n\t\t\t\tgbox:\"#gbox_\"+$.jgrid.jqID(gID),\r\n\t\t\t\tjqm:p.jqModal,\r\n\t\t\t\toverlay: p.overlay,\r\n\t\t\t\tmodal:p.modal,\r\n\t\t\t\tonHide :  function(h) {\r\n\t\t\t\t\t$($t).data(\"viewProp\", {\r\n\t\t\t\t\t\ttop:parseFloat($(h.w).css(\"top\")),\r\n\t\t\t\t\t\tleft : parseFloat($(h.w).css(\"left\")),\r\n\t\t\t\t\t\twidth : $(h.w).width(),\r\n\t\t\t\t\t\theight : $(h.w).height(),\r\n\t\t\t\t\t\tdataheight : $(\"#\"+frmgr).height(),\r\n\t\t\t\t\t\tdatawidth: $(\"#\"+frmgr).width()\r\n\t\t\t\t\t});\r\n\t\t\t\t\th.w.remove();\r\n\t\t\t\t\tif(h.o) {h.o.remove();}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\".fm-button:not(.ui-state-disabled)\",\"#\"+frmtb+\"_2\").hover(\r\n\t\t\t\tfunction(){$(this).addClass('ui-state-hover');},\r\n\t\t\t\tfunction(){$(this).removeClass('ui-state-hover');}\r\n\t\t\t);\r\n\t\t\tfocusaref();\r\n\t\t\t$(\"#cData\", \"#\"+frmtb+\"_2\").click(function(){\r\n\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: p.onClose});\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$(\"#nData\", \"#\"+frmtb+\"_2\").click(function(){\r\n\t\t\t\t$(\"#FormError\",\"#\"+frmtb).hide();\r\n\t\t\t\tvar npos = getCurrPos();\r\n\t\t\t\tnpos[0] = parseInt(npos[0],10);\r\n\t\t\t\tif(npos[0] !== -1 && npos[1][npos[0]+1]) {\r\n\t\t\t\t\tif($.isFunction(p.onclickPgButtons)) {\r\n\t\t\t\t\t\tp.onclickPgButtons.call($t,'next',$(\"#\"+frmgr),npos[1][npos[0]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfillData(npos[1][npos[0]+1],$t);\r\n\t\t\t\t\t$($t).jqGrid(\"setSelection\",npos[1][npos[0]+1]);\r\n\t\t\t\t\tif($.isFunction(p.afterclickPgButtons)) {\r\n\t\t\t\t\t\tp.afterclickPgButtons.call($t,'next',$(\"#\"+frmgr),npos[1][npos[0]+1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateNav(npos[0]+1,npos);\r\n\t\t\t\t}\r\n\t\t\t\tfocusaref();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t$(\"#pData\", \"#\"+frmtb+\"_2\").click(function(){\r\n\t\t\t\t$(\"#FormError\",\"#\"+frmtb).hide();\r\n\t\t\t\tvar ppos = getCurrPos();\r\n\t\t\t\tif(ppos[0] !== -1 && ppos[1][ppos[0]-1]) {\r\n\t\t\t\t\tif($.isFunction(p.onclickPgButtons)) {\r\n\t\t\t\t\t\tp.onclickPgButtons.call($t,'prev',$(\"#\"+frmgr),ppos[1][ppos[0]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfillData(ppos[1][ppos[0]-1],$t);\r\n\t\t\t\t\t$($t).jqGrid(\"setSelection\",ppos[1][ppos[0]-1]);\r\n\t\t\t\t\tif($.isFunction(p.afterclickPgButtons)) {\r\n\t\t\t\t\t\tp.afterclickPgButtons.call($t,'prev',$(\"#\"+frmgr),ppos[1][ppos[0]-1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateNav(ppos[0]-1,ppos);\r\n\t\t\t\t}\r\n\t\t\t\tfocusaref();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tvar posInit =getCurrPos();\r\n\t\t\tupdateNav(posInit[0],posInit);\r\n\t\t});\r\n\t},\r\n\tdelGridRow : function(rowids,p) {\r\n\t\tp = $.extend(true, {\r\n\t\t\ttop : 0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: 240,\r\n\t\t\theight: 'auto',\r\n\t\t\tdataheight : 'auto',\r\n\t\t\tmodal: false,\r\n\t\t\toverlay: 30,\r\n\t\t\tdrag: true,\r\n\t\t\tresize: true,\r\n\t\t\turl : '',\r\n\t\t\tmtype : \"POST\",\r\n\t\t\treloadAfterSubmit: true,\r\n\t\t\tbeforeShowForm: null,\r\n\t\t\tbeforeInitData : null,\r\n\t\t\tafterShowForm: null,\r\n\t\t\tbeforeSubmit: null,\r\n\t\t\tonclickSubmit: null,\r\n\t\t\tafterSubmit: null,\r\n\t\t\tjqModal : true,\r\n\t\t\tcloseOnEscape : false,\r\n\t\t\tdelData: {},\r\n\t\t\tdelicon : [],\r\n\t\t\tcancelicon : [],\r\n\t\t\tonClose : null,\r\n\t\t\tajaxDelOptions : {},\r\n\t\t\tprocessing : false,\r\n\t\t\tserializeDelData : null,\r\n\t\t\tuseDataProxy : false\r\n\t\t}, $.jgrid.del, p ||{});\r\n\t\trp_ge[$(this)[0].p.id] = p;\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif (!$t.grid ) {return;}\r\n\t\t\tif(!rowids) {return;}\r\n\t\t\tvar onBeforeShow = $.isFunction( rp_ge[$t.p.id].beforeShowForm  ),\r\n\t\t\tonAfterShow = $.isFunction( rp_ge[$t.p.id].afterShowForm ),\r\n\t\t\tonBeforeInit = $.isFunction(rp_ge[$t.p.id].beforeInitData) ? rp_ge[$t.p.id].beforeInitData : false,\r\n\t\t\tgID = $t.p.id, onCS = {},\r\n\t\t\tshowFrm = true,\r\n\t\t\tdtbl = \"DelTbl_\"+$.jgrid.jqID(gID),postd, idname, opers, oper,\r\n\t\t\tdtbl_id = \"DelTbl_\" + gID,\r\n\t\t\tIDs = {themodal:'delmod'+gID,modalhead:'delhd'+gID,modalcontent:'delcnt'+gID, scrollelm: dtbl};\r\n\t\t\tif ($.isArray(rowids)) {rowids = rowids.join();}\r\n\t\t\tif ( $(\"#\"+$.jgrid.jqID(IDs.themodal))[0] !== undefined ) {\r\n\t\t\t\tif(onBeforeInit) {\r\n\t\t\t\t\tshowFrm = onBeforeInit.call($t,$(\"#\"+dtbl));\r\n\t\t\t\t\tif(showFrm === undefined) {\r\n\t\t\t\t\t\tshowFrm = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(showFrm === false) {return;}\r\n\t\t\t\t$(\"#DelData>td\",\"#\"+dtbl).text(rowids);\r\n\t\t\t\t$(\"#DelError\",\"#\"+dtbl).hide();\r\n\t\t\t\tif( rp_ge[$t.p.id].processing === true) {\r\n\t\t\t\t\trp_ge[$t.p.id].processing=false;\r\n\t\t\t\t\t$(\"#dData\", \"#\"+dtbl).removeClass('ui-state-active');\r\n\t\t\t\t}\r\n\t\t\t\tif(onBeforeShow) {rp_ge[$t.p.id].beforeShowForm.call($t,$(\"#\"+dtbl));}\r\n\t\t\t\t$.jgrid.viewModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gbox:\"#gbox_\"+$.jgrid.jqID(gID),jqm:rp_ge[$t.p.id].jqModal,jqM: false, overlay: rp_ge[$t.p.id].overlay, modal:rp_ge[$t.p.id].modal});\r\n\t\t\t\tif(onAfterShow) {rp_ge[$t.p.id].afterShowForm.call($t,$(\"#\"+dtbl));}\r\n\t\t\t} else {\r\n\t\t\t\tvar dh = isNaN(rp_ge[$t.p.id].dataheight) ? rp_ge[$t.p.id].dataheight : rp_ge[$t.p.id].dataheight+\"px\",\r\n\t\t\t\tdw = isNaN(p.datawidth) ? p.datawidth : p.datawidth+\"px\",\r\n\t\t\t\ttbl = \"<div id='\"+dtbl_id+\"' class='formdata' style='width:\"+dw+\";overflow:auto;position:relative;height:\"+dh+\";'>\";\r\n\t\t\t\ttbl += \"<table class='DelTable'><tbody>\";\r\n\t\t\t\t// error data\r\n\t\t\t\ttbl += \"<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>\";\r\n\t\t\t\ttbl += \"<tr id='DelData' style='display:none'><td >\"+rowids+\"</td></tr>\";\r\n\t\t\t\ttbl += \"<tr><td class=\\\"delmsg\\\" style=\\\"white-space:pre;\\\">\"+rp_ge[$t.p.id].msg+\"</td></tr><tr><td >&#160;</td></tr>\";\r\n\t\t\t\t// buttons at footer\r\n\t\t\t\ttbl += \"</tbody></table></div>\";\r\n\t\t\t\tvar bS  = \"<a id='dData' class='fm-button ui-state-default ui-corner-all'>\"+p.bSubmit+\"</a>\",\r\n\t\t\t\tbC  = \"<a id='eData' class='fm-button ui-state-default ui-corner-all'>\"+p.bCancel+\"</a>\";\r\n\t\t\t\ttbl += \"<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='\"+dtbl+\"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>\"+bS+\"&#160;\"+bC+\"</td></tr></tbody></table>\";\r\n\t\t\t\tp.gbox = \"#gbox_\"+$.jgrid.jqID(gID);\r\n\t\t\t\t$.jgrid.createModal(IDs,tbl,p,\"#gview_\"+$.jgrid.jqID($t.p.id),$(\"#gview_\"+$.jgrid.jqID($t.p.id))[0]);\r\n\r\n\t\t\t\tif(onBeforeInit) {\r\n\t\t\t\t\tshowFrm = onBeforeInit.call($t,$(\"#\"+dtbl));\r\n\t\t\t\t\tif(showFrm === undefined) {\r\n\t\t\t\t\t\tshowFrm = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(showFrm === false) {return;}\r\n\r\n\t\t\t\t$(\".fm-button\",\"#\"+dtbl+\"_2\").hover(\r\n\t\t\t\t\tfunction(){$(this).addClass('ui-state-hover');},\r\n\t\t\t\t\tfunction(){$(this).removeClass('ui-state-hover');}\r\n\t\t\t\t);\r\n\t\t\t\tp.delicon = $.extend([true,\"left\",\"ui-icon-scissors\"],rp_ge[$t.p.id].delicon);\r\n\t\t\t\tp.cancelicon = $.extend([true,\"left\",\"ui-icon-cancel\"],rp_ge[$t.p.id].cancelicon);\r\n\t\t\t\tif(p.delicon[0]===true) {\r\n\t\t\t\t\t$(\"#dData\",\"#\"+dtbl+\"_2\").addClass(p.delicon[1] === \"right\" ? 'fm-button-icon-right' : 'fm-button-icon-left')\r\n\t\t\t\t\t.append(\"<span class='ui-icon \"+p.delicon[2]+\"'></span>\");\r\n\t\t\t\t}\r\n\t\t\t\tif(p.cancelicon[0]===true) {\r\n\t\t\t\t\t$(\"#eData\",\"#\"+dtbl+\"_2\").addClass(p.cancelicon[1] === \"right\" ? 'fm-button-icon-right' : 'fm-button-icon-left')\r\n\t\t\t\t\t.append(\"<span class='ui-icon \"+p.cancelicon[2]+\"'></span>\");\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#dData\",\"#\"+dtbl+\"_2\").click(function(){\r\n\t\t\t\t\tvar ret=[true,\"\"], pk,\r\n\t\t\t\t\tpostdata = $(\"#DelData>td\",\"#\"+dtbl).text(); //the pair is name=val1,val2,...\r\n\t\t\t\t\tonCS = {};\r\n\t\t\t\t\tif( $.isFunction( rp_ge[$t.p.id].onclickSubmit ) ) {onCS = rp_ge[$t.p.id].onclickSubmit.call($t,rp_ge[$t.p.id], postdata) || {};}\r\n\t\t\t\t\tif( $.isFunction( rp_ge[$t.p.id].beforeSubmit ) ) {ret = rp_ge[$t.p.id].beforeSubmit.call($t,postdata);}\r\n\t\t\t\t\tif(ret[0] && !rp_ge[$t.p.id].processing) {\r\n\t\t\t\t\t\trp_ge[$t.p.id].processing = true;\r\n\t\t\t\t\t\topers = $t.p.prmNames;\r\n\t\t\t\t\t\tpostd = $.extend({},rp_ge[$t.p.id].delData, onCS);\r\n\t\t\t\t\t\toper = opers.oper;\r\n\t\t\t\t\t\tpostd[oper] = opers.deloper;\r\n\t\t\t\t\t\tidname = opers.id;\r\n\t\t\t\t\t\tpostdata = String(postdata).split(\",\");\r\n\t\t\t\t\t\tif(!postdata.length) { return false; }\r\n\t\t\t\t\t\tfor(pk in postdata) {\r\n\t\t\t\t\t\t\tif(postdata.hasOwnProperty(pk)) {\r\n\t\t\t\t\t\t\t\tpostdata[pk] = $.jgrid.stripPref($t.p.idPrefix, postdata[pk]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpostd[idname] = postdata.join();\r\n\t\t\t\t\t\t$(this).addClass('ui-state-active');\r\n\t\t\t\t\t\tvar ajaxOptions = $.extend({\r\n\t\t\t\t\t\t\turl: rp_ge[$t.p.id].url || $($t).jqGrid('getGridParam','editurl'),\r\n\t\t\t\t\t\t\ttype: rp_ge[$t.p.id].mtype,\r\n\t\t\t\t\t\t\tdata: $.isFunction(rp_ge[$t.p.id].serializeDelData) ? rp_ge[$t.p.id].serializeDelData.call($t,postd) : postd,\r\n\t\t\t\t\t\t\tcomplete:function(data,status){\r\n\t\t\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\t\t\tif(data.status >= 300 && data.status !== 304) {\r\n\t\t\t\t\t\t\t\t\tret[0] = false;\r\n\t\t\t\t\t\t\t\t\tif ($.isFunction(rp_ge[$t.p.id].errorTextFormat)) {\r\n\t\t\t\t\t\t\t\t\t\tret[1] = rp_ge[$t.p.id].errorTextFormat.call($t,data);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tret[1] = status + \" Status: '\" + data.statusText + \"'. Error code: \" + data.status;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// data is posted successful\r\n\t\t\t\t\t\t\t\t\t// execute aftersubmit with the returned data from server\r\n\t\t\t\t\t\t\t\t\tif( $.isFunction( rp_ge[$t.p.id].afterSubmit ) ) {\r\n\t\t\t\t\t\t\t\t\t\tret = rp_ge[$t.p.id].afterSubmit.call($t,data,postd);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(ret[0] === false) {\r\n\t\t\t\t\t\t\t\t\t$(\"#DelError>td\",\"#\"+dtbl).html(ret[1]);\r\n\t\t\t\t\t\t\t\t\t$(\"#DelError\",\"#\"+dtbl).show();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif(rp_ge[$t.p.id].reloadAfterSubmit && $t.p.datatype !== \"local\") {\r\n\t\t\t\t\t\t\t\t\t\t$($t).trigger(\"reloadGrid\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif($t.p.treeGrid===true){\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {$($t).jqGrid(\"delTreeNode\",$t.p.idPrefix+postdata[0]);} catch(e){}\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tfor(i=0;i<postdata.length;i++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"delRowData\",$t.p.idPrefix+ postdata[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t$t.p.selrow = null;\r\n\t\t\t\t\t\t\t\t\t\t$t.p.selarrrow = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif($.isFunction(rp_ge[$t.p.id].afterComplete)) {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){rp_ge[$t.p.id].afterComplete.call($t,data,postdata);},500);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trp_ge[$t.p.id].processing=false;\r\n\t\t\t\t\t\t\t\t$(\"#dData\", \"#\"+dtbl+\"_2\").removeClass('ui-state-active');\r\n\t\t\t\t\t\t\t\tif(ret[0]) {$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, $.jgrid.ajaxOptions, rp_ge[$t.p.id].ajaxDelOptions);\r\n\r\n\r\n\t\t\t\t\t\tif (!ajaxOptions.url && !rp_ge[$t.p.id].useDataProxy) {\r\n\t\t\t\t\t\t\tif ($.isFunction($t.p.dataProxy)) {\r\n\t\t\t\t\t\t\t\trp_ge[$t.p.id].useDataProxy = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tret[0]=false;ret[1] += \" \"+$.jgrid.errors.nourl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (ret[0]) {\r\n\t\t\t\t\t\t\tif (rp_ge[$t.p.id].useDataProxy) {\r\n\t\t\t\t\t\t\t\tvar dpret = $t.p.dataProxy.call($t, ajaxOptions, \"del_\"+$t.p.id);\r\n\t\t\t\t\t\t\t\tif(dpret === undefined) {\r\n\t\t\t\t\t\t\t\t\tdpret = [true, \"\"];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(dpret[0] === false ) {\r\n\t\t\t\t\t\t\t\t\tret[0] = false;\r\n\t\t\t\t\t\t\t\t\tret[1] = dpret[1] || \"Error deleting the selected row!\" ;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:p.jqModal, onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {$.ajax(ajaxOptions);}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(ret[0] === false) {\r\n\t\t\t\t\t\t$(\"#DelError>td\",\"#\"+dtbl).html(ret[1]);\r\n\t\t\t\t\t\t$(\"#DelError\",\"#\"+dtbl).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#eData\", \"#\"+dtbl+\"_2\").click(function(){\r\n\t\t\t\t\t$.jgrid.hideModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gb:\"#gbox_\"+$.jgrid.jqID(gID),jqm:rp_ge[$t.p.id].jqModal, onClose: rp_ge[$t.p.id].onClose});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\tif(onBeforeShow) {rp_ge[$t.p.id].beforeShowForm.call($t,$(\"#\"+dtbl));}\r\n\t\t\t\t$.jgrid.viewModal(\"#\"+$.jgrid.jqID(IDs.themodal),{gbox:\"#gbox_\"+$.jgrid.jqID(gID),jqm:rp_ge[$t.p.id].jqModal, overlay: rp_ge[$t.p.id].overlay, modal:rp_ge[$t.p.id].modal});\r\n\t\t\t\tif(onAfterShow) {rp_ge[$t.p.id].afterShowForm.call($t,$(\"#\"+dtbl));}\r\n\t\t\t}\r\n\t\t\tif(rp_ge[$t.p.id].closeOnEscape===true) {\r\n\t\t\t\tsetTimeout(function(){$(\".ui-jqdialog-titlebar-close\",\"#\"+$.jgrid.jqID(IDs.modalhead)).focus();},0);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tnavGrid : function (elem, o, pEdit,pAdd,pDel,pSearch, pView) {\r\n\t\to = $.extend({\r\n\t\t\tedit: true,\r\n\t\t\tediticon: \"ui-icon-pencil\",\r\n\t\t\tadd: true,\r\n\t\t\taddicon:\"ui-icon-plus\",\r\n\t\t\tdel: true,\r\n\t\t\tdelicon:\"ui-icon-trash\",\r\n\t\t\tsearch: true,\r\n\t\t\tsearchicon:\"ui-icon-search\",\r\n\t\t\trefresh: true,\r\n\t\t\trefreshicon:\"ui-icon-refresh\",\r\n\t\t\trefreshstate: 'firstpage',\r\n\t\t\tview: false,\r\n\t\t\tviewicon : \"ui-icon-document\",\r\n\t\t\tposition : \"left\",\r\n\t\t\tcloseOnEscape : true,\r\n\t\t\tbeforeRefresh : null,\r\n\t\t\tafterRefresh : null,\r\n\t\t\tcloneToTop : false,\r\n\t\t\talertwidth : 200,\r\n\t\t\talertheight : 'auto',\r\n\t\t\talerttop: null,\r\n\t\t\talertleft: null,\r\n\t\t\talertzIndex : null\r\n\t\t}, $.jgrid.nav, o ||{});\r\n\t\treturn this.each(function() {\r\n\t\t\tif(this.nav) {return;}\r\n\t\t\tvar alertIDs = {themodal: 'alertmod_' + this.p.id, modalhead: 'alerthd_' + this.p.id,modalcontent: 'alertcnt_' + this.p.id},\r\n\t\t\t$t = this, twd, tdw;\r\n\t\t\tif(!$t.grid || typeof elem !== 'string') {return;}\r\n\t\t\tif ($(\"#\"+alertIDs.themodal)[0] === undefined) {\r\n\t\t\t\tif(!o.alerttop && !o.alertleft) {\r\n\t\t\t\t\tif (window.innerWidth !== undefined) {\r\n\t\t\t\t\t\to.alertleft = window.innerWidth;\r\n\t\t\t\t\t\to.alerttop = window.innerHeight;\r\n\t\t\t\t\t} else if (document.documentElement !== undefined && document.documentElement.clientWidth !== undefined && document.documentElement.clientWidth !== 0) {\r\n\t\t\t\t\t\to.alertleft = document.documentElement.clientWidth;\r\n\t\t\t\t\t\to.alerttop = document.documentElement.clientHeight;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\to.alertleft=1024;\r\n\t\t\t\t\t\to.alerttop=768;\r\n\t\t\t\t\t}\r\n\t\t\t\t\to.alertleft = o.alertleft/2 - parseInt(o.alertwidth,10)/2;\r\n\t\t\t\t\to.alerttop = o.alerttop/2-25;\r\n\t\t\t\t}\r\n\t\t\t\t$.jgrid.createModal(alertIDs,\r\n\t\t\t\t\t\"<div>\"+o.alerttext+\"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgbox:\"#gbox_\"+$.jgrid.jqID($t.p.id),\r\n\t\t\t\t\t\tjqModal:true,\r\n\t\t\t\t\t\tdrag:true,\r\n\t\t\t\t\t\tresize:true,\r\n\t\t\t\t\t\tcaption:o.alertcap,\r\n\t\t\t\t\t\ttop:o.alerttop,\r\n\t\t\t\t\t\tleft:o.alertleft,\r\n\t\t\t\t\t\twidth:o.alertwidth,\r\n\t\t\t\t\t\theight: o.alertheight,\r\n\t\t\t\t\t\tcloseOnEscape:o.closeOnEscape,\r\n\t\t\t\t\t\tzIndex: o.alertzIndex\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"#gview_\"+$.jgrid.jqID($t.p.id),\r\n\t\t\t\t\t$(\"#gbox_\"+$.jgrid.jqID($t.p.id))[0],\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tvar clone = 1, i,\r\n\t\t\tonHoverIn = function () {\r\n\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t$(this).addClass(\"ui-state-hover\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonHoverOut = function () {\r\n\t\t\t\t$(this).removeClass(\"ui-state-hover\");\r\n\t\t\t};\r\n\t\t\tif(o.cloneToTop && $t.p.toppager) {clone = 2;}\r\n\t\t\tfor(i = 0; i<clone; i++) {\r\n\t\t\t\tvar tbd,\r\n\t\t\t\tnavtbl = $(\"<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>\"),\r\n\t\t\t\tsep = \"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>\",\r\n\t\t\t\tpgid, elemids;\r\n\t\t\t\tif(i===0) {\r\n\t\t\t\t\tpgid = elem;\r\n\t\t\t\t\telemids = $t.p.id;\r\n\t\t\t\t\tif(pgid === $t.p.toppager) {\r\n\t\t\t\t\t\telemids += \"_top\";\r\n\t\t\t\t\t\tclone = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpgid = $t.p.toppager;\r\n\t\t\t\t\telemids = $t.p.id+\"_top\";\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.direction === \"rtl\") {$(navtbl).attr(\"dir\",\"rtl\").css(\"float\",\"right\");}\r\n\t\t\t\tif (o.add) {\r\n\t\t\t\t\tpAdd = pAdd || {};\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.addicon+\"'></span>\"+o.addtext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.addtitle || \"\",id : pAdd.id || \"add_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tif ($.isFunction( o.addfunc )) {\r\n\t\t\t\t\t\t\t\to.addfunc.call($t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"editGridRow\",\"new\",pAdd);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (o.edit) {\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\tpEdit = pEdit || {};\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.editicon+\"'></span>\"+o.edittext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.edittitle || \"\",id: pEdit.id || \"edit_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tvar sr = $t.p.selrow;\r\n\t\t\t\t\t\t\tif (sr) {\r\n\t\t\t\t\t\t\t\tif($.isFunction( o.editfunc ) ) {\r\n\t\t\t\t\t\t\t\t\to.editfunc.call($t, sr);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"editGridRow\",sr,pEdit);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$.jgrid.viewModal(\"#\"+alertIDs.themodal,{gbox:\"#gbox_\"+$.jgrid.jqID($t.p.id),jqm:true});\r\n\t\t\t\t\t\t\t\t$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (o.view) {\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\tpView = pView || {};\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.viewicon+\"'></span>\"+o.viewtext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.viewtitle || \"\",id: pView.id || \"view_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tvar sr = $t.p.selrow;\r\n\t\t\t\t\t\t\tif (sr) {\r\n\t\t\t\t\t\t\t\tif($.isFunction( o.viewfunc ) ) {\r\n\t\t\t\t\t\t\t\t\to.viewfunc.call($t, sr);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"viewGridRow\",sr,pView);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$.jgrid.viewModal(\"#\"+alertIDs.themodal,{gbox:\"#gbox_\"+$.jgrid.jqID($t.p.id),jqm:true});\r\n\t\t\t\t\t\t\t\t$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (o.del) {\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\tpDel = pDel || {};\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.delicon+\"'></span>\"+o.deltext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.deltitle || \"\",id: pDel.id || \"del_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tvar dr;\r\n\t\t\t\t\t\t\tif($t.p.multiselect) {\r\n\t\t\t\t\t\t\t\tdr = $t.p.selarrrow;\r\n\t\t\t\t\t\t\t\tif(dr.length===0) {dr = null;}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdr = $t.p.selrow;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(dr){\r\n\t\t\t\t\t\t\t\tif($.isFunction( o.delfunc )){\r\n\t\t\t\t\t\t\t\t\to.delfunc.call($t, dr);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"delGridRow\",dr,pDel);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else  {\r\n\t\t\t\t\t\t\t\t$.jgrid.viewModal(\"#\"+alertIDs.themodal,{gbox:\"#gbox_\"+$.jgrid.jqID($t.p.id),jqm:true});$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\tif(o.add || o.edit || o.del || o.view) {$(\"tr\",navtbl).append(sep);}\r\n\t\t\t\tif (o.search) {\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\tpSearch = pSearch || {};\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.searchicon+\"'></span>\"+o.searchtext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.searchtitle  || \"\",id:pSearch.id || \"search_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tif($.isFunction( o.searchfunc )) {\r\n\t\t\t\t\t\t\t\to.searchfunc.call($t, pSearch);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"searchGrid\",pSearch);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\tif (pSearch.showOnLoad && pSearch.showOnLoad === true) {\r\n\t\t\t\t\t\t$(tbd,navtbl).click();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (o.refresh) {\r\n\t\t\t\t\ttbd = $(\"<td class='ui-pg-button ui-corner-all'></td>\");\r\n\t\t\t\t\t$(tbd).append(\"<div class='ui-pg-div'><span class='ui-icon \"+o.refreshicon+\"'></span>\"+o.refreshtext+\"</div>\");\r\n\t\t\t\t\t$(\"tr\",navtbl).append(tbd);\r\n\t\t\t\t\t$(tbd,navtbl)\r\n\t\t\t\t\t.attr({\"title\":o.refreshtitle  || \"\",id: \"refresh_\"+elemids})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\tif($.isFunction(o.beforeRefresh)) {o.beforeRefresh.call($t);}\r\n\t\t\t\t\t\t\t$t.p.search = false;\r\n\t\t\t\t\t\t\t$t.p.resetsearch =  true;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tvar gID = $t.p.id;\r\n\t\t\t\t\t\t\t\t$t.p.postData.filters =\"\";\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t$(\"#fbox_\"+$.jgrid.jqID(gID)).jqFilter('resetFilter');\r\n\t\t\t\t\t\t\t\t} catch(ef) {}\r\n\t\t\t\t\t\t\t\tif($.isFunction($t.clearToolbar)) {$t.clearToolbar.call($t,false);}\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\tswitch (o.refreshstate) {\r\n\t\t\t\t\t\t\t\tcase 'firstpage':\r\n\t\t\t\t\t\t\t\t\t$($t).trigger(\"reloadGrid\", [{page:1}]);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'current':\r\n\t\t\t\t\t\t\t\t\t$($t).trigger(\"reloadGrid\", [{current:true}]);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif($.isFunction(o.afterRefresh)) {o.afterRefresh.call($t);}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}).hover(onHoverIn, onHoverOut);\r\n\t\t\t\t\ttbd = null;\r\n\t\t\t\t}\r\n\t\t\t\ttdw = $(\".ui-jqgrid\").css(\"font-size\") || \"11px\";\r\n\t\t\t\t$('body').append(\"<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:\"+tdw+\";visibility:hidden;' ></div>\");\r\n\t\t\t\ttwd = $(navtbl).clone().appendTo(\"#testpg2\").width();\r\n\t\t\t\t$(\"#testpg2\").remove();\r\n\t\t\t\t$(pgid+\"_\"+o.position,pgid).append(navtbl);\r\n\t\t\t\tif($t.p._nvtd) {\r\n\t\t\t\t\tif(twd > $t.p._nvtd[0] ) {\r\n\t\t\t\t\t\t$(pgid+\"_\"+o.position,pgid).width(twd);\r\n\t\t\t\t\t\t$t.p._nvtd[0] = twd;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$t.p._nvtd[1] = twd;\r\n\t\t\t\t}\r\n\t\t\t\ttdw =null;twd=null;navtbl =null;\r\n\t\t\t\tthis.nav = true;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tnavButtonAdd : function (elem, p) {\r\n\t\tp = $.extend({\r\n\t\t\tcaption : \"newButton\",\r\n\t\t\ttitle: '',\r\n\t\t\tbuttonicon : 'ui-icon-newwin',\r\n\t\t\tonClickButton: null,\r\n\t\t\tposition : \"last\",\r\n\t\t\tcursor : 'pointer'\r\n\t\t}, p ||{});\r\n\t\treturn this.each(function() {\r\n\t\t\tif( !this.grid)  {return;}\r\n\t\t\tif( typeof elem === \"string\" && elem.indexOf(\"#\") !== 0) {elem = \"#\"+$.jgrid.jqID(elem);}\r\n\t\t\tvar findnav = $(\".navtable\",elem)[0], $t = this;\r\n\t\t\tif (findnav) {\r\n\t\t\t\tif( p.id && $(\"#\"+$.jgrid.jqID(p.id), findnav)[0] !== undefined )  {return;}\r\n\t\t\t\tvar tbd = $(\"<td></td>\");\r\n\t\t\t\tif(p.buttonicon.toString().toUpperCase() === \"NONE\") {\r\n                    $(tbd).addClass('ui-pg-button ui-corner-all').append(\"<div class='ui-pg-div'>\"+p.caption+\"</div>\");\r\n\t\t\t\t} else\t{\r\n\t\t\t\t\t$(tbd).addClass('ui-pg-button ui-corner-all').append(\"<div class='ui-pg-div'><span class='ui-icon \"+p.buttonicon+\"'></span>\"+p.caption+\"</div>\");\r\n\t\t\t\t}\r\n\t\t\t\tif(p.id) {$(tbd).attr(\"id\",p.id);}\r\n\t\t\t\tif(p.position==='first'){\r\n\t\t\t\t\tif(findnav.rows[0].cells.length ===0 ) {\r\n\t\t\t\t\t\t$(\"tr\",findnav).append(tbd);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"tr td:eq(0)\",findnav).before(tbd);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"tr\",findnav).append(tbd);\r\n\t\t\t\t}\r\n\t\t\t\t$(tbd,findnav)\r\n\t\t\t\t.attr(\"title\",p.title  || \"\")\r\n\t\t\t\t.click(function(e){\r\n\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\tif ($.isFunction(p.onClickButton) ) {p.onClickButton.call($t,e);}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t})\r\n\t\t\t\t.hover(\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tif (!$(this).hasClass('ui-state-disabled')) {\r\n\t\t\t\t\t\t\t$(this).addClass('ui-state-hover');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction () {$(this).removeClass(\"ui-state-hover\");}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tnavSeparatorAdd:function (elem,p) {\r\n\t\tp = $.extend({\r\n\t\t\tsepclass : \"ui-separator\",\r\n\t\t\tsepcontent: '',\r\n\t\t\tposition : \"last\"\r\n\t\t}, p ||{});\r\n\t\treturn this.each(function() {\r\n\t\t\tif( !this.grid)  {return;}\r\n\t\t\tif( typeof elem === \"string\" && elem.indexOf(\"#\") !== 0) {elem = \"#\"+$.jgrid.jqID(elem);}\r\n\t\t\tvar findnav = $(\".navtable\",elem)[0];\r\n\t\t\tif(findnav) {\r\n\t\t\t\tvar sep = \"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='\"+p.sepclass+\"'></span>\"+p.sepcontent+\"</td>\";\r\n\t\t\t\tif (p.position === 'first') {\r\n\t\t\t\t\tif (findnav.rows[0].cells.length === 0) {\r\n\t\t\t\t\t\t$(\"tr\", findnav).append(sep);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\"tr td:eq(0)\", findnav).before(sep);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"tr\", findnav).append(sep);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tGridToForm : function( rowid, formid ) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, i;\r\n\t\t\tif (!$t.grid) {return;}\r\n\t\t\tvar rowdata = $($t).jqGrid(\"getRowData\",rowid);\r\n\t\t\tif (rowdata) {\r\n\t\t\t\tfor(i in rowdata) {\r\n\t\t\t\t\tif(rowdata.hasOwnProperty(i)) {\r\n\t\t\t\t\tif ( $(\"[name=\"+$.jgrid.jqID(i)+\"]\",formid).is(\"input:radio\") || $(\"[name=\"+$.jgrid.jqID(i)+\"]\",formid).is(\"input:checkbox\"))  {\r\n\t\t\t\t\t\t$(\"[name=\"+$.jgrid.jqID(i)+\"]\",formid).each( function() {\r\n\t\t\t\t\t\t\tif( $(this).val() == rowdata[i] ) {\r\n\t\t\t\t\t\t\t\t$(this)[$t.p.useProp ? 'prop': 'attr'](\"checked\",true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(this)[$t.p.useProp ? 'prop': 'attr'](\"checked\", false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t// this is very slow on big table and form.\r\n\t\t\t\t\t\t$(\"[name=\"+$.jgrid.jqID(i)+\"]\",formid).val(rowdata[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tFormToGrid : function(rowid, formid, mode, position){\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid) {return;}\r\n\t\t\tif(!mode) {mode = 'set';}\r\n\t\t\tif(!position) {position = 'first';}\r\n\t\t\tvar fields = $(formid).serializeArray();\r\n\t\t\tvar griddata = {};\r\n\t\t\t$.each(fields, function(i, field){\r\n\t\t\t\tgriddata[field.name] = field.value;\r\n\t\t\t});\r\n\t\t\tif(mode==='add') {$($t).jqGrid(\"addRowData\",rowid,griddata, position);}\r\n\t\t\telse if(mode==='set') {$($t).jqGrid(\"setRowData\",rowid,griddata);}\r\n\t\t});\r\n\t}\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false, eqnull:true, devel:true */\r\n/*global jQuery */\r\n(function($){\r\n/**\r\n * jqGrid extension for manipulating Grid Data\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n\"use strict\";\r\n$.jgrid.inlineEdit = $.jgrid.inlineEdit || {};\r\n$.jgrid.extend({\r\n//Editing\r\n\teditRow : function(rowid,keys,oneditfunc,successfunc, url, extraparam, aftersavefunc,errorfunc, afterrestorefunc) {\r\n\t\t// Compatible mode old versions\r\n\t\tvar o={}, args = $.makeArray(arguments).slice(1);\r\n\r\n\t\tif( $.type(args[0]) === \"object\" ) {\r\n\t\t\to = args[0];\r\n\t\t} else {\r\n\t\t\tif (keys !== undefined) { o.keys = keys; }\r\n\t\t\tif ($.isFunction(oneditfunc)) { o.oneditfunc = oneditfunc; }\r\n\t\t\tif ($.isFunction(successfunc)) { o.successfunc = successfunc; }\r\n\t\t\tif (url !== undefined) { o.url = url; }\r\n\t\t\tif (extraparam !== undefined) { o.extraparam = extraparam; }\r\n\t\t\tif ($.isFunction(aftersavefunc)) { o.aftersavefunc = aftersavefunc; }\r\n\t\t\tif ($.isFunction(errorfunc)) { o.errorfunc = errorfunc; }\r\n\t\t\tif ($.isFunction(afterrestorefunc)) { o.afterrestorefunc = afterrestorefunc; }\r\n\t\t\t// last two not as param, but as object (sorry)\r\n\t\t\t//if (restoreAfterError !== undefined) { o.restoreAfterError = restoreAfterError; }\r\n\t\t\t//if (mtype !== undefined) { o.mtype = mtype || \"POST\"; }\r\n\t\t}\r\n\t\to = $.extend(true, {\r\n\t\t\tkeys : false,\r\n\t\t\toneditfunc: null,\r\n\t\t\tsuccessfunc: null,\r\n\t\t\turl: null,\r\n\t\t\textraparam: {},\r\n\t\t\taftersavefunc: null,\r\n\t\t\terrorfunc: null,\r\n\t\t\tafterrestorefunc: null,\r\n\t\t\trestoreAfterError: true,\r\n\t\t\tmtype: \"POST\"\r\n\t\t}, $.jgrid.inlineEdit, o );\r\n\r\n\t\t// End compatible\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, nm, tmp, editable, cnt=0, focus=null, svr={}, ind,cm, bfer;\r\n\t\t\tif (!$t.grid ) { return; }\r\n\t\t\tind = $($t).jqGrid(\"getInd\",rowid,true);\r\n\t\t\tif( ind === false ) {return;}\r\n\t\t\tbfer = $.isFunction( o.beforeEditRow ) ? o.beforeEditRow.call($t,o, rowid) :  undefined;\r\n\t\t\tif( bfer === undefined ) {\r\n\t\t\t\tbfer = true;\r\n\t\t\t}\r\n\t\t\tif(!bfer) { return; }\r\n\t\t\teditable = $(ind).attr(\"editable\") || \"0\";\r\n\t\t\tif (editable === \"0\" && !$(ind).hasClass(\"not-editable-row\")) {\r\n\t\t\t\tcm = $t.p.colModel;\r\n\t\t\t\t$('td[role=\"gridcell\"]',ind).each( function(i) {\r\n\t\t\t\t\tnm = cm[i].name;\r\n\t\t\t\t\tvar treeg = $t.p.treeGrid===true && nm === $t.p.ExpandColumn;\r\n\t\t\t\t\tif(treeg) { tmp = $(\"span:first\",this).html();}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\ttmp = $.unformat.call($t,this,{rowId:rowid, colModel:cm[i]},i);\r\n\t\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\t\ttmp =  ( cm[i].edittype && cm[i].edittype === 'textarea' ) ? $(this).text() : $(this).html();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && nm !== 'rn') {\r\n\t\t\t\t\t\tif($t.p.autoencode) { tmp = $.jgrid.htmlDecode(tmp); }\r\n\t\t\t\t\t\tsvr[nm]=tmp;\r\n\t\t\t\t\t\tif(cm[i].editable===true) {\r\n\t\t\t\t\t\t\tif(focus===null) { focus = i; }\r\n\t\t\t\t\t\t\tif (treeg) { $(\"span:first\",this).html(\"\"); }\r\n\t\t\t\t\t\t\telse { $(this).html(\"\"); }\r\n\t\t\t\t\t\t\tvar opt = $.extend({},cm[i].editoptions || {},{id:rowid+\"_\"+nm,name:nm});\r\n\t\t\t\t\t\t\tif(!cm[i].edittype) { cm[i].edittype = \"text\"; }\r\n\t\t\t\t\t\t\tif(tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length===1 && tmp.charCodeAt(0)===160) ) {tmp='';}\r\n\t\t\t\t\t\t\tvar elc = $.jgrid.createEl.call($t,cm[i].edittype,opt,tmp,true,$.extend({},$.jgrid.ajaxOptions,$t.p.ajaxSelectOptions || {}));\r\n\t\t\t\t\t\t\t$(elc).addClass(\"editable\");\r\n\t\t\t\t\t\t\tif(treeg) { $(\"span:first\",this).append(elc); }\r\n\t\t\t\t\t\t\telse { $(this).append(elc); }\r\n\t\t\t\t\t\t\t$.jgrid.bindEv.call($t, elc, opt);\r\n\t\t\t\t\t\t\t//Again IE\r\n\t\t\t\t\t\t\tif(cm[i].edittype === \"select\" && cm[i].editoptions!==undefined && cm[i].editoptions.multiple===true  && cm[i].editoptions.dataUrl===undefined && $.jgrid.msie) {\r\n\t\t\t\t\t\t\t\t$(elc).width($(elc).width());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(cnt > 0) {\r\n\t\t\t\t\tsvr.id = rowid; $t.p.savedRow.push(svr);\r\n\t\t\t\t\t$(ind).attr(\"editable\",\"1\");\r\n\t\t\t\t\tsetTimeout(function(){$(\"td:eq(\"+focus+\") input\",ind).focus();},0);\r\n\t\t\t\t\tif(o.keys===true) {\r\n\t\t\t\t\t\t$(ind).bind(\"keydown\",function(e) {\r\n\t\t\t\t\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreRow\",rowid, o.afterrestorefunc);\r\n\t\t\t\t\t\t\t\tif($t.p._inlinenav) {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t\t\t\t\t} catch (eer1) {}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (e.keyCode === 13) {\r\n\t\t\t\t\t\t\t\tvar ta = e.target;\r\n\t\t\t\t\t\t\t\tif(ta.tagName === 'TEXTAREA') { return true; }\r\n\t\t\t\t\t\t\t\tif( $($t).jqGrid(\"saveRow\", rowid, o ) ) {\r\n\t\t\t\t\t\t\t\t\tif($t.p._inlinenav) {\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t\t\t\t\t\t} catch (eer2) {}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$($t).triggerHandler(\"jqGridInlineEditRow\", [rowid, o]);\r\n\t\t\t\t\tif( $.isFunction(o.oneditfunc)) { o.oneditfunc.call($t, rowid); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsaveRow : function(rowid, successfunc, url, extraparam, aftersavefunc,errorfunc, afterrestorefunc) {\r\n\t\t// Compatible mode old versions\r\n\t\tvar args = $.makeArray(arguments).slice(1), o = {};\r\n\r\n\t\tif( $.type(args[0]) === \"object\" ) {\r\n\t\t\to = args[0];\r\n\t\t} else {\r\n\t\t\tif ($.isFunction(successfunc)) { o.successfunc = successfunc; }\r\n\t\t\tif (url !== undefined) { o.url = url; }\r\n\t\t\tif (extraparam !== undefined) { o.extraparam = extraparam; }\r\n\t\t\tif ($.isFunction(aftersavefunc)) { o.aftersavefunc = aftersavefunc; }\r\n\t\t\tif ($.isFunction(errorfunc)) { o.errorfunc = errorfunc; }\r\n\t\t\tif ($.isFunction(afterrestorefunc)) { o.afterrestorefunc = afterrestorefunc; }\r\n\t\t}\r\n\t\to = $.extend(true, {\r\n\t\t\tsuccessfunc: null,\r\n\t\t\turl: null,\r\n\t\t\textraparam: {},\r\n\t\t\taftersavefunc: null,\r\n\t\t\terrorfunc: null,\r\n\t\t\tafterrestorefunc: null,\r\n\t\t\trestoreAfterError: true,\r\n\t\t\tmtype: \"POST\"\r\n\t\t}, $.jgrid.inlineEdit, o );\r\n\t\t// End compatible\r\n\r\n\t\tvar success = false;\r\n\t\tvar $t = this[0], nm, tmp={}, tmp2={}, tmp3= {}, editable, fr, cv, ind;\r\n\t\tif (!$t.grid ) { return success; }\r\n\t\tind = $($t).jqGrid(\"getInd\",rowid,true);\r\n\t\tif(ind === false) {return success;}\r\n\t\tvar bfsr = $.isFunction( o.beforeSaveRow ) ?\to.beforeSaveRow.call($t,o, rowid) :  undefined;\r\n\t\tif( bfsr === undefined ) {\r\n\t\t\tbfsr = true;\r\n\t\t}\r\n\t\tif(!bfsr) { return; }\r\n\t\teditable = $(ind).attr(\"editable\");\r\n\t\to.url = o.url || $t.p.editurl;\r\n\t\tif (editable===\"1\") {\r\n\t\t\tvar cm;\r\n\t\t\t$('td[role=\"gridcell\"]',ind).each(function(i) {\r\n\t\t\t\tcm = $t.p.colModel[i];\r\n\t\t\t\tnm = cm.name;\r\n\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid' && cm.editable===true && nm !== 'rn' && !$(this).hasClass('not-editable-cell')) {\r\n\t\t\t\t\tswitch (cm.edittype) {\r\n\t\t\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\t\t\tvar cbv = [\"Yes\",\"No\"];\r\n\t\t\t\t\t\t\tif(cm.editoptions ) {\r\n\t\t\t\t\t\t\t\tcbv = cm.editoptions.value.split(\":\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttmp[nm]=  $(\"input\",this).is(\":checked\") ? cbv[0] : cbv[1];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\tcase 'password':\r\n\t\t\t\t\t\tcase 'textarea':\r\n\t\t\t\t\t\tcase \"button\" :\r\n\t\t\t\t\t\t\ttmp[nm]=$(\"input, textarea\",this).val();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'select':\r\n\t\t\t\t\t\t\tif(!cm.editoptions.multiple) {\r\n\t\t\t\t\t\t\t\ttmp[nm] = $(\"select option:selected\",this).val();\r\n\t\t\t\t\t\t\t\ttmp2[nm] = $(\"select option:selected\", this).text();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar sel = $(\"select\",this), selectedText = [];\r\n\t\t\t\t\t\t\t\ttmp[nm] = $(sel).val();\r\n\t\t\t\t\t\t\t\tif(tmp[nm]) { tmp[nm]= tmp[nm].join(\",\"); } else { tmp[nm] =\"\"; }\r\n\t\t\t\t\t\t\t\t$(\"select option:selected\",this).each(\r\n\t\t\t\t\t\t\t\t\tfunction(i,selected){\r\n\t\t\t\t\t\t\t\t\t\tselectedText[i] = $(selected).text();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\ttmp2[nm] = selectedText.join(\",\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(cm.formatter && cm.formatter === 'select') { tmp2={}; }\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'custom' :\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif(cm.editoptions && $.isFunction(cm.editoptions.custom_value)) {\r\n\t\t\t\t\t\t\t\t\ttmp[nm] = cm.editoptions.custom_value.call($t, $(\".customelement\",this),'get');\r\n\t\t\t\t\t\t\t\t\tif (tmp[nm] === undefined) { throw \"e2\"; }\r\n\t\t\t\t\t\t\t\t} else { throw \"e1\"; }\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tif (e===\"e1\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t\t\tif (e===\"e2\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t\t\telse { $.jgrid.info_dialog($.jgrid.errors.errcap,e.message,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcv = $.jgrid.checkValues.call($t,tmp[nm],i);\r\n\t\t\t\t\tif(cv[0] === false) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($t.p.autoencode) { tmp[nm] = $.jgrid.htmlEncode(tmp[nm]); }\r\n\t\t\t\t\tif(o.url !== 'clientArray' && cm.editoptions && cm.editoptions.NullIfEmpty === true) {\r\n\t\t\t\t\t\tif(tmp[nm] === \"\") {\r\n\t\t\t\t\t\t\ttmp3[nm] = 'null';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (cv[0] === false){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar tr = $($t).jqGrid('getGridRowById', rowid), positions = $.jgrid.findPos(tr);\r\n\t\t\t\t\t$.jgrid.info_dialog($.jgrid.errors.errcap,cv[1],$.jgrid.edit.bClose,{left:positions[0],top:positions[1]+$(tr).outerHeight()});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\talert(cv[1]);\r\n\t\t\t\t}\r\n\t\t\t\treturn success;\r\n\t\t\t}\r\n\t\t\tvar idname, opers = $t.p.prmNames, oldRowId = rowid;\r\n\t\t\tif ($t.p.keyIndex === false) {\r\n\t\t\t\tidname = opers.id;\r\n\t\t\t} else {\r\n\t\t\t\tidname = $t.p.colModel[$t.p.keyIndex +\r\n\t\t\t\t\t($t.p.rownumbers === true ? 1 : 0) +\r\n\t\t\t\t\t($t.p.multiselect === true ? 1 : 0) +\r\n\t\t\t\t\t($t.p.subGrid === true ? 1 : 0)].name;\r\n\t\t\t}\r\n\t\t\tif(tmp) {\r\n\t\t\t\ttmp[opers.oper] = opers.editoper;\r\n\t\t\t\tif (tmp[idname] === undefined || tmp[idname]===\"\") {\r\n\t\t\t\t\ttmp[idname] = rowid;\r\n\t\t\t\t} else if (ind.id !== $t.p.idPrefix + tmp[idname]) {\r\n\t\t\t\t\t// rename rowid\r\n\t\t\t\t\tvar oldid = $.jgrid.stripPref($t.p.idPrefix, rowid);\r\n\t\t\t\t\tif ($t.p._index[oldid] !== undefined) {\r\n\t\t\t\t\t\t$t.p._index[tmp[idname]] = $t.p._index[oldid];\r\n\t\t\t\t\t\tdelete $t.p._index[oldid];\r\n\t\t\t\t\t}\r\n\t\t\t\t\trowid = $t.p.idPrefix + tmp[idname];\r\n\t\t\t\t\t$(ind).attr(\"id\", rowid);\r\n\t\t\t\t\tif ($t.p.selrow === oldRowId) {\r\n\t\t\t\t\t\t$t.p.selrow = rowid;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($.isArray($t.p.selarrrow)) {\r\n\t\t\t\t\t\tvar i = $.inArray(oldRowId, $t.p.selarrrow);\r\n\t\t\t\t\t\tif (i>=0) {\r\n\t\t\t\t\t\t\t$t.p.selarrrow[i] = rowid;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($t.p.multiselect) {\r\n\t\t\t\t\t\tvar newCboxId = \"jqg_\" + $t.p.id + \"_\" + rowid;\r\n\t\t\t\t\t\t$(\"input.cbox\",ind)\r\n\t\t\t\t\t\t\t.attr(\"id\", newCboxId)\r\n\t\t\t\t\t\t\t.attr(\"name\", newCboxId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// TODO: to test the case of frozen columns\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.inlineData === undefined) { $t.p.inlineData ={}; }\r\n\t\t\t\ttmp = $.extend({},tmp,$t.p.inlineData,o.extraparam);\r\n\t\t\t}\r\n\t\t\tif (o.url === 'clientArray') {\r\n\t\t\t\ttmp = $.extend({},tmp, tmp2);\r\n\t\t\t\tif($t.p.autoencode) {\r\n\t\t\t\t\t$.each(tmp,function(n,v){\r\n\t\t\t\t\t\ttmp[n] = $.jgrid.htmlDecode(v);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tvar k, resp = $($t).jqGrid(\"setRowData\",rowid,tmp);\r\n\t\t\t\t$(ind).attr(\"editable\",\"0\");\r\n\t\t\t\tfor(k=0;k<$t.p.savedRow.length;k++) {\r\n\t\t\t\t\tif( String($t.p.savedRow[k].id) === String(oldRowId)) {fr = k; break;}\r\n\t\t\t\t}\r\n\t\t\t\tif(fr >= 0) { $t.p.savedRow.splice(fr,1); }\r\n\t\t\t\t$($t).triggerHandler(\"jqGridInlineAfterSaveRow\", [rowid, resp, tmp, o]);\r\n\t\t\t\tif( $.isFunction(o.aftersavefunc) ) { o.aftersavefunc.call($t, rowid,resp, o); }\r\n\t\t\t\tsuccess = true;\r\n\t\t\t\t$(ind).removeClass(\"jqgrid-new-row\").unbind(\"keydown\");\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#lui_\"+$.jgrid.jqID($t.p.id)).show();\r\n\t\t\t\ttmp3 = $.extend({},tmp,tmp3);\r\n\t\t\t\ttmp3[idname] = $.jgrid.stripPref($t.p.idPrefix, tmp3[idname]);\r\n\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\turl:o.url,\r\n\t\t\t\t\tdata: $.isFunction($t.p.serializeRowData) ? $t.p.serializeRowData.call($t, tmp3) : tmp3,\r\n\t\t\t\t\ttype: o.mtype,\r\n\t\t\t\t\tasync : false, //?!?\r\n\t\t\t\t\tcomplete: function(res,stat){\r\n\t\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID($t.p.id)).hide();\r\n\t\t\t\t\t\tif (stat === \"success\"){\r\n\t\t\t\t\t\t\tvar ret = true, sucret, k;\r\n\t\t\t\t\t\t\tsucret = $($t).triggerHandler(\"jqGridInlineSuccessSaveRow\", [res, rowid, o]);\r\n\t\t\t\t\t\t\tif (!$.isArray(sucret)) {sucret = [true, tmp];}\r\n\t\t\t\t\t\t\tif (sucret[0] && $.isFunction(o.successfunc)) {sucret = o.successfunc.call($t, res);}\r\n\t\t\t\t\t\t\tif($.isArray(sucret)) {\r\n\t\t\t\t\t\t\t\t// expect array - status, data, rowid\r\n\t\t\t\t\t\t\t\tret = sucret[0];\r\n\t\t\t\t\t\t\t\ttmp = sucret[1] || tmp;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tret = sucret;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (ret===true) {\r\n\t\t\t\t\t\t\t\tif($t.p.autoencode) {\r\n\t\t\t\t\t\t\t\t\t$.each(tmp,function(n,v){\r\n\t\t\t\t\t\t\t\t\t\ttmp[n] = $.jgrid.htmlDecode(v);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttmp = $.extend({},tmp, tmp2);\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"setRowData\",rowid,tmp);\r\n\t\t\t\t\t\t\t\t$(ind).attr(\"editable\",\"0\");\r\n\t\t\t\t\t\t\t\tfor(k=0;k<$t.p.savedRow.length;k++) {\r\n\t\t\t\t\t\t\t\t\tif( String($t.p.savedRow[k].id) === String(rowid)) {fr = k; break;}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(fr >= 0) { $t.p.savedRow.splice(fr,1); }\r\n\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridInlineAfterSaveRow\", [rowid, res, tmp, o]);\r\n\t\t\t\t\t\t\t\tif( $.isFunction(o.aftersavefunc) ) { o.aftersavefunc.call($t, rowid,res); }\r\n\t\t\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t\t\t\t$(ind).removeClass(\"jqgrid-new-row\").unbind(\"keydown\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridInlineErrorSaveRow\", [rowid, res, stat, null, o]);\r\n\t\t\t\t\t\t\t\tif($.isFunction(o.errorfunc) ) {\r\n\t\t\t\t\t\t\t\t\to.errorfunc.call($t, rowid, res, stat, null);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(o.restoreAfterError === true) {\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreRow\",rowid, o.afterrestorefunc);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror:function(res,stat,err){\r\n\t\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID($t.p.id)).hide();\r\n\t\t\t\t\t\t$($t).triggerHandler(\"jqGridInlineErrorSaveRow\", [rowid, res, stat, err, o]);\r\n\t\t\t\t\t\tif($.isFunction(o.errorfunc) ) {\r\n\t\t\t\t\t\t\to.errorfunc.call($t, rowid, res, stat, err);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar rT = res.responseText || res.statusText;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t$.jgrid.info_dialog($.jgrid.errors.errcap,'<div class=\"ui-state-error\">'+ rT +'</div>', $.jgrid.edit.bClose,{buttonalign:'right'});\r\n\t\t\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\t\t\talert(rT);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(o.restoreAfterError === true) {\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"restoreRow\",rowid, o.afterrestorefunc);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, $.jgrid.ajaxOptions, $t.p.ajaxRowOptions || {}));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn success;\r\n\t},\r\n\trestoreRow : function(rowid, afterrestorefunc) {\r\n\t\t// Compatible mode old versions\r\n\t\tvar args = $.makeArray(arguments).slice(1), o={};\r\n\r\n\t\tif( $.type(args[0]) === \"object\" ) {\r\n\t\t\to = args[0];\r\n\t\t} else {\r\n\t\t\tif ($.isFunction(afterrestorefunc)) { o.afterrestorefunc = afterrestorefunc; }\r\n\t\t}\r\n\t\to = $.extend(true, {}, $.jgrid.inlineEdit, o );\r\n\r\n\t\t// End compatible\r\n\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t= this, fr=-1, ind, ares={}, k;\r\n\t\t\tif (!$t.grid ) { return; }\r\n\t\t\tind = $($t).jqGrid(\"getInd\",rowid,true);\r\n\t\t\tif(ind === false) {return;}\r\n\t\t\tvar bfcr = $.isFunction( o.beforeCancelRow ) ?\to.beforeCancelRow.call($t, o, sr) :  undefined;\r\n\t\t\tif( bfcr === undefined ) {\r\n\t\t\t\tbfcr = true;\r\n\t\t\t}\r\n\t\t\tif(!bfcr) { return; }\r\n\t\t\tfor(k=0;k<$t.p.savedRow.length;k++) {\r\n\t\t\t\tif( String($t.p.savedRow[k].id) === String(rowid)) {fr = k; break;}\r\n\t\t\t}\r\n\t\t\tif(fr >= 0) {\r\n\t\t\t\tif($.isFunction($.fn.datepicker)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t$(\"input.hasDatepicker\",\"#\"+$.jgrid.jqID(ind.id)).datepicker('hide');\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\t\t\t\t$.each($t.p.colModel, function(){\r\n\t\t\t\t\tif(this.editable === true && $t.p.savedRow[fr].hasOwnProperty(this.name)) {\r\n\t\t\t\t\t\tares[this.name] = $t.p.savedRow[fr][this.name];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$($t).jqGrid(\"setRowData\",rowid,ares);\r\n\t\t\t\t$(ind).attr(\"editable\",\"0\").unbind(\"keydown\");\r\n\t\t\t\t$t.p.savedRow.splice(fr,1);\r\n\t\t\t\tif($(\"#\"+$.jgrid.jqID(rowid), \"#\"+$.jgrid.jqID($t.p.id)).hasClass(\"jqgrid-new-row\")){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t$($t).jqGrid(\"delRowData\",rowid);\r\n\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t},0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$($t).triggerHandler(\"jqGridInlineAfterRestoreRow\", [rowid]);\r\n\t\t\tif ($.isFunction(o.afterrestorefunc))\r\n\t\t\t{\r\n\t\t\t\to.afterrestorefunc.call($t, rowid);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\taddRow : function ( p ) {\r\n\t\tp = $.extend(true, {\r\n\t\t\trowID : null,\r\n\t\t\tinitdata : {},\r\n\t\t\tposition :\"first\",\r\n\t\t\tuseDefValues : true,\r\n\t\t\tuseFormatter : false,\r\n\t\t\taddRowParams : {extraparam:{}}\r\n\t\t},p  || {});\r\n\t\treturn this.each(function(){\r\n\t\t\tif (!this.grid ) { return; }\r\n\t\t\tvar $t = this;\r\n\t\t\tvar bfar = $.isFunction( p.beforeAddRow ) ?\tp.beforeAddRow.call($t,p.addRowParams) :  undefined;\r\n\t\t\tif( bfar === undefined ) {\r\n\t\t\t\tbfar = true;\r\n\t\t\t}\r\n\t\t\tif(!bfar) { return; }\r\n\t\t\tp.rowID = $.isFunction(p.rowID) ? p.rowID.call($t, p) : ( (p.rowID != null) ? p.rowID : $.jgrid.randId());\r\n\t\t\tif(p.useDefValues === true) {\r\n\t\t\t\t$($t.p.colModel).each(function(){\r\n\t\t\t\t\tif( this.editoptions && this.editoptions.defaultValue ) {\r\n\t\t\t\t\t\tvar opt = this.editoptions.defaultValue,\r\n\t\t\t\t\t\ttmp = $.isFunction(opt) ? opt.call($t) : opt;\r\n\t\t\t\t\t\tp.initdata[this.name] = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t$($t).jqGrid('addRowData', p.rowID, p.initdata, p.position);\r\n\t\t\tp.rowID = $t.p.idPrefix + p.rowID;\r\n\t\t\t$(\"#\"+$.jgrid.jqID(p.rowID), \"#\"+$.jgrid.jqID($t.p.id)).addClass(\"jqgrid-new-row\");\r\n\t\t\tif(p.useFormatter) {\r\n\t\t\t\t$(\"#\"+$.jgrid.jqID(p.rowID)+\" .ui-inline-edit\", \"#\"+$.jgrid.jqID($t.p.id)).click();\r\n\t\t\t} else {\r\n\t\t\t\tvar opers = $t.p.prmNames,\r\n\t\t\t\toper = opers.oper;\r\n\t\t\t\tp.addRowParams.extraparam[oper] = opers.addoper;\r\n\t\t\t\t$($t).jqGrid('editRow', p.rowID, p.addRowParams);\r\n\t\t\t\t$($t).jqGrid('setSelection', p.rowID);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tinlineNav : function (elem, o) {\r\n\t\to = $.extend(true,{\r\n\t\t\tedit: true,\r\n\t\t\tediticon: \"ui-icon-pencil\",\r\n\t\t\tadd: true,\r\n\t\t\taddicon:\"ui-icon-plus\",\r\n\t\t\tsave: true,\r\n\t\t\tsaveicon:\"ui-icon-disk\",\r\n\t\t\tcancel: true,\r\n\t\t\tcancelicon:\"ui-icon-cancel\",\r\n\t\t\taddParams : {addRowParams: {extraparam: {}}},\r\n\t\t\teditParams : {},\r\n\t\t\trestoreAfterSelect : true\r\n\t\t}, $.jgrid.nav, o ||{});\r\n\t\treturn this.each(function(){\r\n\t\t\tif (!this.grid ) { return; }\r\n\t\t\tvar $t = this, onSelect, gID = $.jgrid.jqID($t.p.id);\r\n\t\t\t$t.p._inlinenav = true;\r\n\t\t\t// detect the formatactions column\r\n\t\t\tif(o.addParams.useFormatter === true) {\r\n\t\t\t\tvar cm = $t.p.colModel,i;\r\n\t\t\t\tfor (i = 0; i<cm.length; i++) {\r\n\t\t\t\t\tif(cm[i].formatter && cm[i].formatter === \"actions\" ) {\r\n\t\t\t\t\t\tif(cm[i].formatoptions) {\r\n\t\t\t\t\t\t\tvar defaults =  {\r\n\t\t\t\t\t\t\t\tkeys:false,\r\n\t\t\t\t\t\t\t\tonEdit : null,\r\n\t\t\t\t\t\t\t\tonSuccess: null,\r\n\t\t\t\t\t\t\t\tafterSave:null,\r\n\t\t\t\t\t\t\t\tonError: null,\r\n\t\t\t\t\t\t\t\tafterRestore: null,\r\n\t\t\t\t\t\t\t\textraparam: {},\r\n\t\t\t\t\t\t\t\turl: null\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tap = $.extend( defaults, cm[i].formatoptions );\r\n\t\t\t\t\t\t\to.addParams.addRowParams = {\r\n\t\t\t\t\t\t\t\t\"keys\" : ap.keys,\r\n\t\t\t\t\t\t\t\t\"oneditfunc\" : ap.onEdit,\r\n\t\t\t\t\t\t\t\t\"successfunc\" : ap.onSuccess,\r\n\t\t\t\t\t\t\t\t\"url\" : ap.url,\r\n\t\t\t\t\t\t\t\t\"extraparam\" : ap.extraparam,\r\n\t\t\t\t\t\t\t\t\"aftersavefunc\" : ap.afterSave,\r\n\t\t\t\t\t\t\t\t\"errorfunc\": ap.onError,\r\n\t\t\t\t\t\t\t\t\"afterrestorefunc\" : ap.afterRestore\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(o.add) {\r\n\t\t\t\t$($t).jqGrid('navButtonAdd', elem,{\r\n\t\t\t\t\tcaption : o.addtext,\r\n\t\t\t\t\ttitle : o.addtitle,\r\n\t\t\t\t\tbuttonicon : o.addicon,\r\n\t\t\t\t\tid : $t.p.id+\"_iladd\",\r\n\t\t\t\t\tonClickButton : function () {\r\n\t\t\t\t\t\t$($t).jqGrid('addRow', o.addParams);\r\n\t\t\t\t\t\tif(!o.addParams.useFormatter) {\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_ilsave\").removeClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_ilcancel\").removeClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_iladd\").addClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_iledit\").addClass('ui-state-disabled');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(o.edit) {\r\n\t\t\t\t$($t).jqGrid('navButtonAdd', elem,{\r\n\t\t\t\t\tcaption : o.edittext,\r\n\t\t\t\t\ttitle : o.edittitle,\r\n\t\t\t\t\tbuttonicon : o.editicon,\r\n\t\t\t\t\tid : $t.p.id+\"_iledit\",\r\n\t\t\t\t\tonClickButton : function () {\r\n\t\t\t\t\t\tvar sr = $($t).jqGrid('getGridParam','selrow');\r\n\t\t\t\t\t\tif(sr) {\r\n\t\t\t\t\t\t\t$($t).jqGrid('editRow', sr, o.editParams);\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_ilsave\").removeClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_ilcancel\").removeClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_iladd\").addClass('ui-state-disabled');\r\n\t\t\t\t\t\t\t$(\"#\"+gID+\"_iledit\").addClass('ui-state-disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.jgrid.viewModal(\"#alertmod\",{gbox:\"#gbox_\"+gID,jqm:true});$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(o.save) {\r\n\t\t\t\t$($t).jqGrid('navButtonAdd', elem,{\r\n\t\t\t\t\tcaption : o.savetext || '',\r\n\t\t\t\t\ttitle : o.savetitle || 'Save row',\r\n\t\t\t\t\tbuttonicon : o.saveicon,\r\n\t\t\t\t\tid : $t.p.id+\"_ilsave\",\r\n\t\t\t\t\tonClickButton : function () {\r\n\t\t\t\t\t\tvar sr = $t.p.savedRow[0].id;\r\n\t\t\t\t\t\tif(sr) {\r\n\t\t\t\t\t\t\tvar opers = $t.p.prmNames,\r\n\t\t\t\t\t\t\toper = opers.oper, tmpParams = o.editParams;\r\n\t\t\t\t\t\t\tif($(\"#\"+$.jgrid.jqID(sr), \"#\"+gID ).hasClass(\"jqgrid-new-row\")) {\r\n\t\t\t\t\t\t\t\to.addParams.addRowParams.extraparam[oper] = opers.addoper;\r\n\t\t\t\t\t\t\t\ttmpParams = o.addParams.addRowParams;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif(!o.editParams.extraparam) {\r\n\t\t\t\t\t\t\t\t\to.editParams.extraparam = {};\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\to.editParams.extraparam[oper] = opers.editoper;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( $($t).jqGrid('saveRow', sr, tmpParams) ) {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.jgrid.viewModal(\"#alertmod\",{gbox:\"#gbox_\"+gID,jqm:true});$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#\"+gID+\"_ilsave\").addClass('ui-state-disabled');\r\n\t\t\t}\r\n\t\t\tif(o.cancel) {\r\n\t\t\t\t$($t).jqGrid('navButtonAdd', elem,{\r\n\t\t\t\t\tcaption : o.canceltext || '',\r\n\t\t\t\t\ttitle : o.canceltitle || 'Cancel row editing',\r\n\t\t\t\t\tbuttonicon : o.cancelicon,\r\n\t\t\t\t\tid : $t.p.id+\"_ilcancel\",\r\n\t\t\t\t\tonClickButton : function () {\r\n\t\t\t\t\t\tvar sr = $t.p.savedRow[0].id, cancelPrm = o.editParams;\r\n\t\t\t\t\t\tif(sr) {\r\n\t\t\t\t\t\t\tif($(\"#\"+$.jgrid.jqID(sr), \"#\"+gID ).hasClass(\"jqgrid-new-row\")) {\r\n\t\t\t\t\t\t\t\tcancelPrm = o.addParams.addRowParams;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).jqGrid('restoreRow', sr, cancelPrm);\r\n\t\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$.jgrid.viewModal(\"#alertmod\",{gbox:\"#gbox_\"+gID,jqm:true});$(\"#jqg_alrt\").focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#\"+gID+\"_ilcancel\").addClass('ui-state-disabled');\r\n\t\t\t}\r\n\t\t\tif(o.restoreAfterSelect === true) {\r\n\t\t\t\tif($.isFunction($t.p.beforeSelectRow)) {\r\n\t\t\t\t\tonSelect = $t.p.beforeSelectRow;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonSelect =  false;\r\n\t\t\t\t}\r\n\t\t\t\t$t.p.beforeSelectRow = function(id, stat) {\r\n\t\t\t\t\tvar ret = true;\r\n\t\t\t\t\tif($t.p.savedRow.length > 0 && $t.p._inlinenav===true && ( id !== $t.p.selrow && $t.p.selrow !==null) ) {\r\n\t\t\t\t\t\tif($t.p.selrow === o.addParams.rowID ) {\r\n\t\t\t\t\t\t\t$($t).jqGrid('delRowData', $t.p.selrow);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$($t).jqGrid('restoreRow', $t.p.selrow, o.editParams);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$($t).jqGrid('showAddEditButtons');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(onSelect) {\r\n\t\t\t\t\t\tret = onSelect.call($t, id, stat);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t},\r\n\tshowAddEditButtons : function()  {\r\n\t\treturn this.each(function(){\r\n\t\t\tif (!this.grid ) { return; }\r\n\t\t\tvar gID = $.jgrid.jqID(this.p.id);\r\n\t\t\t$(\"#\"+gID+\"_ilsave\").addClass('ui-state-disabled');\r\n\t\t\t$(\"#\"+gID+\"_ilcancel\").addClass('ui-state-disabled');\r\n\t\t\t$(\"#\"+gID+\"_iladd\").removeClass('ui-state-disabled');\r\n\t\t\t$(\"#\"+gID+\"_iledit\").removeClass('ui-state-disabled');\r\n\t\t});\r\n\t}\r\n//end inline edit\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($){\r\n/*\r\n**\r\n * jqGrid extension for cellediting Grid Data\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n/**\r\n * all events and options here are aded anonynous and not in the base grid\r\n * since the array is to big. Here is the order of execution.\r\n * From this point we use jQuery isFunction\r\n * formatCell\r\n * beforeEditCell,\r\n * onSelectCell (used only for noneditable cels)\r\n * afterEditCell,\r\n * beforeSaveCell, (called before validation of values if any)\r\n * beforeSubmitCell (if cellsubmit remote (ajax))\r\n * afterSubmitCell(if cellsubmit remote (ajax)),\r\n * afterSaveCell,\r\n * errorCell,\r\n * serializeCellData - new\r\n * Options\r\n * cellsubmit (remote,clientArray) (added in grid options)\r\n * cellurl\r\n * ajaxCellOptions\r\n* */\r\n\"use strict\";\r\n$.jgrid.extend({\r\n\teditCell : function (iRow,iCol, ed){\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this, nm, tmp,cc, cm;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true) {return;}\r\n\t\t\tiCol = parseInt(iCol,10);\r\n\t\t\t// select the row that can be used for other methods\r\n\t\t\t$t.p.selrow = $t.rows[iRow].id;\r\n\t\t\tif (!$t.p.knv) {$($t).jqGrid(\"GridNav\");}\r\n\t\t\t// check to see if we have already edited cell\r\n\t\t\tif ($t.p.savedRow.length>0) {\r\n\t\t\t\t// prevent second click on that field and enable selects\r\n\t\t\t\tif (ed===true ) {\r\n\t\t\t\t\tif(iRow == $t.p.iRow && iCol == $t.p.iCol){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// save the cell\r\n\t\t\t\t$($t).jqGrid(\"saveCell\",$t.p.savedRow[0].id,$t.p.savedRow[0].ic);\r\n\t\t\t} else {\r\n\t\t\t\twindow.setTimeout(function () { $(\"#\"+$.jgrid.jqID($t.p.knv)).attr(\"tabindex\",\"-1\").focus();},0);\r\n\t\t\t}\r\n\t\t\tcm = $t.p.colModel[iCol];\r\n\t\t\tnm = cm.name;\r\n\t\t\tif (nm==='subgrid' || nm==='cb' || nm==='rn') {return;}\r\n\t\t\tcc = $(\"td:eq(\"+iCol+\")\",$t.rows[iRow]);\r\n\t\t\tif (cm.editable===true && ed===true && !cc.hasClass(\"not-editable-cell\")) {\r\n\t\t\t\tif(parseInt($t.p.iCol,10)>=0  && parseInt($t.p.iRow,10)>=0) {\r\n\t\t\t\t\t$(\"td:eq(\"+$t.p.iCol+\")\",$t.rows[$t.p.iRow]).removeClass(\"edit-cell ui-state-highlight\");\r\n\t\t\t\t\t$($t.rows[$t.p.iRow]).removeClass(\"selected-row ui-state-hover\");\r\n\t\t\t\t}\r\n\t\t\t\t$(cc).addClass(\"edit-cell ui-state-highlight\");\r\n\t\t\t\t$($t.rows[iRow]).addClass(\"selected-row ui-state-hover\");\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttmp =  $.unformat.call($t,cc,{rowId: $t.rows[iRow].id, colModel:cm},iCol);\r\n\t\t\t\t} catch (_) {\r\n\t\t\t\t\ttmp = ( cm.edittype && cm.edittype === 'textarea' ) ? $(cc).text() : $(cc).html();\r\n\t\t\t\t}\r\n\t\t\t\tif($t.p.autoencode) { tmp = $.jgrid.htmlDecode(tmp); }\r\n\t\t\t\tif (!cm.edittype) {cm.edittype = \"text\";}\r\n\t\t\t\t$t.p.savedRow.push({id:iRow,ic:iCol,name:nm,v:tmp});\r\n\t\t\t\tif(tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length===1 && tmp.charCodeAt(0)===160) ) {tmp='';}\r\n\t\t\t\tif($.isFunction($t.p.formatCell)) {\r\n\t\t\t\t\tvar tmp2 = $t.p.formatCell.call($t, $t.rows[iRow].id,nm,tmp,iRow,iCol);\r\n\t\t\t\t\tif(tmp2 !== undefined ) {tmp = tmp2;}\r\n\t\t\t\t}\r\n\t\t\t\t$($t).triggerHandler(\"jqGridBeforeEditCell\", [$t.rows[iRow].id, nm, tmp, iRow, iCol]);\r\n\t\t\t\tif ($.isFunction($t.p.beforeEditCell)) {\r\n\t\t\t\t\t$t.p.beforeEditCell.call($t, $t.rows[iRow].id,nm,tmp,iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t\tvar opt = $.extend({}, cm.editoptions || {} ,{id:iRow+\"_\"+nm,name:nm});\r\n\t\t\t\tvar elc = $.jgrid.createEl.call($t,cm.edittype,opt,tmp,true,$.extend({},$.jgrid.ajaxOptions,$t.p.ajaxSelectOptions || {}));\r\n\t\t\t\t$(cc).html(\"\").append(elc).attr(\"tabindex\",\"0\");\r\n\t\t\t\t$.jgrid.bindEv.call($t, elc, opt);\r\n\t\t\t\twindow.setTimeout(function () { $(elc).focus();},0);\r\n\t\t\t\t$(\"input, select, textarea\",cc).bind(\"keydown\",function(e) {\r\n\t\t\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\t\t\tif($(\"input.hasDatepicker\",cc).length >0) {\r\n\t\t\t\t\t\t\tif( $(\".ui-datepicker\").is(\":hidden\") )  { $($t).jqGrid(\"restoreCell\",iRow,iCol); }\r\n\t\t\t\t\t\t\telse { $(\"input.hasDatepicker\",cc).datepicker('hide'); }\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} //ESC\r\n\t\t\t\t\tif (e.keyCode === 13) {\r\n\t\t\t\t\t\t$($t).jqGrid(\"saveCell\",iRow,iCol);\r\n\t\t\t\t\t\t// Prevent default action\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t} //Enter\r\n\t\t\t\t\tif (e.keyCode === 9)  {\r\n\t\t\t\t\t\tif(!$t.grid.hDiv.loading ) {\r\n\t\t\t\t\t\t\tif (e.shiftKey) {$($t).jqGrid(\"prevCell\",iRow,iCol);} //Shift TAb\r\n\t\t\t\t\t\t\telse {$($t).jqGrid(\"nextCell\",iRow,iCol);} //Tab\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t});\r\n\t\t\t\t$($t).triggerHandler(\"jqGridAfterEditCell\", [$t.rows[iRow].id, nm, tmp, iRow, iCol]);\r\n\t\t\t\tif ($.isFunction($t.p.afterEditCell)) {\r\n\t\t\t\t\t$t.p.afterEditCell.call($t, $t.rows[iRow].id,nm,tmp,iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (parseInt($t.p.iCol,10)>=0  && parseInt($t.p.iRow,10)>=0) {\r\n\t\t\t\t\t$(\"td:eq(\"+$t.p.iCol+\")\",$t.rows[$t.p.iRow]).removeClass(\"edit-cell ui-state-highlight\");\r\n\t\t\t\t\t$($t.rows[$t.p.iRow]).removeClass(\"selected-row ui-state-hover\");\r\n\t\t\t\t}\r\n\t\t\t\tcc.addClass(\"edit-cell ui-state-highlight\");\r\n\t\t\t\t$($t.rows[iRow]).addClass(\"selected-row ui-state-hover\");\r\n\t\t\t\ttmp = cc.html().replace(/\\&#160\\;/ig,'');\r\n\t\t\t\t$($t).triggerHandler(\"jqGridSelectCell\", [$t.rows[iRow].id, nm, tmp, iRow, iCol]);\r\n\t\t\t\tif ($.isFunction($t.p.onSelectCell)) {\r\n\t\t\t\t\t$t.p.onSelectCell.call($t, $t.rows[iRow].id,nm,tmp,iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$t.p.iCol = iCol; $t.p.iRow = iRow;\r\n\t\t});\r\n\t},\r\n\tsaveCell : function (iRow, iCol){\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t= this, fr;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true) {return;}\r\n\t\t\tif ( $t.p.savedRow.length >= 1) {fr = 0;} else {fr=null;}\r\n\t\t\tif(fr !== null) {\r\n\t\t\t\tvar cc = $(\"td:eq(\"+iCol+\")\",$t.rows[iRow]),v,v2,\r\n\t\t\t\tcm = $t.p.colModel[iCol], nm = cm.name, nmjq = $.jgrid.jqID(nm) ;\r\n\t\t\t\tswitch (cm.edittype) {\r\n\t\t\t\t\tcase \"select\":\r\n\t\t\t\t\t\tif(!cm.editoptions.multiple) {\r\n\t\t\t\t\t\t\tv = $(\"#\"+iRow+\"_\"+nmjq+\" option:selected\",$t.rows[iRow]).val();\r\n\t\t\t\t\t\t\tv2 = $(\"#\"+iRow+\"_\"+nmjq+\" option:selected\",$t.rows[iRow]).text();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar sel = $(\"#\"+iRow+\"_\"+nmjq,$t.rows[iRow]), selectedText = [];\r\n\t\t\t\t\t\t\tv = $(sel).val();\r\n\t\t\t\t\t\t\tif(v) { v.join(\",\");} else { v=\"\"; }\r\n\t\t\t\t\t\t\t$(\"option:selected\",sel).each(\r\n\t\t\t\t\t\t\t\tfunction(i,selected){\r\n\t\t\t\t\t\t\t\t\tselectedText[i] = $(selected).text();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tv2 = selectedText.join(\",\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(cm.formatter) { v2 = v; }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\t\tvar cbv  = [\"Yes\",\"No\"];\r\n\t\t\t\t\t\tif(cm.editoptions){\r\n\t\t\t\t\t\t\tcbv = cm.editoptions.value.split(\":\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tv = $(\"#\"+iRow+\"_\"+nmjq,$t.rows[iRow]).is(\":checked\") ? cbv[0] : cbv[1];\r\n\t\t\t\t\t\tv2=v;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"password\":\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\tcase \"button\" :\r\n\t\t\t\t\t\tv = $(\"#\"+iRow+\"_\"+nmjq,$t.rows[iRow]).val();\r\n\t\t\t\t\t\tv2=v;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'custom' :\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif(cm.editoptions && $.isFunction(cm.editoptions.custom_value)) {\r\n\t\t\t\t\t\t\t\tv = cm.editoptions.custom_value.call($t, $(\".customelement\",cc),'get');\r\n\t\t\t\t\t\t\t\tif (v===undefined) { throw \"e2\";} else { v2=v; }\r\n\t\t\t\t\t\t\t} else { throw \"e1\"; }\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tif (e===\"e1\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t\tif (e===\"e2\") { $.jgrid.info_dialog($.jgrid.errors.errcap,\"function 'custom_value' \"+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t\telse {$.jgrid.info_dialog($.jgrid.errors.errcap,e.message,$.jgrid.edit.bClose); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t// The common approach is if nothing changed do not do anything\r\n\t\t\t\tif (v2 !== $t.p.savedRow[fr].v){\r\n\t\t\t\t\tvar vvv = $($t).triggerHandler(\"jqGridBeforeSaveCell\", [$t.rows[iRow].id, nm, v, iRow, iCol]);\r\n\t\t\t\t\tif (vvv) {v = vvv; v2=vvv;}\r\n\t\t\t\t\tif ($.isFunction($t.p.beforeSaveCell)) {\r\n\t\t\t\t\t\tvar vv = $t.p.beforeSaveCell.call($t, $t.rows[iRow].id,nm, v, iRow,iCol);\r\n\t\t\t\t\t\tif (vv) {v = vv; v2=vv;}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar cv = $.jgrid.checkValues.call($t,v,iCol);\r\n\t\t\t\t\tif(cv[0] === true) {\r\n\t\t\t\t\t\tvar addpost = $($t).triggerHandler(\"jqGridBeforeSubmitCell\", [$t.rows[iRow].id, nm, v, iRow, iCol]) || {};\r\n\t\t\t\t\t\tif ($.isFunction($t.p.beforeSubmitCell)) {\r\n\t\t\t\t\t\t\taddpost = $t.p.beforeSubmitCell.call($t, $t.rows[iRow].id,nm, v, iRow,iCol);\r\n\t\t\t\t\t\t\tif (!addpost) {addpost={};}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( $(\"input.hasDatepicker\",cc).length >0) { $(\"input.hasDatepicker\",cc).datepicker('hide'); }\r\n\t\t\t\t\t\tif ($t.p.cellsubmit === 'remote') {\r\n\t\t\t\t\t\t\tif ($t.p.cellurl) {\r\n\t\t\t\t\t\t\t\tvar postdata = {};\r\n\t\t\t\t\t\t\t\tif($t.p.autoencode) { v = $.jgrid.htmlEncode(v); }\r\n\t\t\t\t\t\t\t\tpostdata[nm] = v;\r\n\t\t\t\t\t\t\t\tvar idname,oper, opers;\r\n\t\t\t\t\t\t\t\topers = $t.p.prmNames;\r\n\t\t\t\t\t\t\t\tidname = opers.id;\r\n\t\t\t\t\t\t\t\toper = opers.oper;\r\n\t\t\t\t\t\t\t\tpostdata[idname] = $.jgrid.stripPref($t.p.idPrefix, $t.rows[iRow].id);\r\n\t\t\t\t\t\t\t\tpostdata[oper] = opers.editoper;\r\n\t\t\t\t\t\t\t\tpostdata = $.extend(addpost,postdata);\r\n\t\t\t\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID($t.p.id)).show();\r\n\t\t\t\t\t\t\t\t$t.grid.hDiv.loading = true;\r\n\t\t\t\t\t\t\t\t$.ajax( $.extend( {\r\n\t\t\t\t\t\t\t\t\turl: $t.p.cellurl,\r\n\t\t\t\t\t\t\t\t\tdata :$.isFunction($t.p.serializeCellData) ? $t.p.serializeCellData.call($t, postdata) : postdata,\r\n\t\t\t\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\t\t\t\tcomplete: function (result, stat) {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#lui_\"+$t.p.id).hide();\r\n\t\t\t\t\t\t\t\t\t\t$t.grid.hDiv.loading = false;\r\n\t\t\t\t\t\t\t\t\t\tif (stat === 'success') {\r\n\t\t\t\t\t\t\t\t\t\t\tvar ret = $($t).triggerHandler(\"jqGridAfterSubmitCell\", [$t, result, postdata.id, nm, v, iRow, iCol]) || [true, ''];\r\n\t\t\t\t\t\t\t\t\t\t\tif (ret[0] === true && $.isFunction($t.p.afterSubmitCell)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tret = $t.p.afterSubmitCell.call($t, result,postdata.id,nm,v,iRow,iCol);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif(ret[0] === true){\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(cc).empty();\r\n\t\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"setCell\",$t.rows[iRow].id, iCol, v2, false, false, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(cc).addClass(\"dirty-cell\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t$($t.rows[iRow]).addClass(\"edited\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridAfterSaveCell\", [$t.rows[iRow].id, nm, v, iRow, iCol]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ($.isFunction($t.p.afterSaveCell)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$t.p.afterSaveCell.call($t, $t.rows[iRow].id,nm, v, iRow,iCol);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t$t.p.savedRow.splice(0,1);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$.jgrid.info_dialog($.jgrid.errors.errcap,ret[1],$.jgrid.edit.bClose);\r\n\t\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror:function(res,stat,err) {\r\n\t\t\t\t\t\t\t\t\t\t$(\"#lui_\"+$.jgrid.jqID($t.p.id)).hide();\r\n\t\t\t\t\t\t\t\t\t\t$t.grid.hDiv.loading = false;\r\n\t\t\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridErrorCell\", [res, stat, err]);\r\n\t\t\t\t\t\t\t\t\t\tif ($.isFunction($t.p.errorCell)) {\r\n\t\t\t\t\t\t\t\t\t\t\t$t.p.errorCell.call($t, res,stat,err);\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$.jgrid.info_dialog($.jgrid.errors.errcap,res.status+\" : \"+res.statusText+\"<br/>\"+stat,$.jgrid.edit.bClose);\r\n\t\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, $.jgrid.ajaxOptions, $t.p.ajaxCellOptions || {}));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t$.jgrid.info_dialog($.jgrid.errors.errcap,$.jgrid.errors.nourl,$.jgrid.edit.bClose);\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ($t.p.cellsubmit === 'clientArray') {\r\n\t\t\t\t\t\t\t$(cc).empty();\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"setCell\",$t.rows[iRow].id,iCol, v2, false, false, true);\r\n\t\t\t\t\t\t\t$(cc).addClass(\"dirty-cell\");\r\n\t\t\t\t\t\t\t$($t.rows[iRow]).addClass(\"edited\");\r\n\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridAfterSaveCell\", [$t.rows[iRow].id, nm, v, iRow, iCol]);\r\n\t\t\t\t\t\t\tif ($.isFunction($t.p.afterSaveCell)) {\r\n\t\t\t\t\t\t\t\t$t.p.afterSaveCell.call($t, $t.rows[iRow].id,nm, v, iRow,iCol);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$t.p.savedRow.splice(0,1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\twindow.setTimeout(function(){$.jgrid.info_dialog($.jgrid.errors.errcap,v+\" \"+cv[1],$.jgrid.edit.bClose);},100);\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$($t).jqGrid(\"restoreCell\",iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twindow.setTimeout(function () { $(\"#\"+$.jgrid.jqID($t.p.knv)).attr(\"tabindex\",\"-1\").focus();},0);\r\n\t\t});\r\n\t},\r\n\trestoreCell : function(iRow, iCol) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t= this, fr;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true ) {return;}\r\n\t\t\tif ( $t.p.savedRow.length >= 1) {fr = 0;} else {fr=null;}\r\n\t\t\tif(fr !== null) {\r\n\t\t\t\tvar cc = $(\"td:eq(\"+iCol+\")\",$t.rows[iRow]);\r\n\t\t\t\t// datepicker fix\r\n\t\t\t\tif($.isFunction($.fn.datepicker)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t$(\"input.hasDatepicker\",cc).datepicker('hide');\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\t\t\t\t$(cc).empty().attr(\"tabindex\",\"-1\");\r\n\t\t\t\t$($t).jqGrid(\"setCell\",$t.rows[iRow].id, iCol, $t.p.savedRow[fr].v, false, false, true);\r\n\t\t\t\t$($t).triggerHandler(\"jqGridAfterRestoreCell\", [$t.rows[iRow].id, $t.p.savedRow[fr].v, iRow, iCol]);\r\n\t\t\t\tif ($.isFunction($t.p.afterRestoreCell)) {\r\n\t\t\t\t\t$t.p.afterRestoreCell.call($t, $t.rows[iRow].id, $t.p.savedRow[fr].v, iRow, iCol);\r\n\t\t\t\t}\r\n\t\t\t\t$t.p.savedRow.splice(0,1);\r\n\t\t\t}\r\n\t\t\twindow.setTimeout(function () { $(\"#\"+$t.p.knv).attr(\"tabindex\",\"-1\").focus();},0);\r\n\t\t});\r\n\t},\r\n\tnextCell : function (iRow,iCol) {\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this, nCol=false, i;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true) {return;}\r\n\t\t\t// try to find next editable cell\r\n\t\t\tfor (i=iCol+1; i<$t.p.colModel.length; i++) {\r\n\t\t\t\tif ( $t.p.colModel[i].editable ===true) {\r\n\t\t\t\t\tnCol = i; break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(nCol !== false) {\r\n\t\t\t\t$($t).jqGrid(\"editCell\",iRow,nCol,true);\r\n\t\t\t} else {\r\n\t\t\t\tif ($t.p.savedRow.length >0) {\r\n\t\t\t\t\t$($t).jqGrid(\"saveCell\",iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tprevCell : function (iRow,iCol) {\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this, nCol=false, i;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true) {return;}\r\n\t\t\t// try to find next editable cell\r\n\t\t\tfor (i=iCol-1; i>=0; i--) {\r\n\t\t\t\tif ( $t.p.colModel[i].editable ===true) {\r\n\t\t\t\t\tnCol = i; break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(nCol !== false) {\r\n\t\t\t\t$($t).jqGrid(\"editCell\",iRow,nCol,true);\r\n\t\t\t} else {\r\n\t\t\t\tif ($t.p.savedRow.length >0) {\r\n\t\t\t\t\t$($t).jqGrid(\"saveCell\",iRow,iCol);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tGridNav : function() {\r\n\t\treturn this.each(function () {\r\n\t\t\tvar  $t = this;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true ) {return;}\r\n\t\t\t// trick to process keydown on non input elements\r\n\t\t\t$t.p.knv = $t.p.id + \"_kn\";\r\n\t\t\tvar selection = $(\"<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='\"+$t.p.knv+\"'></div></div>\"),\r\n\t\t\ti, kdir;\r\n\t\t\tfunction scrollGrid(iR, iC, tp){\r\n\t\t\t\tif (tp.substr(0,1)==='v') {\r\n\t\t\t\t\tvar ch = $($t.grid.bDiv)[0].clientHeight,\r\n\t\t\t\t\tst = $($t.grid.bDiv)[0].scrollTop,\r\n\t\t\t\t\tnROT = $t.rows[iR].offsetTop+$t.rows[iR].clientHeight,\r\n\t\t\t\t\tpROT = $t.rows[iR].offsetTop;\r\n\t\t\t\t\tif(tp === 'vd') {\r\n\t\t\t\t\t\tif(nROT >= ch) {\r\n\t\t\t\t\t\t\t$($t.grid.bDiv)[0].scrollTop = $($t.grid.bDiv)[0].scrollTop + $t.rows[iR].clientHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(tp === 'vu'){\r\n\t\t\t\t\t\tif (pROT < st ) {\r\n\t\t\t\t\t\t\t$($t.grid.bDiv)[0].scrollTop = $($t.grid.bDiv)[0].scrollTop - $t.rows[iR].clientHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(tp==='h') {\r\n\t\t\t\t\tvar cw = $($t.grid.bDiv)[0].clientWidth,\r\n\t\t\t\t\tsl = $($t.grid.bDiv)[0].scrollLeft,\r\n\t\t\t\t\tnCOL = $t.rows[iR].cells[iC].offsetLeft+$t.rows[iR].cells[iC].clientWidth,\r\n\t\t\t\t\tpCOL = $t.rows[iR].cells[iC].offsetLeft;\r\n\t\t\t\t\tif(nCOL >= cw+parseInt(sl,10)) {\r\n\t\t\t\t\t\t$($t.grid.bDiv)[0].scrollLeft = $($t.grid.bDiv)[0].scrollLeft + $t.rows[iR].cells[iC].clientWidth;\r\n\t\t\t\t\t} else if (pCOL < sl) {\r\n\t\t\t\t\t\t$($t.grid.bDiv)[0].scrollLeft = $($t.grid.bDiv)[0].scrollLeft - $t.rows[iR].cells[iC].clientWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction findNextVisible(iC,act){\r\n\t\t\t\tvar ind, i;\r\n\t\t\t\tif(act === 'lft') {\r\n\t\t\t\t\tind = iC+1;\r\n\t\t\t\t\tfor (i=iC;i>=0;i--){\r\n\t\t\t\t\t\tif ($t.p.colModel[i].hidden !== true) {\r\n\t\t\t\t\t\t\tind = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(act === 'rgt') {\r\n\t\t\t\t\tind = iC-1;\r\n\t\t\t\t\tfor (i=iC; i<$t.p.colModel.length;i++){\r\n\t\t\t\t\t\tif ($t.p.colModel[i].hidden !== true) {\r\n\t\t\t\t\t\t\tind = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ind;\r\n\t\t\t}\r\n\r\n\t\t\t$(selection).insertBefore($t.grid.cDiv);\r\n\t\t\t$(\"#\"+$t.p.knv)\r\n\t\t\t.focus()\r\n\t\t\t.keydown(function (e){\r\n\t\t\t\tkdir = e.keyCode;\r\n\t\t\t\tif($t.p.direction === \"rtl\") {\r\n\t\t\t\t\tif(kdir===37) { kdir = 39;}\r\n\t\t\t\t\telse if (kdir===39) { kdir = 37; }\r\n\t\t\t\t}\r\n\t\t\t\tswitch (kdir) {\r\n\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\tif ($t.p.iRow-1 >0 ) {\r\n\t\t\t\t\t\t\tscrollGrid($t.p.iRow-1,$t.p.iCol,'vu');\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"editCell\",$t.p.iRow-1,$t.p.iCol,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 40 :\r\n\t\t\t\t\t\tif ($t.p.iRow+1 <=  $t.rows.length-1) {\r\n\t\t\t\t\t\t\tscrollGrid($t.p.iRow+1,$t.p.iCol,'vd');\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"editCell\",$t.p.iRow+1,$t.p.iCol,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 37 :\r\n\t\t\t\t\t\tif ($t.p.iCol -1 >=  0) {\r\n\t\t\t\t\t\t\ti = findNextVisible($t.p.iCol-1,'lft');\r\n\t\t\t\t\t\t\tscrollGrid($t.p.iRow, i,'h');\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"editCell\",$t.p.iRow, i,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 39 :\r\n\t\t\t\t\t\tif ($t.p.iCol +1 <=  $t.p.colModel.length-1) {\r\n\t\t\t\t\t\t\ti = findNextVisible($t.p.iCol+1,'rgt');\r\n\t\t\t\t\t\t\tscrollGrid($t.p.iRow,i,'h');\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"editCell\",$t.p.iRow,i,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\tif (parseInt($t.p.iCol,10)>=0 && parseInt($t.p.iRow,10)>=0) {\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"editCell\",$t.p.iRow,$t.p.iCol,true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tgetChangedCells : function (mthd) {\r\n\t\tvar ret=[];\r\n\t\tif (!mthd) {mthd='all';}\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t= this,nm;\r\n\t\t\tif (!$t.grid || $t.p.cellEdit !== true ) {return;}\r\n\t\t\t$($t.rows).each(function(j){\r\n\t\t\t\tvar res = {};\r\n\t\t\t\tif ($(this).hasClass(\"edited\")) {\r\n\t\t\t\t\t$('td',this).each( function(i) {\r\n\t\t\t\t\t\tnm = $t.p.colModel[i].name;\r\n\t\t\t\t\t\tif ( nm !== 'cb' && nm !== 'subgrid') {\r\n\t\t\t\t\t\t\tif (mthd==='dirty') {\r\n\t\t\t\t\t\t\t\tif ($(this).hasClass('dirty-cell')) {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tres[nm] = $.unformat.call($t,this,{rowId:$t.rows[j].id, colModel:$t.p.colModel[i]},i);\r\n\t\t\t\t\t\t\t\t\t} catch (e){\r\n\t\t\t\t\t\t\t\t\t\tres[nm] = $.jgrid.htmlDecode($(this).html());\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tres[nm] = $.unformat.call($t,this,{rowId:$t.rows[j].id,colModel:$t.p.colModel[i]},i);\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\tres[nm] = $.jgrid.htmlDecode($(this).html());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tres.id = this.id;\r\n\t\t\t\t\tret.push(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn ret;\r\n\t}\r\n/// end  cell editing\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($){\r\n/**\r\n * jqGrid extension for SubGrid Data\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n\"use strict\";\r\n$.jgrid.extend({\r\nsetSubGrid : function () {\r\n\treturn this.each(function (){\r\n\t\tvar $t = this, cm, i,\r\n\t\tsuboptions = {\r\n\t\t\tplusicon : \"ui-icon-plus\",\r\n\t\t\tminusicon : \"ui-icon-minus\",\r\n\t\t\topenicon: \"ui-icon-carat-1-sw\",\r\n\t\t\texpandOnLoad:  false,\r\n\t\t\tdelayOnLoad : 50,\r\n\t\t\tselectOnExpand : false,\r\n\t\t\tselectOnCollapse : false,\r\n\t\t\treloadOnExpand : true\r\n\t\t};\r\n\t\t$t.p.subGridOptions = $.extend(suboptions, $t.p.subGridOptions || {});\r\n\t\t$t.p.colNames.unshift(\"\");\r\n\t\t$t.p.colModel.unshift({name:'subgrid',width: $.jgrid.cell_width ?  $t.p.subGridWidth+$t.p.cellLayout : $t.p.subGridWidth,sortable: false,resizable:false,hidedlg:true,search:false,fixed:true});\r\n\t\tcm = $t.p.subGridModel;\r\n\t\tif(cm[0]) {\r\n\t\t\tcm[0].align = $.extend([],cm[0].align || []);\r\n\t\t\tfor(i=0;i<cm[0].name.length;i++) { cm[0].align[i] = cm[0].align[i] || 'left';}\r\n\t\t}\r\n\t});\r\n},\r\naddSubGridCell :function (pos,iRow) {\r\n\tvar prp='',ic,sid;\r\n\tthis.each(function(){\r\n\t\tprp = this.formatCol(pos,iRow);\r\n\t\tsid= this.p.id;\r\n\t\tic = this.p.subGridOptions.plusicon;\r\n\t});\r\n\treturn \"<td role=\\\"gridcell\\\" aria-describedby=\\\"\"+sid+\"_subgrid\\\" class=\\\"ui-sgcollapsed sgcollapsed\\\" \"+prp+\"><a style='cursor:pointer;'><span class='ui-icon \"+ic+\"'></span></a></td>\";\r\n},\r\naddSubGrid : function( pos, sind ) {\r\n\treturn this.each(function(){\r\n\t\tvar ts = this;\r\n\t\tif (!ts.grid ) { return; }\r\n\t\t//-------------------------\r\n\t\tvar subGridCell = function(trdiv,cell,pos)\r\n\t\t{\r\n\t\t\tvar tddiv = $(\"<td align='\"+ts.p.subGridModel[0].align[pos]+\"'></td>\").html(cell);\r\n\t\t\t$(trdiv).append(tddiv);\r\n\t\t};\r\n\t\tvar subGridXml = function(sjxml, sbid){\r\n\t\t\tvar tddiv, i,  sgmap,\r\n\t\t\tdummy = $(\"<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>\"),\r\n\t\t\ttrdiv = $(\"<tr></tr>\");\r\n\t\t\tfor (i = 0; i<ts.p.subGridModel[0].name.length; i++) {\r\n\t\t\t\ttddiv = $(\"<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-\"+ts.p.direction+\"'></th>\");\r\n\t\t\t\t$(tddiv).html(ts.p.subGridModel[0].name[i]);\r\n\t\t\t\t$(tddiv).width( ts.p.subGridModel[0].width[i]);\r\n\t\t\t\t$(trdiv).append(tddiv);\r\n\t\t\t}\r\n\t\t\t$(dummy).append(trdiv);\r\n\t\t\tif (sjxml){\r\n\t\t\t\tsgmap = ts.p.xmlReader.subgrid;\r\n\t\t\t\t$(sgmap.root+\" \"+sgmap.row, sjxml).each( function(){\r\n\t\t\t\t\ttrdiv = $(\"<tr class='ui-widget-content ui-subtblcell'></tr>\");\r\n\t\t\t\t\tif(sgmap.repeatitems === true) {\r\n\t\t\t\t\t\t$(sgmap.cell,this).each( function(i) {\r\n\t\t\t\t\t\t\tsubGridCell(trdiv, $(this).text() || '&#160;',i);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar f = ts.p.subGridModel[0].mapping || ts.p.subGridModel[0].name;\r\n\t\t\t\t\t\tif (f) {\r\n\t\t\t\t\t\t\tfor (i=0;i<f.length;i++) {\r\n\t\t\t\t\t\t\t\tsubGridCell(trdiv, $(f[i],this).text() || '&#160;',i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(dummy).append(trdiv);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tvar pID = $(\"table:first\",ts.grid.bDiv).attr(\"id\")+\"_\";\r\n\t\t\t$(\"#\"+$.jgrid.jqID(pID+sbid)).append(dummy);\r\n\t\t\tts.grid.hDiv.loading = false;\r\n\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).hide();\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar subGridJson = function(sjxml, sbid){\r\n\t\t\tvar tddiv,result,i,cur, sgmap,j,\r\n\t\t\tdummy = $(\"<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>\"),\r\n\t\t\ttrdiv = $(\"<tr></tr>\");\r\n\t\t\tfor (i = 0; i<ts.p.subGridModel[0].name.length; i++) {\r\n\t\t\t\ttddiv = $(\"<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-\"+ts.p.direction+\"'></th>\");\r\n\t\t\t\t$(tddiv).html(ts.p.subGridModel[0].name[i]);\r\n\t\t\t\t$(tddiv).width( ts.p.subGridModel[0].width[i]);\r\n\t\t\t\t$(trdiv).append(tddiv);\r\n\t\t\t}\r\n\t\t\t$(dummy).append(trdiv);\r\n\t\t\tif (sjxml){\r\n\t\t\t\tsgmap = ts.p.jsonReader.subgrid;\r\n\t\t\t\tresult = $.jgrid.getAccessor(sjxml, sgmap.root);\r\n\t\t\t\tif ( result !== undefined ) {\r\n\t\t\t\t\tfor (i=0;i<result.length;i++) {\r\n\t\t\t\t\t\tcur = result[i];\r\n\t\t\t\t\t\ttrdiv = $(\"<tr class='ui-widget-content ui-subtblcell'></tr>\");\r\n\t\t\t\t\t\tif(sgmap.repeatitems === true) {\r\n\t\t\t\t\t\t\tif(sgmap.cell) { cur=cur[sgmap.cell]; }\r\n\t\t\t\t\t\t\tfor (j=0;j<cur.length;j++) {\r\n\t\t\t\t\t\t\t\tsubGridCell(trdiv, cur[j] || '&#160;',j);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar f = ts.p.subGridModel[0].mapping || ts.p.subGridModel[0].name;\r\n\t\t\t\t\t\t\tif(f.length) {\r\n\t\t\t\t\t\t\t\tfor (j=0;j<f.length;j++) {\r\n\t\t\t\t\t\t\t\t\tsubGridCell(trdiv, cur[f[j]] || '&#160;',j);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(dummy).append(trdiv);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar pID = $(\"table:first\",ts.grid.bDiv).attr(\"id\")+\"_\";\r\n\t\t\t$(\"#\"+$.jgrid.jqID(pID+sbid)).append(dummy);\r\n\t\t\tts.grid.hDiv.loading = false;\r\n\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).hide();\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar populatesubgrid = function( rd )\r\n\t\t{\r\n\t\t\tvar sid,dp, i, j;\r\n\t\t\tsid = $(rd).attr(\"id\");\r\n\t\t\tdp = {nd_: (new Date().getTime())};\r\n\t\t\tdp[ts.p.prmNames.subgridid]=sid;\r\n\t\t\tif(!ts.p.subGridModel[0]) { return false; }\r\n\t\t\tif(ts.p.subGridModel[0].params) {\r\n\t\t\t\tfor(j=0; j < ts.p.subGridModel[0].params.length; j++) {\r\n\t\t\t\t\tfor(i=0; i<ts.p.colModel.length; i++) {\r\n\t\t\t\t\t\tif(ts.p.colModel[i].name === ts.p.subGridModel[0].params[j]) {\r\n\t\t\t\t\t\t\tdp[ts.p.colModel[i].name]= $(\"td:eq(\"+i+\")\",rd).text().replace(/\\&#160\\;/ig,'');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!ts.grid.hDiv.loading) {\r\n\t\t\t\tts.grid.hDiv.loading = true;\r\n\t\t\t\t$(\"#load_\"+$.jgrid.jqID(ts.p.id)).show();\r\n\t\t\t\tif(!ts.p.subgridtype) { ts.p.subgridtype = ts.p.datatype; }\r\n\t\t\t\tif($.isFunction(ts.p.subgridtype)) {\r\n\t\t\t\t\tts.p.subgridtype.call(ts, dp);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tts.p.subgridtype = ts.p.subgridtype.toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tswitch(ts.p.subgridtype) {\r\n\t\t\t\t\tcase \"xml\":\r\n\t\t\t\t\tcase \"json\":\r\n\t\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\t\ttype:ts.p.mtype,\r\n\t\t\t\t\t\turl: ts.p.subGridUrl,\r\n\t\t\t\t\t\tdataType:ts.p.subgridtype,\r\n\t\t\t\t\t\tdata: $.isFunction(ts.p.serializeSubGridData)? ts.p.serializeSubGridData.call(ts, dp) : dp,\r\n\t\t\t\t\t\tcomplete: function(sxml) {\r\n\t\t\t\t\t\t\tif(ts.p.subgridtype === \"xml\") {\r\n\t\t\t\t\t\t\t\tsubGridXml(sxml.responseXML, sid);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsubGridJson($.jgrid.parse(sxml.responseText),sid);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsxml=null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, $.jgrid.ajaxOptions, ts.p.ajaxSubgridOptions || {}));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar _id, pID,atd, nhc=0, bfsc, r;\r\n\t\t$.each(ts.p.colModel,function(){\r\n\t\t\tif(this.hidden === true || this.name === 'rn' || this.name === 'cb') {\r\n\t\t\t\tnhc++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar len = ts.rows.length, i=1;\r\n\t\tif( sind !== undefined && sind > 0) {\r\n\t\t\ti = sind;\r\n\t\t\tlen = sind+1;\r\n\t\t}\r\n\t\twhile(i < len) {\r\n\t\t\tif($(ts.rows[i]).hasClass('jqgrow')) {\r\n\t\t\t\t$(ts.rows[i].cells[pos]).bind('click', function() {\r\n\t\t\t\t\tvar tr = $(this).parent(\"tr\")[0];\r\n\t\t\t\t\tr = tr.nextSibling;\r\n\t\t\t\t\tif($(this).hasClass(\"sgcollapsed\")) {\r\n\t\t\t\t\t\tpID = ts.p.id;\r\n\t\t\t\t\t\t_id = tr.id;\r\n\t\t\t\t\t\tif(ts.p.subGridOptions.reloadOnExpand === true || ( ts.p.subGridOptions.reloadOnExpand === false && !$(r).hasClass('ui-subgrid') ) ) {\r\n\t\t\t\t\t\t\tatd = pos >=1 ? \"<td colspan='\"+pos+\"'>&#160;</td>\":\"\";\r\n\t\t\t\t\t\t\tbfsc = $(ts).triggerHandler(\"jqGridSubGridBeforeExpand\", [pID + \"_\" + _id, _id]);\r\n\t\t\t\t\t\t\tbfsc = (bfsc === false || bfsc === 'stop') ? false : true;\r\n\t\t\t\t\t\t\tif(bfsc && $.isFunction(ts.p.subGridBeforeExpand)) {\r\n\t\t\t\t\t\t\t\tbfsc = ts.p.subGridBeforeExpand.call(ts, pID+\"_\"+_id,_id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(bfsc === false) {return false;}\r\n\t\t\t\t\t\t\t$(tr).after( \"<tr role='row' class='ui-subgrid'>\"+atd+\"<td class='ui-widget-content subgrid-cell'><span class='ui-icon \"+ts.p.subGridOptions.openicon+\"'></span></td><td colspan='\"+parseInt(ts.p.colNames.length-1-nhc,10)+\"' class='ui-widget-content subgrid-data'><div id=\"+pID+\"_\"+_id+\" class='tablediv'></div></td></tr>\" );\r\n\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridSubGridRowExpanded\", [pID + \"_\" + _id, _id]);\r\n\t\t\t\t\t\t\tif( $.isFunction(ts.p.subGridRowExpanded)) {\r\n\t\t\t\t\t\t\t\tts.p.subGridRowExpanded.call(ts, pID+\"_\"+ _id,_id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tpopulatesubgrid(tr);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(r).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(this).html(\"<a style='cursor:pointer;'><span class='ui-icon \"+ts.p.subGridOptions.minusicon+\"'></span></a>\").removeClass(\"sgcollapsed\").addClass(\"sgexpanded\");\r\n\t\t\t\t\t\tif(ts.p.subGridOptions.selectOnExpand) {\r\n\t\t\t\t\t\t\t$(ts).jqGrid('setSelection',_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if($(this).hasClass(\"sgexpanded\")) {\r\n\t\t\t\t\t\tbfsc = $(ts).triggerHandler(\"jqGridSubGridRowColapsed\", [pID + \"_\" + _id, _id]);\r\n\t\t\t\t\t\tbfsc = (bfsc === false || bfsc === 'stop') ? false : true;\r\n\t\t\t\t\t\t_id = tr.id;\r\n\t\t\t\t\t\tif( bfsc &&  $.isFunction(ts.p.subGridRowColapsed)) {\r\n\t\t\t\t\t\t\tbfsc = ts.p.subGridRowColapsed.call(ts, pID+\"_\"+_id,_id );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(bfsc===false) {return false;}\r\n\t\t\t\t\t\tif(ts.p.subGridOptions.reloadOnExpand === true) {\r\n\t\t\t\t\t\t\t$(r).remove(\".ui-subgrid\");\r\n\t\t\t\t\t\t} else if($(r).hasClass('ui-subgrid')) { // incase of dynamic deleting\r\n\t\t\t\t\t\t\t$(r).hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(this).html(\"<a style='cursor:pointer;'><span class='ui-icon \"+ts.p.subGridOptions.plusicon+\"'></span></a>\").removeClass(\"sgexpanded\").addClass(\"sgcollapsed\");\r\n\t\t\t\t\t\tif(ts.p.subGridOptions.selectOnCollapse) {\r\n\t\t\t\t\t\t\t$(ts).jqGrid('setSelection',_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tif(ts.p.subGridOptions.expandOnLoad === true) {\r\n\t\t\t$(ts.rows).filter('.jqgrow').each(function(index,row){\r\n\t\t\t\t$(row.cells[0]).click();\r\n\t\t\t});\r\n\t\t}\r\n\t\tts.subGridXml = function(xml,sid) {subGridXml(xml,sid);};\r\n\t\tts.subGridJson = function(json,sid) {subGridJson(json,sid);};\r\n\t});\r\n},\r\nexpandSubGridRow : function(rowid) {\r\n\treturn this.each(function () {\r\n\t\tvar $t = this;\r\n\t\tif(!$t.grid && !rowid) {return;}\r\n\t\tif($t.p.subGrid===true) {\r\n\t\t\tvar rc = $(this).jqGrid(\"getInd\",rowid,true);\r\n\t\t\tif(rc) {\r\n\t\t\t\tvar sgc = $(\"td.sgcollapsed\",rc)[0];\r\n\t\t\t\tif(sgc) {\r\n\t\t\t\t\t$(sgc).trigger(\"click\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n},\r\ncollapseSubGridRow : function(rowid) {\r\n\treturn this.each(function () {\r\n\t\tvar $t = this;\r\n\t\tif(!$t.grid && !rowid) {return;}\r\n\t\tif($t.p.subGrid===true) {\r\n\t\t\tvar rc = $(this).jqGrid(\"getInd\",rowid,true);\r\n\t\t\tif(rc) {\r\n\t\t\t\tvar sgc = $(\"td.sgexpanded\",rc)[0];\r\n\t\t\t\tif(sgc) {\r\n\t\t\t\t\t$(sgc).trigger(\"click\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n},\r\ntoggleSubGridRow : function(rowid) {\r\n\treturn this.each(function () {\r\n\t\tvar $t = this;\r\n\t\tif(!$t.grid && !rowid) {return;}\r\n\t\tif($t.p.subGrid===true) {\r\n\t\t\tvar rc = $(this).jqGrid(\"getInd\",rowid,true);\r\n\t\t\tif(rc) {\r\n\t\t\t\tvar sgc = $(\"td.sgcollapsed\",rc)[0];\r\n\t\t\t\tif(sgc) {\r\n\t\t\t\t\t$(sgc).trigger(\"click\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsgc = $(\"td.sgexpanded\",rc)[0];\r\n\t\t\t\t\tif(sgc) {\r\n\t\t\t\t\t\t$(sgc).trigger(\"click\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n});\r\n})(jQuery);\r\n/**\r\n * jqGrid extension - Tree Grid\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n**/\r\n\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($) {\r\n\"use strict\";\r\n$.jgrid.extend({\r\n\tsetTreeNode : function(i, len){\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif( !$t.grid || !$t.p.treeGrid ) {return;}\r\n\t\t\tvar expCol = $t.p.expColInd,\r\n\t\t\texpanded = $t.p.treeReader.expanded_field,\r\n\t\t\tisLeaf = $t.p.treeReader.leaf_field,\r\n\t\t\tlevel = $t.p.treeReader.level_field,\r\n\t\t\ticon = $t.p.treeReader.icon_field,\r\n\t\t\tloaded = $t.p.treeReader.loaded,  lft, rgt, curLevel, ident,lftpos, twrap,\r\n\t\t\tldat, lf;\r\n\t\t\twhile(i<len) {\r\n\t\t\t\tvar ind = $.jgrid.stripPref($t.p.idPrefix, $t.rows[i].id), dind = $t.p._index[ind], expan;\r\n\t\t\t\tldat = $t.p.data[dind];\r\n\t\t\t\t//$t.rows[i].level = ldat[level];\r\n\t\t\t\tif($t.p.treeGridModel === 'nested') {\r\n\t\t\t\t\tif(!ldat[isLeaf]) {\r\n\t\t\t\t\tlft = parseInt(ldat[$t.p.treeReader.left_field],10);\r\n\t\t\t\t\trgt = parseInt(ldat[$t.p.treeReader.right_field],10);\r\n\t\t\t\t\t// NS Model\r\n\t\t\t\t\t\tldat[isLeaf] = (rgt === lft+1) ? 'true' : 'false';\r\n\t\t\t\t\t\t$t.rows[i].cells[$t.p._treeleafpos].innerHTML = ldat[isLeaf];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//else {\r\n\t\t\t\t\t//row.parent_id = rd[$t.p.treeReader.parent_id_field];\r\n\t\t\t\t//}\r\n\t\t\t\tcurLevel = parseInt(ldat[level],10);\r\n\t\t\t\tif($t.p.tree_root_level === 0) {\r\n\t\t\t\t\tident = curLevel+1;\r\n\t\t\t\t\tlftpos = curLevel;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tident = curLevel;\r\n\t\t\t\t\tlftpos = curLevel -1;\r\n\t\t\t\t}\r\n\t\t\t\ttwrap = \"<div class='tree-wrap tree-wrap-\"+$t.p.direction+\"' style='width:\"+(ident*18)+\"px;'>\";\r\n\t\t\t\ttwrap += \"<div style='\"+($t.p.direction===\"rtl\" ? \"right:\" : \"left:\")+(lftpos*18)+\"px;' class='ui-icon \";\r\n\r\n\r\n\t\t\t\tif(ldat[loaded] !== undefined) {\r\n\t\t\t\t\tif(ldat[loaded]===\"true\" || ldat[loaded]===true) {\r\n\t\t\t\t\t\tldat[loaded] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tldat[loaded] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ldat[isLeaf] === \"true\" || ldat[isLeaf] === true) {\r\n\t\t\t\t\ttwrap += ((ldat[icon] !== undefined && ldat[icon] !== \"\") ? ldat[icon] : $t.p.treeIcons.leaf)+\" tree-leaf treeclick\";\r\n\t\t\t\t\tldat[isLeaf] = true;\r\n\t\t\t\t\tlf=\"leaf\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tldat[isLeaf] = false;\r\n\t\t\t\t\tlf=\"\";\r\n\t\t\t\t}\r\n\t\t\t\tldat[expanded] = ((ldat[expanded] === \"true\" || ldat[expanded] === true) ? true : false) && (ldat[loaded] || ldat[loaded] === undefined);\r\n\t\t\t\tif(ldat[expanded] === false) {\r\n\t\t\t\t\ttwrap += ((ldat[isLeaf] === true) ? \"'\" : $t.p.treeIcons.plus+\" tree-plus treeclick'\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttwrap += ((ldat[isLeaf] === true) ? \"'\" : $t.p.treeIcons.minus+\" tree-minus treeclick'\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttwrap += \"></div></div>\";\r\n\t\t\t\t$($t.rows[i].cells[expCol]).wrapInner(\"<span class='cell-wrapper\"+lf+\"'></span>\").prepend(twrap);\r\n\r\n\t\t\t\tif(curLevel !== parseInt($t.p.tree_root_level,10)) {\r\n\t\t\t\t\tvar pn = $($t).jqGrid('getNodeParent',ldat);\r\n\t\t\t\t\texpan = pn && pn.hasOwnProperty(expanded) ? pn[expanded] : true;\r\n\t\t\t\t\tif( !expan ){\r\n\t\t\t\t\t\t$($t.rows[i]).css(\"display\",\"none\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$($t.rows[i].cells[expCol])\r\n\t\t\t\t\t.find(\"div.treeclick\")\r\n\t\t\t\t\t.bind(\"click\",function(e){\r\n\t\t\t\t\t\tvar target = e.target || e.srcElement,\r\n\t\t\t\t\t\tind2 =$.jgrid.stripPref($t.p.idPrefix,$(target,$t.rows).closest(\"tr.jqgrow\")[0].id),\r\n\t\t\t\t\t\tpos = $t.p._index[ind2];\r\n\t\t\t\t\t\tif(!$t.p.data[pos][isLeaf]){\r\n\t\t\t\t\t\t\tif($t.p.data[pos][expanded]){\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseRow\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseNode\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"expandRow\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"expandNode\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\tif($t.p.ExpandColClick === true) {\r\n\t\t\t\t\t$($t.rows[i].cells[expCol])\r\n\t\t\t\t\t\t.find(\"span.cell-wrapper\")\r\n\t\t\t\t\t\t.css(\"cursor\",\"pointer\")\r\n\t\t\t\t\t\t.bind(\"click\",function(e) {\r\n\t\t\t\t\t\t\tvar target = e.target || e.srcElement,\r\n\t\t\t\t\t\t\tind2 =$.jgrid.stripPref($t.p.idPrefix,$(target,$t.rows).closest(\"tr.jqgrow\")[0].id),\r\n\t\t\t\t\t\t\tpos = $t.p._index[ind2];\r\n\t\t\t\t\t\t\tif(!$t.p.data[pos][isLeaf]){\r\n\t\t\t\t\t\t\t\tif($t.p.data[pos][expanded]){\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseRow\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseNode\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"expandRow\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"expandNode\",$t.p.data[pos]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$($t).jqGrid(\"setSelection\",ind2);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t},\r\n\tsetTreeGrid : function() {\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this, i=0, pico, ecol = false, nm, key, tkey, dupcols=[];\r\n\t\t\tif(!$t.p.treeGrid) {return;}\r\n\t\t\tif(!$t.p.treedatatype ) {$.extend($t.p,{treedatatype: $t.p.datatype});}\r\n\t\t\t$t.p.subGrid = false;$t.p.altRows =false;\r\n\t\t\t$t.p.pgbuttons = false;$t.p.pginput = false;\r\n\t\t\t$t.p.gridview =  true;\r\n\t\t\tif($t.p.rowTotal === null ) { $t.p.rowNum = 10000; }\r\n\t\t\t$t.p.multiselect = false;$t.p.rowList = [];\r\n\t\t\t$t.p.expColInd = 0;\r\n\t\t\tpico = 'ui-icon-triangle-1-' + ($t.p.direction===\"rtl\" ? 'w' : 'e');\r\n\t\t\t$t.p.treeIcons = $.extend({plus:pico,minus:'ui-icon-triangle-1-s',leaf:'ui-icon-radio-off'},$t.p.treeIcons || {});\r\n\t\t\tif($t.p.treeGridModel === 'nested') {\r\n\t\t\t\t$t.p.treeReader = $.extend({\r\n\t\t\t\t\tlevel_field: \"level\",\r\n\t\t\t\t\tleft_field:\"lft\",\r\n\t\t\t\t\tright_field: \"rgt\",\r\n\t\t\t\t\tleaf_field: \"isLeaf\",\r\n\t\t\t\t\texpanded_field: \"expanded\",\r\n\t\t\t\t\tloaded: \"loaded\",\r\n\t\t\t\t\ticon_field: \"icon\"\r\n\t\t\t\t},$t.p.treeReader);\r\n\t\t\t} else if($t.p.treeGridModel === 'adjacency') {\r\n\t\t\t\t$t.p.treeReader = $.extend({\r\n\t\t\t\t\t\tlevel_field: \"level\",\r\n\t\t\t\t\t\tparent_id_field: \"parent\",\r\n\t\t\t\t\t\tleaf_field: \"isLeaf\",\r\n\t\t\t\t\t\texpanded_field: \"expanded\",\r\n\t\t\t\t\t\tloaded: \"loaded\",\r\n\t\t\t\t\t\ticon_field: \"icon\"\r\n\t\t\t\t},$t.p.treeReader );\r\n\t\t\t}\r\n\t\t\tfor ( key in $t.p.colModel){\r\n\t\t\t\tif($t.p.colModel.hasOwnProperty(key)) {\r\n\t\t\t\t\tnm = $t.p.colModel[key].name;\r\n\t\t\t\t\tif( nm === $t.p.ExpandColumn && !ecol ) {\r\n\t\t\t\t\t\tecol = true;\r\n\t\t\t\t\t\t$t.p.expColInd = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t//\r\n\t\t\t\t\tfor(tkey in $t.p.treeReader) {\r\n\t\t\t\t\t\tif($t.p.treeReader.hasOwnProperty(tkey) && $t.p.treeReader[tkey] === nm) {\r\n\t\t\t\t\t\t\tdupcols.push(nm);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$.each($t.p.treeReader,function(j,n){\r\n\t\t\t\tif(n && $.inArray(n, dupcols) === -1){\r\n\t\t\t\t\tif(j==='leaf_field') { $t.p._treeleafpos= i; }\r\n\t\t\t\ti++;\r\n\t\t\t\t\t$t.p.colNames.push(n);\r\n\t\t\t\t\t$t.p.colModel.push({name:n,width:1,hidden:true,sortable:false,resizable:false,hidedlg:true,editable:true,search:false});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\texpandRow: function (record){\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tvar childern = $($t).jqGrid(\"getNodeChildren\",record),\r\n\t\t\t//if ($($t).jqGrid(\"isVisibleNode\",record)) {\r\n\t\t\texpanded = $t.p.treeReader.expanded_field;\r\n\t\t\t$(childern).each(function(){\r\n\t\t\t\tvar id  = $t.p.idPrefix + $.jgrid.getAccessor(this,$t.p.localReader.id);\r\n\t\t\t\t$($($t).jqGrid('getGridRowById', id)).css(\"display\",\"\");\r\n\t\t\t\tif(this[expanded]) {\r\n\t\t\t\t\t$($t).jqGrid(\"expandRow\",this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//}\r\n\t\t});\r\n\t},\r\n\tcollapseRow : function (record) {\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tvar childern = $($t).jqGrid(\"getNodeChildren\",record),\r\n\t\t\texpanded = $t.p.treeReader.expanded_field;\r\n\t\t\t$(childern).each(function(){\r\n\t\t\t\tvar id  = $t.p.idPrefix + $.jgrid.getAccessor(this,$t.p.localReader.id);\r\n\t\t\t\t$($($t).jqGrid('getGridRowById', id)).css(\"display\",\"none\");\r\n\t\t\t\tif(this[expanded]){\r\n\t\t\t\t\t$($t).jqGrid(\"collapseRow\",this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t// NS ,adjacency models\r\n\tgetRootNodes : function() {\r\n\t\tvar result = [];\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tswitch ($t.p.treeGridModel) {\r\n\t\t\t\tcase 'nested' :\r\n\t\t\t\t\tvar level = $t.p.treeReader.level_field;\r\n\t\t\t\t\t$($t.p.data).each(function(){\r\n\t\t\t\t\t\tif(parseInt(this[level],10) === parseInt($t.p.tree_root_level,10)) {\r\n\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'adjacency' :\r\n\t\t\t\t\tvar parent_id = $t.p.treeReader.parent_id_field;\r\n\t\t\t\t\t$($t.p.data).each(function(){\r\n\t\t\t\t\t\tif(this[parent_id] === null || String(this[parent_id]).toLowerCase() === \"null\") {\r\n\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\tgetNodeDepth : function(rc) {\r\n\t\tvar ret = null;\r\n\t\tthis.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar $t = this;\r\n\t\t\tswitch ($t.p.treeGridModel) {\r\n\t\t\t\tcase 'nested' :\r\n\t\t\t\t\tvar level = $t.p.treeReader.level_field;\r\n\t\t\t\t\tret = parseInt(rc[level],10) - parseInt($t.p.tree_root_level,10);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'adjacency' :\r\n\t\t\t\t\tret = $($t).jqGrid(\"getNodeAncestors\",rc).length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t},\r\n\tgetNodeParent : function(rc) {\r\n\t\tvar result = null;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tswitch ($t.p.treeGridModel) {\r\n\t\t\t\tcase 'nested' :\r\n\t\t\t\t\tvar lftc = $t.p.treeReader.left_field,\r\n\t\t\t\t\trgtc = $t.p.treeReader.right_field,\r\n\t\t\t\t\tlevelc = $t.p.treeReader.level_field,\r\n\t\t\t\t\tlft = parseInt(rc[lftc],10), rgt = parseInt(rc[rgtc],10), level = parseInt(rc[levelc],10);\r\n\t\t\t\t\t$(this.p.data).each(function(){\r\n\t\t\t\t\t\tif(parseInt(this[levelc],10) === level-1 && parseInt(this[lftc],10) < lft && parseInt(this[rgtc],10) > rgt) {\r\n\t\t\t\t\t\t\tresult = this;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'adjacency' :\r\n\t\t\t\t\tvar parent_id = $t.p.treeReader.parent_id_field,\r\n\t\t\t\t\tdtid = $t.p.localReader.id;\r\n\t\t\t\t\t$(this.p.data).each(function(){\r\n\t\t\t\t\t\tif(this[dtid] === $.jgrid.stripPref($t.p.idPrefix, rc[parent_id]) ) {\r\n\t\t\t\t\t\t\tresult = this;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\tgetNodeChildren : function(rc) {\r\n\t\tvar result = [];\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tswitch ($t.p.treeGridModel) {\r\n\t\t\t\tcase 'nested' :\r\n\t\t\t\t\tvar lftc = $t.p.treeReader.left_field,\r\n\t\t\t\t\trgtc = $t.p.treeReader.right_field,\r\n\t\t\t\t\tlevelc = $t.p.treeReader.level_field,\r\n\t\t\t\t\tlft = parseInt(rc[lftc],10), rgt = parseInt(rc[rgtc],10), level = parseInt(rc[levelc],10);\r\n\t\t\t\t\t$(this.p.data).each(function(){\r\n\t\t\t\t\t\tif(parseInt(this[levelc],10) === level+1 && parseInt(this[lftc],10) > lft && parseInt(this[rgtc],10) < rgt) {\r\n\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'adjacency' :\r\n\t\t\t\t\tvar parent_id = $t.p.treeReader.parent_id_field,\r\n\t\t\t\t\tdtid = $t.p.localReader.id;\r\n\t\t\t\t\t$(this.p.data).each(function(){\r\n\t\t\t\t\t\tif(this[parent_id] == $.jgrid.stripPref($t.p.idPrefix, rc[dtid])) {\r\n\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\tgetFullTreeNode : function(rc) {\r\n\t\tvar result = [];\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this, len;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tswitch ($t.p.treeGridModel) {\r\n\t\t\t\tcase 'nested' :\r\n\t\t\t\t\tvar lftc = $t.p.treeReader.left_field,\r\n\t\t\t\t\trgtc = $t.p.treeReader.right_field,\r\n\t\t\t\t\tlevelc = $t.p.treeReader.level_field,\r\n\t\t\t\t\tlft = parseInt(rc[lftc],10), rgt = parseInt(rc[rgtc],10), level = parseInt(rc[levelc],10);\r\n\t\t\t\t\t$(this.p.data).each(function(){\r\n\t\t\t\t\t\tif(parseInt(this[levelc],10) >= level && parseInt(this[lftc],10) >= lft && parseInt(this[lftc],10) <= rgt) {\r\n\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'adjacency' :\r\n\t\t\t\t\tif(rc) {\r\n\t\t\t\t\tresult.push(rc);\r\n\t\t\t\t\tvar parent_id = $t.p.treeReader.parent_id_field,\r\n\t\t\t\t\tdtid = $t.p.localReader.id;\r\n\t\t\t\t\t$(this.p.data).each(function(i){\r\n\t\t\t\t\t\tlen = result.length;\r\n\t\t\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\t\t\tif ($.jgrid.stripPref($t.p.idPrefix, result[i][dtid]) === this[parent_id]) {\r\n\t\t\t\t\t\t\t\tresult.push(this);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t// End NS, adjacency Model\r\n\tgetNodeAncestors : function(rc) {\r\n\t\tvar ancestors = [];\r\n\t\tthis.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar parent = $(this).jqGrid(\"getNodeParent\",rc);\r\n\t\t\twhile (parent) {\r\n\t\t\t\tancestors.push(parent);\r\n\t\t\t\tparent = $(this).jqGrid(\"getNodeParent\",parent);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ancestors;\r\n\t},\r\n\tisVisibleNode : function(rc) {\r\n\t\tvar result = true;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tvar ancestors = $($t).jqGrid(\"getNodeAncestors\",rc),\r\n\t\t\texpanded = $t.p.treeReader.expanded_field;\r\n\t\t\t$(ancestors).each(function(){\r\n\t\t\t\tresult = result && this[expanded];\r\n\t\t\t\tif(!result) {return false;}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\tisNodeLoaded : function(rc) {\r\n\t\tvar result;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tvar isLeaf = $t.p.treeReader.leaf_field,\r\n\t\t\tloaded = $t.p.treeReader.loaded;\r\n\t\t\tif(rc !== undefined ) {\r\n\t\t\t\tif(rc[loaded] !== undefined) {\r\n\t\t\t\t\tresult = rc[loaded];\r\n\t\t\t\t} else if( rc[isLeaf] || $($t).jqGrid(\"getNodeChildren\",rc).length > 0){\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\texpandNode : function(rc) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar expanded = this.p.treeReader.expanded_field,\r\n\t\t\tparent = this.p.treeReader.parent_id_field,\r\n\t\t\tloaded = this.p.treeReader.loaded,\r\n\t\t\tlevel = this.p.treeReader.level_field,\r\n\t\t\tlft = this.p.treeReader.left_field,\r\n\t\t\trgt = this.p.treeReader.right_field;\r\n\r\n\t\t\tif(!rc[expanded]) {\r\n\t\t\t\tvar id = $.jgrid.getAccessor(rc,this.p.localReader.id);\r\n\t\t\t\tvar rc1 = $(\"#\" + this.p.idPrefix + $.jgrid.jqID(id),this.grid.bDiv)[0];\r\n\t\t\t\tvar position = this.p._index[id];\r\n\t\t\t\tif( $(this).jqGrid(\"isNodeLoaded\",this.p.data[position]) ) {\r\n\t\t\t\t\trc[expanded] = true;\r\n\t\t\t\t\t$(\"div.treeclick\",rc1).removeClass(this.p.treeIcons.plus+\" tree-plus\").addClass(this.p.treeIcons.minus+\" tree-minus\");\r\n\t\t\t\t} else if (!this.grid.hDiv.loading) {\r\n\t\t\t\t\trc[expanded] = true;\r\n\t\t\t\t\t$(\"div.treeclick\",rc1).removeClass(this.p.treeIcons.plus+\" tree-plus\").addClass(this.p.treeIcons.minus+\" tree-minus\");\r\n\t\t\t\t\tthis.p.treeANode = rc1.rowIndex;\r\n\t\t\t\t\tthis.p.datatype = this.p.treedatatype;\r\n\t\t\t\t\tif(this.p.treeGridModel === 'nested') {\r\n\t\t\t\t\t\t$(this).jqGrid(\"setGridParam\",{postData:{nodeid:id,n_left:rc[lft],n_right:rc[rgt],n_level:rc[level]}});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).jqGrid(\"setGridParam\",{postData:{nodeid:id,parentid:rc[parent],n_level:rc[level]}} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(this).trigger(\"reloadGrid\");\r\n\t\t\t\t\trc[loaded] = true;\r\n\t\t\t\t\tif(this.p.treeGridModel === 'nested') {\r\n\t\t\t\t\t\t$(this).jqGrid(\"setGridParam\",{postData:{nodeid:'',n_left:'',n_right:'',n_level:''}});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).jqGrid(\"setGridParam\",{postData:{nodeid:'',parentid:'',n_level:''}});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tcollapseNode : function(rc) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar expanded = this.p.treeReader.expanded_field;\r\n\t\t\tif(rc[expanded]) {\r\n\t\t\t\trc[expanded] = false;\r\n\t\t\t\tvar id = $.jgrid.getAccessor(rc,this.p.localReader.id);\r\n\t\t\t\tvar rc1 = $(\"#\" + this.p.idPrefix + $.jgrid.jqID(id),this.grid.bDiv)[0];\r\n\t\t\t\t$(\"div.treeclick\",rc1).removeClass(this.p.treeIcons.minus+\" tree-minus\").addClass(this.p.treeIcons.plus+\" tree-plus\");\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tSortTree : function( sortname, newDir, st, datefmt) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar i, len,\r\n\t\t\trec, records = [], $t = this, query, roots,\r\n\t\t\trt = $(this).jqGrid(\"getRootNodes\");\r\n\t\t\t// Sorting roots\r\n\t\t\tquery = $.jgrid.from(rt);\r\n\t\t\tquery.orderBy(sortname,newDir,st, datefmt);\r\n\t\t\troots = query.select();\r\n\r\n\t\t\t// Sorting children\r\n\t\t\tfor (i = 0, len = roots.length; i < len; i++) {\r\n\t\t\t\trec = roots[i];\r\n\t\t\t\trecords.push(rec);\r\n\t\t\t\t$(this).jqGrid(\"collectChildrenSortTree\",records, rec, sortname, newDir,st, datefmt);\r\n\t\t\t}\r\n\t\t\t$.each(records, function(index) {\r\n\t\t\t\tvar id  = $.jgrid.getAccessor(this,$t.p.localReader.id);\r\n\t\t\t\t$('#'+$.jgrid.jqID($t.p.id)+ ' tbody tr:eq('+index+')').after($('tr#'+$.jgrid.jqID(id),$t.grid.bDiv));\r\n\t\t\t});\r\n\t\t\tquery = null;roots=null;records=null;\r\n\t\t});\r\n\t},\r\n\tcollectChildrenSortTree : function(records, rec, sortname, newDir,st, datefmt) {\r\n\t\treturn this.each(function(){\r\n\t\t\tif(!this.grid || !this.p.treeGrid) {return;}\r\n\t\t\tvar i, len,\r\n\t\t\tchild, ch, query, children;\r\n\t\t\tch = $(this).jqGrid(\"getNodeChildren\",rec);\r\n\t\t\tquery = $.jgrid.from(ch);\r\n\t\t\tquery.orderBy(sortname, newDir, st, datefmt);\r\n\t\t\tchildren = query.select();\r\n\t\t\tfor (i = 0, len = children.length; i < len; i++) {\r\n\t\t\t\tchild = children[i];\r\n\t\t\t\trecords.push(child);\r\n\t\t\t\t$(this).jqGrid(\"collectChildrenSortTree\",records, child, sortname, newDir, st, datefmt);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t// experimental\r\n\tsetTreeRow : function(rowid, data) {\r\n\t\tvar success=false;\r\n\t\tthis.each(function(){\r\n\t\t\tvar t = this;\r\n\t\t\tif(!t.grid || !t.p.treeGrid) {return;}\r\n\t\t\tsuccess = $(t).jqGrid(\"setRowData\",rowid,data);\r\n\t\t});\r\n\t\treturn success;\r\n\t},\r\n\tdelTreeNode : function (rowid) {\r\n\t\treturn this.each(function () {\r\n\t\t\tvar $t = this, rid = $t.p.localReader.id, i,\r\n\t\t\tleft = $t.p.treeReader.left_field,\r\n\t\t\tright = $t.p.treeReader.right_field, myright, width, res, key;\r\n\t\t\tif(!$t.grid || !$t.p.treeGrid) {return;}\r\n\t\t\tvar rc = $t.p._index[rowid];\r\n\t\t\tif (rc !== undefined) {\r\n\t\t\t\t// nested\r\n\t\t\t\tmyright = parseInt($t.p.data[rc][right],10);\r\n\t\t\t\twidth = myright -  parseInt($t.p.data[rc][left],10) + 1;\r\n\t\t\t\tvar dr = $($t).jqGrid(\"getFullTreeNode\",$t.p.data[rc]);\r\n\t\t\t\tif(dr.length>0){\r\n\t\t\t\t\tfor (i=0;i<dr.length;i++){\r\n\t\t\t\t\t\t$($t).jqGrid(\"delRowData\",dr[i][rid]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif( $t.p.treeGridModel === \"nested\") {\r\n\t\t\t\t\t// ToDo - update grid data\r\n\t\t\t\t\tres = $.jgrid.from($t.p.data)\r\n\t\t\t\t\t\t.greater(left,myright,{stype:'integer'})\r\n\t\t\t\t\t\t.select();\r\n\t\t\t\t\tif(res.length) {\r\n\t\t\t\t\t\tfor( key in res) {\r\n\t\t\t\t\t\t\tif(res.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tres[key][left] = parseInt(res[key][left],10) - width ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tres = $.jgrid.from($t.p.data)\r\n\t\t\t\t\t\t.greater(right,myright,{stype:'integer'})\r\n\t\t\t\t\t\t.select();\r\n\t\t\t\t\tif(res.length) {\r\n\t\t\t\t\t\tfor( key in res) {\r\n\t\t\t\t\t\t\tif(res.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tres[key][right] = parseInt(res[key][right],10) - width ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\taddChildNode : function( nodeid, parentid, data, expandData ) {\r\n\t\t//return this.each(function(){\r\n\t\tvar $t = this[0];\r\n\t\tif(data) {\r\n\t\t\t// we suppose tha the id is autoincremet and\r\n\t\t\tvar expanded = $t.p.treeReader.expanded_field,\r\n\t\t\tisLeaf = $t.p.treeReader.leaf_field,\r\n\t\t\tlevel = $t.p.treeReader.level_field,\r\n\t\t\t//icon = $t.p.treeReader.icon_field,\r\n\t\t\tparent = $t.p.treeReader.parent_id_field,\r\n\t\t\tleft = $t.p.treeReader.left_field,\r\n\t\t\tright = $t.p.treeReader.right_field,\r\n\t\t\tloaded = $t.p.treeReader.loaded,\r\n\t\t\tmethod, parentindex, parentdata, parentlevel, i, len, max=0, rowind = parentid, leaf, maxright;\r\n\t\t\tif(expandData===undefined) {expandData = false;}\r\n\t\t\tif ( nodeid === undefined || nodeid === null ) {\r\n\t\t\t\ti = $t.p.data.length-1;\r\n\t\t\t\tif(\ti>= 0 ) {\r\n\t\t\t\t\twhile(i>=0){max = Math.max(max, parseInt($t.p.data[i][$t.p.localReader.id],10)); i--;}\r\n\t\t\t\t}\r\n\t\t\t\tnodeid = max+1;\r\n\t\t\t}\r\n\t\t\tvar prow = $($t).jqGrid('getInd', parentid);\r\n\t\t\tleaf = false;\r\n\t\t\t// if not a parent we assume root\r\n\t\t\tif ( parentid === undefined  || parentid === null || parentid===\"\") {\r\n\t\t\t\tparentid = null;\r\n\t\t\t\trowind = null;\r\n\t\t\t\tmethod = 'last';\r\n\t\t\t\tparentlevel = $t.p.tree_root_level;\r\n\t\t\t\ti = $t.p.data.length+1;\r\n\t\t\t} else {\r\n\t\t\t\tmethod = 'after';\r\n\t\t\t\tparentindex = $t.p._index[parentid];\r\n\t\t\t\tparentdata = $t.p.data[parentindex];\r\n\t\t\t\tparentid = parentdata[$t.p.localReader.id];\r\n\t\t\t\tparentlevel = parseInt(parentdata[level],10)+1;\r\n\t\t\t\tvar childs = $($t).jqGrid('getFullTreeNode', parentdata);\r\n\t\t\t\t// if there are child nodes get the last index of it\r\n\t\t\t\tif(childs.length) {\r\n\t\t\t\t\ti = childs[childs.length-1][$t.p.localReader.id];\r\n\t\t\t\t\trowind = i;\r\n\t\t\t\t\ti = $($t).jqGrid('getInd',rowind)+1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ti = $($t).jqGrid('getInd', parentid)+1;\r\n\t\t\t\t}\r\n\t\t\t\t// if the node is leaf\r\n\t\t\t\tif(parentdata[isLeaf]) {\r\n\t\t\t\t\tleaf = true;\r\n\t\t\t\t\tparentdata[expanded] = true;\r\n\t\t\t\t\t//var prow = $($t).jqGrid('getInd', parentid);\r\n\t\t\t\t\t$($t.rows[prow])\r\n\t\t\t\t\t\t.find(\"span.cell-wrapperleaf\").removeClass(\"cell-wrapperleaf\").addClass(\"cell-wrapper\")\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.find(\"div.tree-leaf\").removeClass($t.p.treeIcons.leaf+\" tree-leaf\").addClass($t.p.treeIcons.minus+\" tree-minus\");\r\n\t\t\t\t\t$t.p.data[parentindex][isLeaf] = false;\r\n\t\t\t\t\tparentdata[loaded] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlen = i+1;\r\n\r\n\t\t\tif( data[expanded]===undefined)  {data[expanded]= false;}\r\n\t\t\tif( data[loaded]===undefined )  { data[loaded] = false;}\r\n\t\t\tdata[level] = parentlevel;\r\n\t\t\tif( data[isLeaf]===undefined) {data[isLeaf]= true;}\r\n\t\t\tif( $t.p.treeGridModel === \"adjacency\") {\r\n\t\t\t\tdata[parent] = parentid;\r\n\t\t\t}\r\n\t\t\tif( $t.p.treeGridModel === \"nested\") {\r\n\t\t\t\t// this method requiere more attention\r\n\t\t\t\tvar query, res, key;\r\n\t\t\t\t//maxright = parseInt(maxright,10);\r\n\t\t\t\t// ToDo - update grid data\r\n\t\t\t\tif(parentid !== null) {\r\n\t\t\t\t\tmaxright = parseInt(parentdata[right],10);\r\n\t\t\t\t\tquery = $.jgrid.from($t.p.data);\r\n\t\t\t\t\tquery = query.greaterOrEquals(right,maxright,{stype:'integer'});\r\n\t\t\t\t\tres = query.select();\r\n\t\t\t\t\tif(res.length) {\r\n\t\t\t\t\t\tfor( key in res) {\r\n\t\t\t\t\t\t\tif(res.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tres[key][left] = res[key][left] > maxright ? parseInt(res[key][left],10) +2 : res[key][left];\r\n\t\t\t\t\t\t\t\tres[key][right] = res[key][right] >= maxright ? parseInt(res[key][right],10) +2 : res[key][right];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[left] = maxright;\r\n\t\t\t\t\tdata[right]= maxright+1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmaxright = parseInt( $($t).jqGrid('getCol', right, false, 'max'), 10);\r\n\t\t\t\t\tres = $.jgrid.from($t.p.data)\r\n\t\t\t\t\t\t.greater(left,maxright,{stype:'integer'})\r\n\t\t\t\t\t\t.select();\r\n\t\t\t\t\tif(res.length) {\r\n\t\t\t\t\t\tfor( key in res) {\r\n\t\t\t\t\t\t\tif(res.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tres[key][left] = parseInt(res[key][left],10) +2 ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tres = $.jgrid.from($t.p.data)\r\n\t\t\t\t\t\t.greater(right,maxright,{stype:'integer'})\r\n\t\t\t\t\t\t.select();\r\n\t\t\t\t\tif(res.length) {\r\n\t\t\t\t\t\tfor( key in res) {\r\n\t\t\t\t\t\t\tif(res.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tres[key][right] = parseInt(res[key][right],10) +2 ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[left] = maxright+1;\r\n\t\t\t\t\tdata[right] = maxright + 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( parentid === null || $($t).jqGrid(\"isNodeLoaded\",parentdata) || leaf ) {\r\n\t\t\t\t\t$($t).jqGrid('addRowData', nodeid, data, method, rowind);\r\n\t\t\t\t\t$($t).jqGrid('setTreeNode', i, len);\r\n\t\t\t}\r\n\t\t\tif(parentdata && !parentdata[expanded] && expandData) {\r\n\t\t\t\t$($t.rows[prow])\r\n\t\t\t\t\t.find(\"div.treeclick\")\r\n\t\t\t\t\t.click();\r\n\t\t\t}\r\n\t\t}\r\n\t\t//});\r\n\t}\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false, eqnull:true */\r\n/*global jQuery */\r\n// Grouping module\r\n(function($){\r\n\"use strict\";\r\n$.extend($.jgrid,{\r\n\ttemplate : function(format){ //jqgformat\r\n\t\tvar args = $.makeArray(arguments).slice(1), j, al = args.length;\r\n\t\tif(format==null) { format = \"\"; }\r\n\t\treturn format.replace(/\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?\\}/g, function(m,i){\r\n\t\t\tif(!isNaN(parseInt(i,10))) {\r\n\t\t\t\treturn args[parseInt(i,10)];\r\n\t\t\t}\r\n\t\t\tfor(j=0; j < al;j++) {\r\n\t\t\t\tif($.isArray(args[j])) {\r\n\t\t\t\t\tvar nmarr = args[ j ],\r\n\t\t\t\t\tk = nmarr.length;\r\n\t\t\t\t\twhile(k--) {\r\n\t\t\t\t\t\tif(i===nmarr[k].nm) {\r\n\t\t\t\t\t\t\treturn nmarr[k].v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n$.jgrid.extend({\r\n\tgroupingSetup : function () {\r\n\t\treturn this.each(function (){\r\n\t\t\tvar $t = this, i, j, cml, cm = $t.p.colModel, grp = $t.p.groupingView;\r\n\t\t\tif(grp !== null && ( (typeof grp === 'object') || $.isFunction(grp) ) ) {\r\n\t\t\t\tif(!grp.groupField.length) {\r\n\t\t\t\t\t$t.p.grouping = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (grp.visibiltyOnNextGrouping === undefined) {\r\n\t\t\t\t\t\tgrp.visibiltyOnNextGrouping = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgrp.lastvalues=[];\r\n\t\t\t\t\tif(!grp._locgr) {\r\n\t\t\t\t\t\tgrp.groups =[];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrp.counters =[];\r\n\t\t\t\t\tfor(i=0;i<grp.groupField.length;i++) {\r\n\t\t\t\t\t\tif(!grp.groupOrder[i]) {\r\n\t\t\t\t\t\t\tgrp.groupOrder[i] = 'asc';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!grp.groupText[i]) {\r\n\t\t\t\t\t\t\tgrp.groupText[i] = '{0}';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( typeof grp.groupColumnShow[i] !== 'boolean') {\r\n\t\t\t\t\t\t\tgrp.groupColumnShow[i] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( typeof grp.groupSummary[i] !== 'boolean') {\r\n\t\t\t\t\t\t\tgrp.groupSummary[i] = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( !grp.groupSummaryPos[i]) {\r\n\t\t\t\t\t\t\tgrp.groupSummaryPos[i] = 'footer';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(grp.groupColumnShow[i] === true) {\r\n\t\t\t\t\t\t\tgrp.visibiltyOnNextGrouping[i] = true;\r\n\t\t\t\t\t\t\t$($t).jqGrid('showCol',grp.groupField[i]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tgrp.visibiltyOnNextGrouping[i] = $(\"#\"+$.jgrid.jqID($t.p.id+\"_\"+grp.groupField[i])).is(\":visible\");\r\n\t\t\t\t\t\t\t$($t).jqGrid('hideCol',grp.groupField[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrp.summary =[];\r\n\t\t\t\t\tif(grp.hideFirstGroupCol) {\r\n\t\t\t\t\t\tgrp.formatDisplayField[0] = function (v) { return v;};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(j=0, cml = cm.length; j < cml; j++) {\r\n\t\t\t\t\t\tif(grp.hideFirstGroupCol) {\r\n\t\t\t\t\t\t\tif(!cm[j].hidden && grp.groupField[0] === cm[j].name) {\r\n\t\t\t\t\t\t\t\tcm[j].formatter = function(){return '';};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(cm[j].summaryType ) {\r\n\t\t\t\t\t\t\tif(cm[j].summaryDivider) {\r\n\t\t\t\t\t\t\t\tgrp.summary.push({nm:cm[j].name,st:cm[j].summaryType, v: '', sd:cm[j].summaryDivider, vd:'', sr: cm[j].summaryRound, srt: cm[j].summaryRoundType || 'round'});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tgrp.summary.push({nm:cm[j].name,st:cm[j].summaryType, v: '', sr: cm[j].summaryRound, srt: cm[j].summaryRoundType || 'round'});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$t.p.grouping = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgroupingPrepare : function ( record, irow ) {\r\n\t\tthis.each(function(){\r\n\t\t\tvar grp = this.p.groupingView, $t= this, i,\r\n\t\t\tgrlen = grp.groupField.length,\r\n\t\t\tfieldName,\r\n\t\t\tv,\r\n\t\t\tdisplayName,\r\n\t\t\tdisplayValue,\r\n\t\t\tchanged = 0;\r\n\t\t\tfor(i=0;i<grlen;i++) {\r\n\t\t\t\tfieldName = grp.groupField[i];\r\n\t\t\t\tdisplayName = grp.displayField[i];\r\n\t\t\t\tv = record[fieldName];\r\n\t\t\t\tdisplayValue = displayName == null ? null : record[displayName];\r\n\r\n\t\t\t\tif( displayValue == null ) {\r\n\t\t\t\t\tdisplayValue = v;\r\n\t\t\t\t}\r\n\t\t\t\tif( v !== undefined ) {\r\n\t\t\t\t\tif(irow === 0 ) {\r\n\t\t\t\t\t\t// First record always starts a new group\r\n\t\t\t\t\t\tgrp.groups.push({idx:i,dataIndex:fieldName,value:v, displayValue: displayValue, startRow: irow, cnt:1, summary : [] } );\r\n\t\t\t\t\t\tgrp.lastvalues[i] = v;\r\n\t\t\t\t\t\tgrp.counters[i] = {cnt:1, pos:grp.groups.length-1, summary: $.extend(true,[],grp.summary)};\r\n\t\t\t\t\t\t$.each(grp.counters[i].summary,function() {\r\n\t\t\t\t\t\t\tif ($.isFunction(this.st)) {\r\n\t\t\t\t\t\t\t\tthis.v = this.st.call($t, this.v, this.nm, record);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.v = $($t).jqGrid('groupingCalculations.handler',this.st, this.v, this.nm, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\tif(this.st.toLowerCase() === 'avg' && this.sd) {\r\n\t\t\t\t\t\t\t\t\tthis.vd = $($t).jqGrid('groupingCalculations.handler',this.st, this.vd, this.sd, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgrp.groups[grp.counters[i].pos].summary = grp.counters[i].summary;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (typeof v !== \"object\" && ($.isArray(grp.isInTheSameGroup) && $.isFunction(grp.isInTheSameGroup[i]) ? ! grp.isInTheSameGroup[i].call($t, grp.lastvalues[i], v, i, grp): grp.lastvalues[i] !== v)) {\r\n\t\t\t\t\t\t\t// This record is not in same group as previous one\r\n\t\t\t\t\t\t\tgrp.groups.push({idx:i,dataIndex:fieldName,value:v, displayValue: displayValue, startRow: irow, cnt:1, summary : [] } );\r\n\t\t\t\t\t\t\tgrp.lastvalues[i] = v;\r\n\t\t\t\t\t\t\tchanged = 1;\r\n\t\t\t\t\t\t\tgrp.counters[i] = {cnt:1, pos:grp.groups.length-1, summary: $.extend(true,[],grp.summary)};\r\n\t\t\t\t\t\t\t$.each(grp.counters[i].summary,function() {\r\n\t\t\t\t\t\t\t\tif ($.isFunction(this.st)) {\r\n\t\t\t\t\t\t\t\t\tthis.v = this.st.call($t, this.v, this.nm, record);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.v = $($t).jqGrid('groupingCalculations.handler',this.st, this.v, this.nm, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\tif(this.st.toLowerCase() === 'avg' && this.sd) {\r\n\t\t\t\t\t\t\t\t\t\tthis.vd = $($t).jqGrid('groupingCalculations.handler',this.st, this.vd, this.sd, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tgrp.groups[grp.counters[i].pos].summary = grp.counters[i].summary;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (changed === 1) {\r\n\t\t\t\t\t\t\t\t// This group has changed because an earlier group changed.\r\n\t\t\t\t\t\t\t\tgrp.groups.push({idx:i,dataIndex:fieldName,value:v, displayValue: displayValue, startRow: irow, cnt:1, summary : [] } );\r\n\t\t\t\t\t\t\t\tgrp.lastvalues[i] = v;\r\n\t\t\t\t\t\t\t\tgrp.counters[i] = {cnt:1, pos:grp.groups.length-1, summary: $.extend(true,[],grp.summary)};\r\n\t\t\t\t\t\t\t\t$.each(grp.counters[i].summary,function() {\r\n\t\t\t\t\t\t\t\t\tif ($.isFunction(this.st)) {\r\n\t\t\t\t\t\t\t\t\t\tthis.v = this.st.call($t, this.v, this.nm, record);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.v = $($t).jqGrid('groupingCalculations.handler',this.st, this.v, this.nm, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\t\tif(this.st.toLowerCase() === 'avg' && this.sd) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.vd = $($t).jqGrid('groupingCalculations.handler',this.st, this.vd, this.sd, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tgrp.groups[grp.counters[i].pos].summary = grp.counters[i].summary;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tgrp.counters[i].cnt += 1;\r\n\t\t\t\t\t\t\t\tgrp.groups[grp.counters[i].pos].cnt = grp.counters[i].cnt;\r\n\t\t\t\t\t\t\t\t$.each(grp.counters[i].summary,function() {\r\n\t\t\t\t\t\t\t\t\tif ($.isFunction(this.st)) {\r\n\t\t\t\t\t\t\t\t\t\tthis.v = this.st.call($t, this.v, this.nm, record);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.v = $($t).jqGrid('groupingCalculations.handler',this.st, this.v, this.nm, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\t\tif(this.st.toLowerCase() === 'avg' && this.sd) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.vd = $($t).jqGrid('groupingCalculations.handler',this.st, this.vd, this.sd, this.sr, this.srt, record);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tgrp.groups[grp.counters[i].pos].summary = grp.counters[i].summary;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//gdata.push( rData );\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\tgroupingToggle : function(hid){\r\n\t\tthis.each(function(){\r\n\t\t\tvar $t = this,\r\n\t\t\tgrp = $t.p.groupingView,\r\n\t\t\tstrpos = hid.split('_'),\r\n\t\t\tnum = parseInt(strpos[strpos.length-2], 10);\r\n\t\t\tstrpos.splice(strpos.length-2,2);\r\n\t\t\tvar uid = strpos.join(\"_\"),\r\n\t\t\tminus = grp.minusicon,\r\n\t\t\tplus = grp.plusicon,\r\n\t\t\ttar = $(\"#\"+$.jgrid.jqID(hid)),\r\n\t\t\tr = tar.length ? tar[0].nextSibling : null,\r\n\t\t\ttarspan = $(\"#\"+$.jgrid.jqID(hid)+\" span.\"+\"tree-wrap-\"+$t.p.direction),\r\n\t\t\tgetGroupingLevelFromClass = function (className) {\r\n\t\t\t\tvar nums = $.map(className.split(\" \"), function (item) {\r\n\t\t\t\t\tif (item.substring(0, uid.length + 1) === uid + \"_\") {\r\n\t\t\t\t\t\treturn parseInt(item.substring(uid.length + 1), 10);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn nums.length > 0 ? nums[0] : undefined;\r\n\t\t\t},\r\n\t\t\titemGroupingLevel,\r\n\t\t\tshowData,\r\n\t\t\tcollapsed = false,\r\n\t\t\tfrz = $t.p.frozenColumns ? $t.p.id+\"_frozen\" : false,\r\n\t\t\ttar2 = frz ? $(\"#\"+$.jgrid.jqID(hid), \"#\"+$.jgrid.jqID(frz) ) : false,\r\n\t\t\tr2 = (tar2 && tar2.length) ? tar2[0].nextSibling : null;\r\n\t\t\tif( tarspan.hasClass(minus) ) {\r\n\t\t\t\tif(grp.showSummaryOnHide) {\r\n\t\t\t\t\tif(r){\r\n\t\t\t\t\t\twhile(r) {\r\n\t\t\t\t\t\t\tif($(r).hasClass('jqfoot') ) {\r\n\t\t\t\t\t\t\t\tvar lv = parseInt($(r).attr(\"jqfootlevel\"),10);\r\n\t\t\t\t\t\t\t\tif(  lv <= num) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(r).hide();\r\n\t\t\t\t\t\t\tr = r.nextSibling;\r\n\t\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\t\t$(r2).hide();\r\n\t\t\t\t\t\t\t\tr2 = r2.nextSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else  {\r\n\t\t\t\t\tif(r){\r\n\t\t\t\t\t\twhile(r) {\r\n\t\t\t\t\t\t\titemGroupingLevel = getGroupingLevelFromClass(r.className);\r\n\t\t\t\t\t\t\tif (itemGroupingLevel !== undefined && itemGroupingLevel <= num) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(r).hide();\r\n\t\t\t\t\t\t\tr = r.nextSibling;\r\n\t\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\t\t$(r2).hide();\r\n\t\t\t\t\t\t\t\tr2 = r2.nextSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttarspan.removeClass(minus).addClass(plus);\r\n\t\t\t\tcollapsed = true;\r\n\t\t\t} else {\r\n\t\t\t\tif(r){\r\n\t\t\t\t\tshowData = undefined;\r\n\t\t\t\t\twhile(r) {\r\n\t\t\t\t\t\titemGroupingLevel = getGroupingLevelFromClass(r.className);\r\n\t\t\t\t\t\tif (showData === undefined) {\r\n\t\t\t\t\t\t\tshowData = itemGroupingLevel === undefined; // if the first row after the opening group is data row then show the data rows\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (itemGroupingLevel !== undefined) {\r\n\t\t\t\t\t\t\tif (itemGroupingLevel <= num) {\r\n\t\t\t\t\t\t\t\tbreak;// next item of the same lever are found\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (itemGroupingLevel === num + 1) {\r\n\t\t\t\t\t\t\t\t$(r).show().find(\">td>span.\"+\"tree-wrap-\"+$t.p.direction).removeClass(minus).addClass(plus);\r\n\t\t\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\t\t\t$(r2).show().find(\">td>span.\"+\"tree-wrap-\"+$t.p.direction).removeClass(minus).addClass(plus);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (showData) {\r\n\t\t\t\t\t\t\t$(r).show();\r\n\t\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\t\t$(r2).show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tr = r.nextSibling;\r\n\t\t\t\t\t\tif(frz) {\r\n\t\t\t\t\t\t\tr2 = r2.nextSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttarspan.removeClass(plus).addClass(minus);\r\n\t\t\t}\r\n\t\t\t$($t).triggerHandler(\"jqGridGroupingClickGroup\", [hid , collapsed]);\r\n\t\t\tif( $.isFunction($t.p.onClickGroup)) { $t.p.onClickGroup.call($t, hid , collapsed); }\r\n\r\n\t\t});\r\n\t\treturn false;\r\n\t},\r\n\tgroupingRender : function (grdata, colspans, page, rn ) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this,\r\n\t\t\tgrp = $t.p.groupingView,\r\n\t\t\tstr = \"\", icon = \"\", hid, clid, pmrtl = grp.groupCollapse ? grp.plusicon : grp.minusicon, gv, cp=[], len =grp.groupField.length;\r\n\t\t\tpmrtl += \" tree-wrap-\"+$t.p.direction;\r\n\t\t\t$.each($t.p.colModel, function (i,n){\r\n\t\t\t\tvar ii;\r\n\t\t\t\tfor(ii=0;ii<len;ii++) {\r\n\t\t\t\t\tif(grp.groupField[ii] === n.name ) {\r\n\t\t\t\t\t\tcp[ii] = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tvar toEnd = 0;\r\n\t\t\tfunction findGroupIdx( ind , offset, grp) {\r\n\t\t\t\tvar ret = false, i;\r\n\t\t\t\tif(offset===0) {\r\n\t\t\t\t\tret = grp[ind];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar id = grp[ind].idx;\r\n\t\t\t\t\tif(id===0) {\r\n\t\t\t\t\t\tret = grp[ind];\r\n\t\t\t\t\t}  else {\r\n\t\t\t\t\t\tfor(i=ind;i >= 0; i--) {\r\n\t\t\t\t\t\t\tif(grp[i].idx === id-offset) {\r\n\t\t\t\t\t\t\t\tret = grp[i];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t\tfunction buildSummaryTd(i, ik, grp, foffset) {\r\n\t\t\t\tvar fdata = findGroupIdx(i, ik, grp),\r\n\t\t\t\tcm = $t.p.colModel,\r\n\t\t\t\tvv, grlen = fdata.cnt, str=\"\", k;\r\n\t\t\t\tfor(k=foffset; k<colspans;k++) {\r\n\t\t\t\t\tvar tmpdata = \"<td \"+$t.formatCol(k,1,'')+\">&#160;</td>\",\r\n\t\t\t\t\ttplfld = \"{0}\";\r\n\t\t\t\t\t$.each(fdata.summary,function(){\r\n\t\t\t\t\t\tif(this.nm === cm[k].name) {\r\n\t\t\t\t\t\t\tif(cm[k].summaryTpl)  {\r\n\t\t\t\t\t\t\t\ttplfld = cm[k].summaryTpl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(typeof this.st === 'string' && this.st.toLowerCase() === 'avg') {\r\n\t\t\t\t\t\t\t\tif(this.sd && this.vd) {\r\n\t\t\t\t\t\t\t\t\tthis.v = (this.v/this.vd);\r\n\t\t\t\t\t\t\t\t} else if(this.v && grlen > 0) {\r\n\t\t\t\t\t\t\t\t\tthis.v = (this.v/grlen);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tthis.groupCount = fdata.cnt;\r\n\t\t\t\t\t\t\t\tthis.groupIndex = fdata.dataIndex;\r\n\t\t\t\t\t\t\t\tthis.groupValue = fdata.value;\r\n\t\t\t\t\t\t\t\tvv = $t.formatter('', this.v, k, this);\r\n\t\t\t\t\t\t\t} catch (ef) {\r\n\t\t\t\t\t\t\t\tvv = this.v;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttmpdata= \"<td \"+$t.formatCol(k,1,'')+\">\"+$.jgrid.format(tplfld,vv)+ \"</td>\";\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstr += tmpdata;\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\tvar sumreverse = $.makeArray(grp.groupSummary);\r\n\t\t\tsumreverse.reverse();\r\n\t\t\t$.each(grp.groups,function(i,n){\r\n\t\t\t\tif(grp._locgr) {\r\n\t\t\t\t\tif( !(n.startRow +n.cnt > (page-1)*rn && n.startRow < page*rn)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttoEnd++;\r\n\t\t\t\tclid = $t.p.id+\"ghead_\"+n.idx;\r\n\t\t\t\thid = clid+\"_\"+i;\r\n\t\t\t\ticon = \"<span style='cursor:pointer;' class='ui-icon \"+pmrtl+\"' onclick=\\\"jQuery('#\"+$.jgrid.jqID($t.p.id)+\"').jqGrid('groupingToggle','\"+hid+\"');return false;\\\"></span>\";\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif ($.isArray(grp.formatDisplayField) && $.isFunction(grp.formatDisplayField[n.idx])) {\r\n\t\t\t\t\t\tn.displayValue = grp.formatDisplayField[n.idx].call($t, n.displayValue, n.value, $t.p.colModel[cp[n.idx]], n.idx, grp);\r\n\t\t\t\t\t\tgv = n.displayValue;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgv = $t.formatter(hid, n.displayValue, cp[n.idx], n.value );\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (egv) {\r\n\t\t\t\t\tgv = n.displayValue;\r\n\t\t\t\t}\r\n\t\t\t\tif(grp.groupSummaryPos[n.idx] === 'header')  {\r\n\t\t\t\t\tstr += \"<tr id=\\\"\"+hid+\"\\\"\" +(grp.groupCollapse && n.idx>0 ? \" style=\\\"display:none;\\\" \" : \" \") + \"role=\\\"row\\\" class= \\\"ui-widget-content jqgroup ui-row-\"+$t.p.direction+\" \"+clid+\"\\\"><td style=\\\"padding-left:\"+(n.idx * 12) + \"px;\"+\"\\\">\"+icon+$.jgrid.template(grp.groupText[n.idx], gv, n.cnt, n.summary)+\"</td>\";\r\n\t\t\t\t\tstr += buildSummaryTd(i, n.idx-1, grp.groups, 1);\r\n\t\t\t\t\tstr += \"</tr>\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstr += \"<tr id=\\\"\"+hid+\"\\\"\" +(grp.groupCollapse && n.idx>0 ? \" style=\\\"display:none;\\\" \" : \" \") + \"role=\\\"row\\\" class= \\\"ui-widget-content jqgroup ui-row-\"+$t.p.direction+\" \"+clid+\"\\\"><td style=\\\"padding-left:\"+(n.idx * 12) + \"px;\"+\"\\\" colspan=\\\"\"+colspans+\"\\\">\"+icon+$.jgrid.template(grp.groupText[n.idx], gv, n.cnt, n.summary)+\"</td></tr>\";\r\n\t\t\t\t}\r\n\t\t\t\tvar leaf = len-1 === n.idx;\r\n\t\t\t\tif( leaf ) {\r\n\t\t\t\t\tvar gg = grp.groups[i+1], kk, ik, offset = 0, sgr = n.startRow,\r\n\t\t\t\t\tend = gg !== undefined ?  grp.groups[i+1].startRow : grdata.length;\r\n\t\t\t\t\tif(grp._locgr) {\r\n\t\t\t\t\t\toffset = (page-1)*rn;\r\n\t\t\t\t\t\tif(offset > n.startRow) {\r\n\t\t\t\t\t\t\tsgr = offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(kk=sgr;kk<end;kk++) {\r\n\t\t\t\t\t\tif(!grdata[kk - offset]) { break; }\r\n\t\t\t\t\t\tstr += grdata[kk - offset].join('');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(grp.groupSummaryPos[n.idx] !== 'header') {\r\n\t\t\t\t\t\tvar jj;\r\n\t\t\t\t\t\tif (gg !== undefined) {\r\n\t\t\t\t\t\t\tfor (jj = 0; jj < grp.groupField.length; jj++) {\r\n\t\t\t\t\t\t\t\tif (gg.dataIndex === grp.groupField[jj]) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttoEnd = grp.groupField.length - jj;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (ik = 0; ik < toEnd; ik++) {\r\n\t\t\t\t\t\t\tif(!sumreverse[ik]) { continue; }\r\n\t\t\t\t\t\t\tvar hhdr = \"\";\r\n\t\t\t\t\t\t\tif(grp.groupCollapse && !grp.showSummaryOnHide) {\r\n\t\t\t\t\t\t\t\thhdr = \" style=\\\"display:none;\\\"\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstr += \"<tr\"+hhdr+\" jqfootlevel=\\\"\"+(n.idx-ik)+\"\\\" role=\\\"row\\\" class=\\\"ui-widget-content jqfoot ui-row-\"+$t.p.direction+\"\\\">\";\r\n\t\t\t\t\t\t\tstr += buildSummaryTd(i, ik, grp.groups, 0);\r\n\t\t\t\t\t\t\tstr += \"</tr>\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttoEnd = jj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first\").append(str);\r\n\t\t\t// free up memory\r\n\t\t\tstr = null;\r\n\t\t});\r\n\t},\r\n\tgroupingGroupBy : function (name, options ) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(typeof name === \"string\") {\r\n\t\t\t\tname = [name];\r\n\t\t\t}\r\n\t\t\tvar grp = $t.p.groupingView;\r\n\t\t\t$t.p.grouping = true;\r\n\r\n\t\t\t//Set default, in case visibilityOnNextGrouping is undefined\r\n\t\t\tif (grp.visibiltyOnNextGrouping === undefined) {\r\n\t\t\t\tgrp.visibiltyOnNextGrouping = [];\r\n\t\t\t}\r\n\t\t\tvar i;\r\n\t\t\t// show previous hidden groups if they are hidden and weren't removed yet\r\n\t\t\tfor(i=0;i<grp.groupField.length;i++) {\r\n\t\t\t\tif(!grp.groupColumnShow[i] && grp.visibiltyOnNextGrouping[i]) {\r\n\t\t\t\t$($t).jqGrid('showCol',grp.groupField[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// set visibility status of current group columns on next grouping\r\n\t\t\tfor(i=0;i<name.length;i++) {\r\n\t\t\t\tgrp.visibiltyOnNextGrouping[i] = $(\"#\"+$.jgrid.jqID($t.p.id)+\"_\"+$.jgrid.jqID(name[i])).is(\":visible\");\r\n\t\t\t}\r\n\t\t\t$t.p.groupingView = $.extend($t.p.groupingView, options || {});\r\n\t\t\tgrp.groupField = name;\r\n\t\t\t$($t).trigger(\"reloadGrid\");\r\n\t\t});\r\n\t},\r\n\tgroupingRemove : function (current) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(current === undefined) {\r\n\t\t\t\tcurrent = true;\r\n\t\t\t}\r\n\t\t\t$t.p.grouping = false;\r\n\t\t\tif(current===true) {\r\n\t\t\t\tvar grp = $t.p.groupingView, i;\r\n\t\t\t\t// show previous hidden groups if they are hidden and weren't removed yet\r\n\t\t\t\tfor(i=0;i<grp.groupField.length;i++) {\r\n\t\t\t\tif (!grp.groupColumnShow[i] && grp.visibiltyOnNextGrouping[i]) {\r\n\t\t\t\t\t\t$($t).jqGrid('showCol', grp.groupField);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$(\"tr.jqgroup, tr.jqfoot\",\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first\").remove();\r\n\t\t\t\t$(\"tr.jqgrow:hidden\",\"#\"+$.jgrid.jqID($t.p.id)+\" tbody:first\").show();\r\n\t\t\t} else {\r\n\t\t\t\t$($t).trigger(\"reloadGrid\");\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgroupingCalculations : {\r\n\t\thandler: function(fn, v, field, round, roundType, rc) {\r\n\t\t\tvar funcs = {\r\n\t\t\t\tsum: function() {\r\n\t\t\t\t\treturn parseFloat(v||0) + parseFloat((rc[field]||0));\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmin: function() {\r\n\t\t\t\t\tif(v===\"\") {\r\n\t\t\t\t\t\treturn parseFloat(rc[field]||0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Math.min(parseFloat(v),parseFloat(rc[field]||0));\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmax: function() {\r\n\t\t\t\t\tif(v===\"\") {\r\n\t\t\t\t\t\treturn parseFloat(rc[field]||0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Math.max(parseFloat(v),parseFloat(rc[field]||0));\r\n\t\t\t\t},\r\n\r\n\t\t\t\tcount: function() {\r\n\t\t\t\t\tif(v===\"\") {v=0;}\r\n\t\t\t\t\tif(rc.hasOwnProperty(field)) {\r\n\t\t\t\t\t\treturn v+1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tavg: function() {\r\n\t\t\t\t\t// the same as sum, but at end we divide it\r\n\t\t\t\t\t// so use sum instead of duplicating the code (?)\r\n\t\t\t\t\treturn funcs.sum();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif(!funcs[fn]) {\r\n\t\t\t\tthrow (\"jqGrid Grouping No such method: \" + fn);\r\n\t\t\t}\r\n\t\t\tvar res = funcs[fn]();\r\n\r\n\t\t\tif (round != null) {\r\n\t\t\t\tif (roundType === 'fixed') {\r\n\t\t\t\t\tres = res.toFixed(round);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar mul = Math.pow(10, round);\r\n\t\t\t\t\tres = Math.round(res * mul) / mul;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t}\r\n\t}\r\n});\r\n})(jQuery);\r\n/*jshint eqeqeq:false, eqnull:true, devel:true */\r\n/*global jQuery, xmlJsonClass */\r\n(function($){\r\n/*\r\n * jqGrid extension for constructing Grid Data from external file\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n**/\r\n\r\n\"use strict\";\r\n    $.jgrid.extend({\r\n        jqGridImport : function(o) {\r\n            o = $.extend({\r\n                imptype : \"xml\", // xml, json, xmlstring, jsonstring\r\n                impstring: \"\",\r\n                impurl: \"\",\r\n                mtype: \"GET\",\r\n                impData : {},\r\n                xmlGrid :{\r\n                    config : \"roots>grid\",\r\n                    data: \"roots>rows\"\r\n                },\r\n                jsonGrid :{\r\n                    config : \"grid\",\r\n                    data: \"data\"\r\n                },\r\n                ajaxOptions :{}\r\n            }, o || {});\r\n            return this.each(function(){\r\n                var $t = this;\r\n                var xmlConvert = function (xml,o) {\r\n                    var cnfg = $(o.xmlGrid.config,xml)[0];\r\n                    var xmldata = $(o.xmlGrid.data,xml)[0], jstr, jstr1, key;\r\n                    if(xmlJsonClass.xml2json && $.jgrid.parse) {\r\n                        jstr = xmlJsonClass.xml2json(cnfg,\" \");\r\n                        jstr = $.jgrid.parse(jstr);\r\n                        for(key in jstr) {\r\n                            if(jstr.hasOwnProperty(key)) {\r\n                                jstr1=jstr[key];\r\n                            }\r\n                        }\r\n                        if(xmldata) {\r\n                        // save the datatype\r\n                            var svdatatype = jstr.grid.datatype;\r\n                            jstr.grid.datatype = 'xmlstring';\r\n                            jstr.grid.datastr = xml;\r\n                            $($t).jqGrid( jstr1 ).jqGrid(\"setGridParam\",{datatype:svdatatype});\r\n                        } else {\r\n                            $($t).jqGrid( jstr1 );\r\n                        }\r\n                        jstr = null;jstr1=null;\r\n                    } else {\r\n                        alert(\"xml2json or parse are not present\");\r\n                    }\r\n                };\r\n                var jsonConvert = function (jsonstr,o){\r\n                    if (jsonstr && typeof jsonstr === 'string') {\r\n\t\t\t\t\t\tvar _jsonparse = false;\r\n\t\t\t\t\t\tif($.jgrid.useJSON) {\r\n\t\t\t\t\t\t\t$.jgrid.useJSON = false;\r\n\t\t\t\t\t\t\t_jsonparse = true;\r\n\t\t\t\t\t\t}\r\n                        var json = $.jgrid.parse(jsonstr);\r\n\t\t\t\t\t\tif(_jsonparse) { $.jgrid.useJSON = true; }\r\n                        var gprm = json[o.jsonGrid.config];\r\n                        var jdata = json[o.jsonGrid.data];\r\n                        if(jdata) {\r\n                            var svdatatype = gprm.datatype;\r\n                            gprm.datatype = 'jsonstring';\r\n                            gprm.datastr = jdata;\r\n                            $($t).jqGrid( gprm ).jqGrid(\"setGridParam\",{datatype:svdatatype});\r\n                        } else {\r\n                            $($t).jqGrid( gprm );\r\n                        }\r\n                    }\r\n                };\r\n                switch (o.imptype){\r\n                    case 'xml':\r\n                        $.ajax($.extend({\r\n                            url:o.impurl,\r\n                            type:o.mtype,\r\n                            data: o.impData,\r\n                            dataType:\"xml\",\r\n                            complete: function(xml,stat) {\r\n                                if(stat === 'success') {\r\n                                    xmlConvert(xml.responseXML,o);\r\n                                    $($t).triggerHandler(\"jqGridImportComplete\", [xml, o]);\r\n                                    if($.isFunction(o.importComplete)) {\r\n                                        o.importComplete(xml);\r\n                                    }\r\n                                }\r\n                                xml=null;\r\n                            }\r\n                        }, o.ajaxOptions));\r\n                        break;\r\n                    case 'xmlstring' :\r\n                        // we need to make just the conversion and use the same code as xml\r\n                        if(o.impstring && typeof o.impstring === 'string') {\r\n                            var xmld = $.parseXML(o.impstring);\r\n                            if(xmld) {\r\n                                xmlConvert(xmld,o);\r\n                                $($t).triggerHandler(\"jqGridImportComplete\", [xmld, o]);\r\n                                if($.isFunction(o.importComplete)) {\r\n                                    o.importComplete(xmld);\r\n                                }\r\n                                o.impstring = null;\r\n                            }\r\n                            xmld = null;\r\n                        }\r\n                        break;\r\n                    case 'json':\r\n                        $.ajax($.extend({\r\n                            url:o.impurl,\r\n                            type:o.mtype,\r\n                            data: o.impData,\r\n                            dataType:\"json\",\r\n                            complete: function(json) {\r\n                                try {\r\n                                    jsonConvert(json.responseText,o );\r\n                                    $($t).triggerHandler(\"jqGridImportComplete\", [json, o]);\r\n                                    if($.isFunction(o.importComplete)) {\r\n                                        o.importComplete(json);\r\n                                    }\r\n                                } catch (ee){}\r\n                                json=null;\r\n                            }\r\n                        }, o.ajaxOptions ));\r\n                        break;\r\n                    case 'jsonstring' :\r\n                        if(o.impstring && typeof o.impstring === 'string') {\r\n                            jsonConvert(o.impstring,o );\r\n                            $($t).triggerHandler(\"jqGridImportComplete\", [o.impstring, o]);\r\n                            if($.isFunction(o.importComplete)) {\r\n                                o.importComplete(o.impstring);\r\n                            }\r\n                            o.impstring = null;\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n        },\r\n        jqGridExport : function(o) {\r\n            o = $.extend({\r\n                exptype : \"xmlstring\",\r\n                root: \"grid\",\r\n                ident: \"\\t\"\r\n            }, o || {});\r\n            var ret = null;\r\n            this.each(function () {\r\n                if(!this.grid) { return;}\r\n                var key, gprm = $.extend(true, {},$(this).jqGrid(\"getGridParam\"));\r\n                // we need to check for:\r\n                // 1.multiselect, 2.subgrid  3. treegrid and remove the unneded columns from colNames\r\n                if(gprm.rownumbers) {\r\n                    gprm.colNames.splice(0,1);\r\n                    gprm.colModel.splice(0,1);\r\n                }\r\n                if(gprm.multiselect) {\r\n                    gprm.colNames.splice(0,1);\r\n                    gprm.colModel.splice(0,1);\r\n                }\r\n                if(gprm.subGrid) {\r\n                    gprm.colNames.splice(0,1);\r\n                    gprm.colModel.splice(0,1);\r\n                }\r\n                gprm.knv = null;\r\n                if(gprm.treeGrid) {\r\n                    for (key in gprm.treeReader) {\r\n                        if(gprm.treeReader.hasOwnProperty(key)) {\r\n                            gprm.colNames.splice(gprm.colNames.length-1);\r\n                            gprm.colModel.splice(gprm.colModel.length-1);\r\n                        }\r\n                    }\r\n                }\r\n                switch (o.exptype) {\r\n                    case 'xmlstring' :\r\n                        ret = \"<\"+o.root+\">\"+xmlJsonClass.json2xml(gprm,o.ident)+\"</\"+o.root+\">\";\r\n                        break;\r\n                    case 'jsonstring' :\r\n                        ret = \"{\"+ xmlJsonClass.toJson(gprm,o.root,o.ident,false)+\"}\";\r\n                        if(gprm.postData.filters !== undefined) {\r\n                            ret=ret.replace(/filters\":\"/,'filters\":');\r\n                            ret=ret.replace(/}]}\"/,'}]}');\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n            return ret;\r\n        },\r\n        excelExport : function(o) {\r\n            o = $.extend({\r\n                exptype : \"remote\",\r\n                url : null,\r\n                oper: \"oper\",\r\n                tag: \"excel\",\r\n                exportOptions : {}\r\n            }, o || {});\r\n            return this.each(function(){\r\n                if(!this.grid) { return;}\r\n                var url;\r\n                if(o.exptype === \"remote\") {\r\n                    var pdata = $.extend({},this.p.postData);\r\n                    pdata[o.oper] = o.tag;\r\n                    var params = jQuery.param(pdata);\r\n                    if(o.url.indexOf(\"?\") !== -1) { url = o.url+\"&\"+params; }\r\n                    else { url = o.url+\"?\"+params; }\r\n                    window.location = url;\r\n                }\r\n            });\r\n        }\r\n    });\r\n})(jQuery);\r\n/*jshint evil:true, eqeqeq:false, eqnull:true, devel:true */\r\n/*global jQuery */\r\n(function($){\r\n/*\r\n**\r\n * jqGrid addons using jQuery UI\r\n * Author: Mark Williams\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n * depends on jQuery UI\r\n**/\r\n\"use strict\";\r\nif ($.jgrid.msie && $.jgrid.msiever()===8) {\r\n\t$.expr[\":\"].hidden = function(elem) {\r\n\t\treturn elem.offsetWidth === 0 || elem.offsetHeight === 0 ||\r\n\t\t\telem.style.display === \"none\";\r\n\t};\r\n}\r\n// requiere load multiselect before grid\r\n$.jgrid._multiselect = false;\r\nif($.ui) {\r\n\tif ($.ui.multiselect ) {\r\n\t\tif($.ui.multiselect.prototype._setSelected) {\r\n\t\t\tvar setSelected = $.ui.multiselect.prototype._setSelected;\r\n\t\t\t$.ui.multiselect.prototype._setSelected = function(item,selected) {\r\n\t\t\t\tvar ret = setSelected.call(this,item,selected);\r\n\t\t\t\tif (selected && this.selectedList) {\r\n\t\t\t\t\tvar elt = this.element;\r\n\t\t\t\t\tthis.selectedList.find('li').each(function() {\r\n\t\t\t\t\t\tif ($(this).data('optionLink')) {\r\n\t\t\t\t\t\t\t$(this).data('optionLink').remove().appendTo(elt);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t};\r\n\t\t}\r\n\t\tif($.ui.multiselect.prototype.destroy) {\r\n\t\t\t$.ui.multiselect.prototype.destroy = function() {\r\n\t\t\t\tthis.element.show();\r\n\t\t\t\tthis.container.remove();\r\n\t\t\t\tif ($.Widget === undefined) {\r\n\t\t\t\t\t$.widget.prototype.destroy.apply(this, arguments);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.Widget.prototype.destroy.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t$.jgrid._multiselect = true;\r\n\t}\r\n}\r\n\r\n$.jgrid.extend({\r\n\tsortableColumns : function (tblrow)\r\n\t{\r\n\t\treturn this.each(function (){\r\n\t\t\tvar ts = this, tid= $.jgrid.jqID( ts.p.id );\r\n\t\t\tfunction start() {ts.p.disableClick = true;}\r\n\t\t\tvar sortable_opts = {\r\n\t\t\t\t\"tolerance\" : \"pointer\",\r\n\t\t\t\t\"axis\" : \"x\",\r\n\t\t\t\t\"scrollSensitivity\": \"1\",\r\n\t\t\t\t\"items\": '>th:not(:has(#jqgh_'+tid+'_cb'+',#jqgh_'+tid+'_rn'+',#jqgh_'+tid+'_subgrid),:hidden)',\r\n\t\t\t\t\"placeholder\": {\r\n\t\t\t\t\telement: function(item) {\r\n\t\t\t\t\t\tvar el = $(document.createElement(item[0].nodeName))\r\n\t\t\t\t\t\t.addClass(item[0].className+\" ui-sortable-placeholder ui-state-highlight\")\r\n\t\t\t\t\t\t.removeClass(\"ui-sortable-helper\")[0];\r\n\t\t\t\t\t\treturn el;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdate: function(self, p) {\r\n\t\t\t\t\t\tp.height(self.currentItem.innerHeight() - parseInt(self.currentItem.css('paddingTop')||0, 10) - parseInt(self.currentItem.css('paddingBottom')||0, 10));\r\n\t\t\t\t\t\tp.width(self.currentItem.innerWidth() - parseInt(self.currentItem.css('paddingLeft')||0, 10) - parseInt(self.currentItem.css('paddingRight')||0, 10));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"update\": function(event, ui) {\r\n\t\t\t\t\tvar p = $(ui.item).parent(),\r\n\t\t\t\t\tth = $(\">th\", p),\r\n\t\t\t\t\tcolModel = ts.p.colModel,\r\n\t\t\t\t\tcmMap = {}, tid= ts.p.id+\"_\";\r\n\t\t\t\t\t$.each(colModel, function(i) { cmMap[this.name]=i; });\r\n\t\t\t\t\tvar permutation = [];\r\n\t\t\t\t\tth.each(function() {\r\n\t\t\t\t\t\tvar id = $(\">div\", this).get(0).id.replace(/^jqgh_/, \"\").replace(tid,\"\");\r\n\t\t\t\t\t\t\tif (cmMap.hasOwnProperty(id)) {\r\n\t\t\t\t\t\t\t\tpermutation.push(cmMap[id]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(ts).jqGrid(\"remapColumns\",permutation, true, true);\r\n\t\t\t\t\tif ($.isFunction(ts.p.sortable.update)) {\r\n\t\t\t\t\t\tts.p.sortable.update(permutation);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function(){ts.p.disableClick=false;}, 50);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (ts.p.sortable.options) {\r\n\t\t\t\t$.extend(sortable_opts, ts.p.sortable.options);\r\n\t\t\t} else if ($.isFunction(ts.p.sortable)) {\r\n\t\t\t\tts.p.sortable = { \"update\" : ts.p.sortable };\r\n\t\t\t}\r\n\t\t\tif (sortable_opts.start) {\r\n\t\t\t\tvar s = sortable_opts.start;\r\n\t\t\t\tsortable_opts.start = function(e,ui) {\r\n\t\t\t\t\tstart();\r\n\t\t\t\t\ts.call(this,e,ui);\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tsortable_opts.start = start;\r\n\t\t\t}\r\n\t\t\tif (ts.p.sortable.exclude) {\r\n\t\t\t\tsortable_opts.items += \":not(\"+ts.p.sortable.exclude+\")\";\r\n\t\t\t}\r\n\t\t\ttblrow.sortable(sortable_opts).data(\"sortable\").floating = true;\r\n\t\t});\r\n\t},\r\n    columnChooser : function(opts) {\r\n        var self = this;\r\n\t\tif($(\"#colchooser_\"+$.jgrid.jqID(self[0].p.id)).length ) { return; }\r\n        var selector = $('<div id=\"colchooser_'+self[0].p.id+'\" style=\"position:relative;overflow:hidden\"><div><select multiple=\"multiple\"></select></div></div>');\r\n        var select = $('select', selector);\r\n\r\n\t\tfunction insert(perm,i,v) {\r\n\t\t\tif(i>=0){\r\n\t\t\t\tvar a = perm.slice();\r\n\t\t\t\tvar b = a.splice(i,Math.max(perm.length-i,i));\r\n\t\t\t\tif(i>perm.length) { i = perm.length; }\r\n\t\t\t\ta[i] = v;\r\n\t\t\t\treturn a.concat(b);\r\n\t\t\t}\r\n\t\t}\r\n        opts = $.extend({\r\n            \"width\" : 420,\r\n            \"height\" : 240,\r\n            \"classname\" : null,\r\n            \"done\" : function(perm) { if (perm) { self.jqGrid(\"remapColumns\", perm, true); } },\r\n            /* msel is either the name of a ui widget class that\r\n               extends a multiselect, or a function that supports\r\n               creating a multiselect object (with no argument,\r\n               or when passed an object), and destroying it (when\r\n               passed the string \"destroy\"). */\r\n            \"msel\" : \"multiselect\",\r\n            /* \"msel_opts\" : {}, */\r\n\r\n            /* dlog is either the name of a ui widget class that\r\n               behaves in a dialog-like way, or a function, that\r\n               supports creating a dialog (when passed dlog_opts)\r\n               or destroying a dialog (when passed the string\r\n               \"destroy\")\r\n               */\r\n            \"dlog\" : \"dialog\",\r\n\t\t\t\"dialog_opts\" : {\r\n\t\t\t\t\"minWidth\": 470\r\n\t\t\t},\r\n            /* dlog_opts is either an option object to be passed\r\n               to \"dlog\", or (more likely) a function that creates\r\n               the options object.\r\n               The default produces a suitable options object for\r\n               ui.dialog */\r\n            \"dlog_opts\" : function(opts) {\r\n                var buttons = {};\r\n                buttons[opts.bSubmit] = function() {\r\n                    opts.apply_perm();\r\n                    opts.cleanup(false);\r\n                };\r\n                buttons[opts.bCancel] = function() {\r\n                    opts.cleanup(true);\r\n                };\r\n                return $.extend(true, {\r\n                    \"buttons\": buttons,\r\n                    \"close\": function() {\r\n                        opts.cleanup(true);\r\n                    },\r\n\t\t\t\t\t\"modal\" : opts.modal || false,\r\n\t\t\t\t\t\"resizable\": opts.resizable || true,\r\n                    \"width\": opts.width+20\r\n                }, opts.dialog_opts || {});\r\n            },\r\n            /* Function to get the permutation array, and pass it to the\r\n               \"done\" function */\r\n            \"apply_perm\" : function() {\r\n                $('option',select).each(function() {\r\n                    if (this.selected) {\r\n                        self.jqGrid(\"showCol\", colModel[this.value].name);\r\n                    } else {\r\n                        self.jqGrid(\"hideCol\", colModel[this.value].name);\r\n                    }\r\n                });\r\n\r\n                var perm = [];\r\n\t\t\t\t//fixedCols.slice(0);\r\n                $('option:selected',select).each(function() { perm.push(parseInt(this.value,10)); });\r\n                $.each(perm, function() { delete colMap[colModel[parseInt(this,10)].name]; });\r\n                $.each(colMap, function() {\r\n\t\t\t\t\tvar ti = parseInt(this,10);\r\n\t\t\t\t\tperm = insert(perm,ti,ti);\r\n\t\t\t\t});\r\n                if (opts.done) {\r\n                    opts.done.call(self, perm);\r\n                }\r\n            },\r\n            /* Function to cleanup the dialog, and select. Also calls the\r\n               done function with no permutation (to indicate that the\r\n               columnChooser was aborted */\r\n            \"cleanup\" : function(calldone) {\r\n                call(opts.dlog, selector, 'destroy');\r\n                call(opts.msel, select, 'destroy');\r\n                selector.remove();\r\n                if (calldone && opts.done) {\r\n                    opts.done.call(self);\r\n                }\r\n            },\r\n\t\t\t\"msel_opts\" : {}\r\n        }, $.jgrid.col, opts || {});\r\n\t\tif($.ui) {\r\n\t\t\tif ($.ui.multiselect ) {\r\n\t\t\t\tif(opts.msel === \"multiselect\") {\r\n\t\t\t\t\tif(!$.jgrid._multiselect) {\r\n\t\t\t\t\t\t// should be in language file\r\n\t\t\t\t\t\talert(\"Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.msel_opts = $.extend($.ui.multiselect.defaults,opts.msel_opts);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n        if (opts.caption) {\r\n            selector.attr(\"title\", opts.caption);\r\n        }\r\n        if (opts.classname) {\r\n            selector.addClass(opts.classname);\r\n            select.addClass(opts.classname);\r\n        }\r\n        if (opts.width) {\r\n            $(\">div\",selector).css({\"width\": opts.width,\"margin\":\"0 auto\"});\r\n            select.css(\"width\", opts.width);\r\n        }\r\n        if (opts.height) {\r\n            $(\">div\",selector).css(\"height\", opts.height);\r\n            select.css(\"height\", opts.height - 10);\r\n        }\r\n        var colModel = self.jqGrid(\"getGridParam\", \"colModel\");\r\n        var colNames = self.jqGrid(\"getGridParam\", \"colNames\");\r\n        var colMap = {}, fixedCols = [];\r\n\r\n        select.empty();\r\n        $.each(colModel, function(i) {\r\n            colMap[this.name] = i;\r\n            if (this.hidedlg) {\r\n                if (!this.hidden) {\r\n                    fixedCols.push(i);\r\n                }\r\n                return;\r\n            }\r\n\r\n            select.append(\"<option value='\"+i+\"' \"+\r\n                          (this.hidden?\"\":\"selected='selected'\")+\">\"+$.jgrid.stripHtml(colNames[i])+\"</option>\");\r\n        });\r\n        function call(fn, obj) {\r\n            if (!fn) { return; }\r\n            if (typeof fn === 'string') {\r\n                if ($.fn[fn]) {\r\n                    $.fn[fn].apply(obj, $.makeArray(arguments).slice(2));\r\n                }\r\n            } else if ($.isFunction(fn)) {\r\n                fn.apply(obj, $.makeArray(arguments).slice(2));\r\n            }\r\n        }\r\n\r\n        var dopts = $.isFunction(opts.dlog_opts) ? opts.dlog_opts.call(self, opts) : opts.dlog_opts;\r\n        call(opts.dlog, selector, dopts);\r\n        var mopts = $.isFunction(opts.msel_opts) ? opts.msel_opts.call(self, opts) : opts.msel_opts;\r\n        call(opts.msel, select, mopts);\r\n    },\r\n\tsortableRows : function (opts) {\r\n\t\t// Can accept all sortable options and events\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\t\t\tif(!$t.grid) { return; }\r\n\t\t\t// Currently we disable a treeGrid sortable\r\n\t\t\tif($t.p.treeGrid) { return; }\r\n\t\t\tif($.fn.sortable) {\r\n\t\t\t\topts = $.extend({\r\n\t\t\t\t\t\"cursor\":\"move\",\r\n\t\t\t\t\t\"axis\" : \"y\",\r\n\t\t\t\t\t\"items\": \".jqgrow\"\r\n\t\t\t\t\t},\r\n\t\t\t\topts || {});\r\n\t\t\t\tif(opts.start && $.isFunction(opts.start)) {\r\n\t\t\t\t\topts._start_ = opts.start;\r\n\t\t\t\t\tdelete opts.start;\r\n\t\t\t\t} else {opts._start_=false;}\r\n\t\t\t\tif(opts.update && $.isFunction(opts.update)) {\r\n\t\t\t\t\topts._update_ = opts.update;\r\n\t\t\t\t\tdelete opts.update;\r\n\t\t\t\t} else {opts._update_ = false;}\r\n\t\t\t\topts.start = function(ev,ui) {\r\n\t\t\t\t\t$(ui.item).css(\"border-width\",\"0\");\r\n\t\t\t\t\t$(\"td\",ui.item).each(function(i){\r\n\t\t\t\t\t\tthis.style.width = $t.grid.cols[i].style.width;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif($t.p.subGrid) {\r\n\t\t\t\t\t\tvar subgid = $(ui.item).attr(\"id\");\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t$($t).jqGrid('collapseSubGridRow',subgid);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(opts._start_) {\r\n\t\t\t\t\t\topts._start_.apply(this,[ev,ui]);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\topts.update = function (ev,ui) {\r\n\t\t\t\t\t$(ui.item).css(\"border-width\",\"\");\r\n\t\t\t\t\tif($t.p.rownumbers === true) {\r\n\t\t\t\t\t\t$(\"td.jqgrid-rownum\",$t.rows).each(function( i ){\r\n\t\t\t\t\t\t\t$(this).html( i+1+(parseInt($t.p.page,10)-1)*parseInt($t.p.rowNum,10) );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(opts._update_) {\r\n\t\t\t\t\t\topts._update_.apply(this,[ev,ui]);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t$(\"tbody:first\",$t).sortable(opts);\r\n\t\t\t\t$(\"tbody:first\",$t).disableSelection();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgridDnD : function(opts) {\r\n\t\treturn this.each(function(){\r\n\t\tvar $t = this, i, cn;\r\n\t\tif(!$t.grid) { return; }\r\n\t\t// Currently we disable a treeGrid drag and drop\r\n\t\tif($t.p.treeGrid) { return; }\r\n\t\tif(!$.fn.draggable || !$.fn.droppable) { return; }\r\n\t\tfunction updateDnD ()\r\n\t\t{\r\n\t\t\tvar datadnd = $.data($t,\"dnd\");\r\n\t\t\t$(\"tr.jqgrow:not(.ui-draggable)\",$t).draggable($.isFunction(datadnd.drag) ? datadnd.drag.call($($t),datadnd) : datadnd.drag);\r\n\t\t}\r\n\t\tvar appender = \"<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>\";\r\n\t\tif($(\"#jqgrid_dnd\")[0] === undefined) {\r\n\t\t\t$('body').append(appender);\r\n\t\t}\r\n\r\n\t\tif(typeof opts === 'string' && opts === 'updateDnD' && $t.p.jqgdnd===true) {\r\n\t\t\tupdateDnD();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\topts = $.extend({\r\n\t\t\t\"drag\" : function (opts) {\r\n\t\t\t\treturn $.extend({\r\n\t\t\t\t\tstart : function (ev, ui) {\r\n\t\t\t\t\t\tvar i, subgid;\r\n\t\t\t\t\t\t// if we are in subgrid mode try to collapse the node\r\n\t\t\t\t\t\tif($t.p.subGrid) {\r\n\t\t\t\t\t\t\tsubgid = $(ui.helper).attr(\"id\");\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t$($t).jqGrid('collapseSubGridRow',subgid);\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// hack\r\n\t\t\t\t\t\t// drag and drop does not insert tr in table, when the table has no rows\r\n\t\t\t\t\t\t// we try to insert new empty row on the target(s)\r\n\t\t\t\t\t\tfor (i=0;i<$.data($t,\"dnd\").connectWith.length;i++){\r\n\t\t\t\t\t\t\tif($($.data($t,\"dnd\").connectWith[i]).jqGrid('getGridParam','reccount') === 0 ){\r\n\t\t\t\t\t\t\t\t$($.data($t,\"dnd\").connectWith[i]).jqGrid('addRowData','jqg_empty_row',{});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tui.helper.addClass(\"ui-state-highlight\");\r\n\t\t\t\t\t\t$(\"td\",ui.helper).each(function(i) {\r\n\t\t\t\t\t\t\tthis.style.width = $t.grid.headers[i].width+\"px\";\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(opts.onstart && $.isFunction(opts.onstart) ) { opts.onstart.call($($t),ev,ui); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstop :function(ev,ui) {\r\n\t\t\t\t\t\tvar i, ids;\r\n\t\t\t\t\t\tif(ui.helper.dropped && !opts.dragcopy) {\r\n\t\t\t\t\t\t\tids = $(ui.helper).attr(\"id\");\r\n\t\t\t\t\t\t\tif(ids === undefined) { ids = $(this).attr(\"id\"); }\r\n\t\t\t\t\t\t\t$($t).jqGrid('delRowData',ids );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// if we have a empty row inserted from start event try to delete it\r\n\t\t\t\t\t\tfor (i=0;i<$.data($t,\"dnd\").connectWith.length;i++){\r\n\t\t\t\t\t\t\t$($.data($t,\"dnd\").connectWith[i]).jqGrid('delRowData','jqg_empty_row');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(opts.onstop && $.isFunction(opts.onstop) ) { opts.onstop.call($($t),ev,ui); }\r\n\t\t\t\t\t}\r\n\t\t\t\t},opts.drag_opts || {});\r\n\t\t\t},\r\n\t\t\t\"drop\" : function (opts) {\r\n\t\t\t\treturn $.extend({\r\n\t\t\t\t\taccept: function(d) {\r\n\t\t\t\t\t\tif (!$(d).hasClass('jqgrow')) { return d;}\r\n\t\t\t\t\t\tvar tid = $(d).closest(\"table.ui-jqgrid-btable\");\r\n\t\t\t\t\t\tif(tid.length > 0 && $.data(tid[0],\"dnd\") !== undefined) {\r\n\t\t\t\t\t\t\tvar cn = $.data(tid[0],\"dnd\").connectWith;\r\n\t\t\t\t\t\t\treturn $.inArray('#'+$.jgrid.jqID(this.id),cn) !== -1 ? true : false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrop: function(ev, ui) {\r\n\t\t\t\t\t\tif (!$(ui.draggable).hasClass('jqgrow')) { return; }\r\n\t\t\t\t\t\tvar accept = $(ui.draggable).attr(\"id\");\r\n\t\t\t\t\t\tvar getdata = ui.draggable.parent().parent().jqGrid('getRowData',accept);\r\n\t\t\t\t\t\tif(!opts.dropbyname) {\r\n\t\t\t\t\t\t\tvar j =0, tmpdata = {}, nm, key;\r\n\t\t\t\t\t\t\tvar dropmodel = $(\"#\"+$.jgrid.jqID(this.id)).jqGrid('getGridParam','colModel');\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tfor (key in getdata) {\r\n\t\t\t\t\t\t\t\t\tif (getdata.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\t\tnm = dropmodel[j].name;\r\n\t\t\t\t\t\t\t\t\tif( !(nm === 'cb' || nm === 'rn' || nm === 'subgrid' )) {\r\n\t\t\t\t\t\t\t\t\t\tif(getdata.hasOwnProperty(key) && dropmodel[j]) {\r\n\t\t\t\t\t\t\t\t\t\t\ttmpdata[nm] = getdata[key];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tgetdata = tmpdata;\r\n\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tui.helper.dropped = true;\r\n\t\t\t\t\t\tif(opts.beforedrop && $.isFunction(opts.beforedrop) ) {\r\n\t\t\t\t\t\t\t//parameters to this callback - event, element, data to be inserted, sender, reciever\r\n\t\t\t\t\t\t\t// should return object which will be inserted into the reciever\r\n\t\t\t\t\t\t\tvar datatoinsert = opts.beforedrop.call(this,ev,ui,getdata,$('#'+$.jgrid.jqID($t.p.id)),$(this));\r\n\t\t\t\t\t\t\tif (datatoinsert !== undefined && datatoinsert !== null && typeof datatoinsert === \"object\") { getdata = datatoinsert; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(ui.helper.dropped) {\r\n\t\t\t\t\t\t\tvar grid;\r\n\t\t\t\t\t\t\tif(opts.autoid) {\r\n\t\t\t\t\t\t\t\tif($.isFunction(opts.autoid)) {\r\n\t\t\t\t\t\t\t\t\tgrid = opts.autoid.call(this,getdata);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tgrid = Math.ceil(Math.random()*1000);\r\n\t\t\t\t\t\t\t\t\tgrid = opts.autoidprefix+grid;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// NULL is interpreted as undefined while null as object\r\n\t\t\t\t\t\t\t$(\"#\"+$.jgrid.jqID(this.id)).jqGrid('addRowData',grid,getdata,opts.droppos);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(opts.ondrop && $.isFunction(opts.ondrop) ) { opts.ondrop.call(this,ev,ui, getdata); }\r\n\t\t\t\t\t}}, opts.drop_opts || {});\r\n\t\t\t},\r\n\t\t\t\"onstart\" : null,\r\n\t\t\t\"onstop\" : null,\r\n\t\t\t\"beforedrop\": null,\r\n\t\t\t\"ondrop\" : null,\r\n\t\t\t\"drop_opts\" : {\r\n\t\t\t\t\"activeClass\": \"ui-state-active\",\r\n\t\t\t\t\"hoverClass\": \"ui-state-hover\"\r\n\t\t\t},\r\n\t\t\t\"drag_opts\" : {\r\n\t\t\t\t\"revert\": \"invalid\",\r\n\t\t\t\t\"helper\": \"clone\",\r\n\t\t\t\t\"cursor\": \"move\",\r\n\t\t\t\t\"appendTo\" : \"#jqgrid_dnd\",\r\n\t\t\t\t\"zIndex\": 5000\r\n\t\t\t},\r\n\t\t\t\"dragcopy\": false,\r\n\t\t\t\"dropbyname\" : false,\r\n\t\t\t\"droppos\" : \"first\",\r\n\t\t\t\"autoid\" : true,\r\n\t\t\t\"autoidprefix\" : \"dnd_\"\r\n\t\t}, opts || {});\r\n\r\n\t\tif(!opts.connectWith) { return; }\r\n\t\topts.connectWith = opts.connectWith.split(\",\");\r\n\t\topts.connectWith = $.map(opts.connectWith,function(n){return $.trim(n);});\r\n\t\t$.data($t,\"dnd\",opts);\r\n\r\n\t\tif($t.p.reccount !== 0 && !$t.p.jqgdnd) {\r\n\t\t\tupdateDnD();\r\n\t\t}\r\n\t\t$t.p.jqgdnd = true;\r\n\t\tfor (i=0;i<opts.connectWith.length;i++){\r\n\t\t\tcn =opts.connectWith[i];\r\n\t\t\t$(cn).droppable($.isFunction(opts.drop) ? opts.drop.call($($t),opts) : opts.drop);\r\n\t\t}\r\n\t\t});\r\n\t},\r\n\tgridResize : function(opts) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this, gID = $.jgrid.jqID($t.p.id);\r\n\t\t\tif(!$t.grid || !$.fn.resizable) { return; }\r\n\t\t\topts = $.extend({}, opts || {});\r\n\t\t\tif(opts.alsoResize ) {\r\n\t\t\t\topts._alsoResize_ = opts.alsoResize;\r\n\t\t\t\tdelete opts.alsoResize;\r\n\t\t\t} else {\r\n\t\t\t\topts._alsoResize_ = false;\r\n\t\t\t}\r\n\t\t\tif(opts.stop && $.isFunction(opts.stop)) {\r\n\t\t\t\topts._stop_ = opts.stop;\r\n\t\t\t\tdelete opts.stop;\r\n\t\t\t} else {\r\n\t\t\t\topts._stop_ = false;\r\n\t\t\t}\r\n\t\t\topts.stop = function (ev, ui) {\r\n\t\t\t\t$($t).jqGrid('setGridParam',{height:$(\"#gview_\"+gID+\" .ui-jqgrid-bdiv\").height()});\r\n\t\t\t\t$($t).jqGrid('setGridWidth',ui.size.width,opts.shrinkToFit);\r\n\t\t\t\tif(opts._stop_) { opts._stop_.call($t,ev,ui); }\r\n\t\t\t};\r\n\t\t\tif(opts._alsoResize_) {\r\n\t\t\t\tvar optstest = \"{\\'#gview_\"+gID+\" .ui-jqgrid-bdiv\\':true,'\" +opts._alsoResize_+\"':true}\";\r\n\t\t\t\topts.alsoResize = eval('('+optstest+')'); // the only way that I found to do this\r\n\t\t\t} else {\r\n\t\t\t\topts.alsoResize = $(\".ui-jqgrid-bdiv\",\"#gview_\"+gID);\r\n\t\t\t}\r\n\t\t\tdelete opts._alsoResize_;\r\n\t\t\t$(\"#gbox_\"+gID).resizable(opts);\r\n\t\t});\r\n\t}\r\n});\r\n})(jQuery);\r\n/*\r\n Transform a table to a jqGrid.\r\n Peter Romianowski <peter.romianowski@optivo.de>\r\n If the first column of the table contains checkboxes or\r\n radiobuttons then the jqGrid is made selectable.\r\n*/\r\n// Addition - selector can be a class or id\r\nfunction tableToGrid(selector, options) {\r\njQuery(selector).each(function() {\r\n\tif(this.grid) {return;} //Adedd from Tony Tomov\r\n\t// This is a small \"hack\" to make the width of the jqGrid 100%\r\n\tjQuery(this).width(\"99%\");\r\n\tvar w = jQuery(this).width();\r\n\r\n\t// Text whether we have single or multi select\r\n\tvar inputCheckbox = jQuery('tr td:first-child input[type=checkbox]:first', jQuery(this));\r\n\tvar inputRadio = jQuery('tr td:first-child input[type=radio]:first', jQuery(this));\r\n\tvar selectMultiple = inputCheckbox.length > 0;\r\n\tvar selectSingle = !selectMultiple && inputRadio.length > 0;\r\n\tvar selectable = selectMultiple || selectSingle;\r\n\t//var inputName = inputCheckbox.attr(\"name\") || inputRadio.attr(\"name\");\r\n\r\n\t// Build up the columnModel and the data\r\n\tvar colModel = [];\r\n\tvar colNames = [];\r\n\tjQuery('th', jQuery(this)).each(function() {\r\n\t\tif (colModel.length === 0 && selectable) {\r\n\t\t\tcolModel.push({\r\n\t\t\t\tname: '__selection__',\r\n\t\t\t\tindex: '__selection__',\r\n\t\t\t\twidth: 0,\r\n\t\t\t\thidden: true\r\n\t\t\t});\r\n\t\t\tcolNames.push('__selection__');\r\n\t\t} else {\r\n\t\t\tcolModel.push({\r\n\t\t\t\tname: jQuery(this).attr(\"id\") || jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(' ').join('_'),\r\n\t\t\t\tindex: jQuery(this).attr(\"id\") || jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(' ').join('_'),\r\n\t\t\t\twidth: jQuery(this).width() || 150\r\n\t\t\t});\r\n\t\t\tcolNames.push(jQuery(this).html());\r\n\t\t}\r\n\t});\r\n\tvar data = [];\r\n\tvar rowIds = [];\r\n\tvar rowChecked = [];\r\n\tjQuery('tbody > tr', jQuery(this)).each(function() {\r\n\t\tvar row = {};\r\n\t\tvar rowPos = 0;\r\n\t\tjQuery('td', jQuery(this)).each(function() {\r\n\t\t\tif (rowPos === 0 && selectable) {\r\n\t\t\t\tvar input = jQuery('input', jQuery(this));\r\n\t\t\t\tvar rowId = input.attr(\"value\");\r\n\t\t\t\trowIds.push(rowId || data.length);\r\n\t\t\t\tif (input.is(\":checked\")) {\r\n\t\t\t\t\trowChecked.push(rowId);\r\n\t\t\t\t}\r\n\t\t\t\trow[colModel[rowPos].name] = input.attr(\"value\");\r\n\t\t\t} else {\r\n\t\t\t\trow[colModel[rowPos].name] = jQuery(this).html();\r\n\t\t\t}\r\n\t\t\trowPos++;\r\n\t\t});\r\n\t\tif(rowPos >0) { data.push(row); }\r\n\t});\r\n\r\n\t// Clear the original HTML table\r\n\tjQuery(this).empty();\r\n\r\n\t// Mark it as jqGrid\r\n\tjQuery(this).addClass(\"scroll\");\r\n\r\n\tjQuery(this).jqGrid(jQuery.extend({\r\n\t\tdatatype: \"local\",\r\n\t\twidth: w,\r\n\t\tcolNames: colNames,\r\n\t\tcolModel: colModel,\r\n\t\tmultiselect: selectMultiple\r\n\t\t//inputName: inputName,\r\n\t\t//inputValueCol: imputName != null ? \"__selection__\" : null\r\n\t}, options || {}));\r\n\r\n\t// Add data\r\n\tvar a;\r\n\tfor (a = 0; a < data.length; a++) {\r\n\t\tvar id = null;\r\n\t\tif (rowIds.length > 0) {\r\n\t\t\tid = rowIds[a];\r\n\t\t\tif (id && id.replace) {\r\n\t\t\t\t// We have to do this since the value of a checkbox\r\n\t\t\t\t// or radio button can be anything\r\n\t\t\t\tid = encodeURIComponent(id).replace(/[.\\-%]/g, \"_\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (id === null) {\r\n\t\t\tid = a + 1;\r\n\t\t}\r\n\t\tjQuery(this).jqGrid(\"addRowData\",id, data[a]);\r\n\t}\r\n\r\n\t// Set the selection\r\n\tfor (a = 0; a < rowChecked.length; a++) {\r\n\t\tjQuery(this).jqGrid(\"setSelection\",rowChecked[a]);\r\n\t}\r\n});\r\n};\r\n/*jshint eqeqeq:false */\r\n/*global jQuery */\r\n(function($){\r\n/**\r\n * jqGrid pivot functions\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n*/\r\n\"use strict\";\r\n// To optimize the search we need custom array filter\r\n// This code is taken from\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\r\n\r\nfunction _pivotfilter (fn, context) {\r\n\tvar i,\r\n\t\tvalue,\r\n\t\tresult = [],\r\n\t\tlength;\r\n\r\n\tif (!this || typeof fn !== 'function' || (fn instanceof RegExp)) {\r\n\t\tthrow new TypeError();\r\n\t}\r\n\r\n\tlength = this.length;\r\n\r\n\tfor (i = 0; i < length; i++) {\r\n\t\tif (this.hasOwnProperty(i)) {\r\n\t\t\tvalue = this[i];\r\n\t\t\tif (fn.call(context, value, i, this)) {\r\n\t\t\t\tresult.push(value);\r\n\t\t\t\t// We need break in order to cancel loop\r\n\t\t\t\t// in case the row is found\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n$.assocArraySize = function(obj) {\r\n    // http://stackoverflow.com/a/6700/11236\r\n    var size = 0, key;\r\n    for (key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n        \tsize++;\r\n        }\r\n    }\r\n    return size;\r\n};\r\n\r\n$.jgrid.extend({\r\n\tpivotSetup : function( data, options ){\r\n\t\t// data should come in json format\r\n\t\t// The function return the new colModel and the transformed data\r\n\t\t// again with group setup options which then will be passed to the grid\r\n\t\tvar columns =[],\r\n\t\tpivotrows =[],\r\n\t\tsummaries = [],\r\n\t\tmember=[],\r\n\t\tgroupOptions = {\r\n\t\t\tgrouping : true,\r\n\t\t\tgroupingView :  {\r\n\t\t\t\tgroupField : [],\r\n\t\t\t\tgroupSummary: [],\r\n\t\t\t\tgroupSummaryPos:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\theaders = [],\r\n\t\to = $.extend ( {\r\n\t\t\trowTotals : false,\r\n\t\t\trowTotalsText : 'Total',\r\n\t\t\t// summary columns\r\n\t\t\tcolTotals : false,\r\n\t\t\tgroupSummary : true,\r\n\t\t\tgroupSummaryPos :  'header',\r\n\t\t\tfrozenStaticCols : false\r\n\t\t}, options || {});\r\n\t\tthis.each(function(){\r\n\r\n\t\t\tvar\r\n\t\t\t\trow,\r\n\t\t\t\trowindex,\r\n\t\t\t\ti,\r\n\r\n\t\t\t\trowlen = data.length,\r\n\t\t\t\txlen, ylen, aggrlen,\r\n\t\t\t\ttmp,\r\n\t\t\t\tnewObj,\r\n\t\t\t\tr=0;\r\n\t\t\t// utility funcs\r\n\t\t\t/*\r\n\t\t\t * Filter the data to a given criteria. Return the firt occurance\r\n\t\t\t */\r\n\t\t\tfunction find(ar, fun, extra) {\r\n\t\t\t\tvar res;\r\n\t\t\t\tres = _pivotfilter.call(ar, fun, extra);\r\n\t\t\t\treturn res.length > 0 ? res[0] : null;\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * Check if the grouped row column exist (See find)\r\n\t\t\t * If the row is not find in pivot rows retun null,\r\n\t\t\t * otherviese the column\r\n\t\t\t */\r\n\t\t\tfunction findGroup(item, index) {\r\n\t\t\t\tvar j = 0, ret = true, i;\r\n\t\t\t\tfor(i in item) {\r\n\t\t\t\t\tif(item[i] != this[j]) {\r\n\t\t\t\t\t\tret =  false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tj++;\r\n\t\t\t\t\tif(j>=this.length) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(ret) {\r\n\t\t\t\t\trowindex =  index;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * Perform calculations of the pivot values.\r\n\t\t\t */\r\n\t\t\tfunction calculation(oper, v, field, rc)  {\r\n\t\t\t\tvar ret;\r\n\t\t\t\tswitch (oper) {\r\n\t\t\t\t\tcase  \"sum\" :\r\n\t\t\t\t\t\tret = parseFloat(v||0) + parseFloat((rc[field]||0));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"count\" :\r\n\t\t\t\t\t\tif(v===\"\" || v == null) {\r\n\t\t\t\t\t\t\tv=0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(rc.hasOwnProperty(field)) {\r\n\t\t\t\t\t\t\tret = v+1;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tret = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"min\" :\r\n\t\t\t\t\t\tif(v===\"\" || v == null) {\r\n\t\t\t\t\t\t\tret = parseFloat(rc[field]||0);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tret =Math.min(parseFloat(v),parseFloat(rc[field]||0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"max\" :\r\n\t\t\t\t\t\tif(v===\"\" || v == null) {\r\n\t\t\t\t\t\t\tret = parseFloat(rc[field]||0);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tret = Math.max(parseFloat(v),parseFloat(rc[field]||0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * The function agragates the values of the pivot grid.\r\n\t\t\t * Return the current row with pivot summary values\r\n\t\t\t */\r\n\t\t\tfunction agregateFunc ( row, aggr, value, curr) {\r\n\t\t\t\t// default is sum\r\n\t\t\t\tvar arrln = aggr.length, i, label, j, jv;\r\n\t\t\t\tif($.isArray(value)) {\r\n\t\t\t\t\tjv = value.length;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjv = 1;\r\n\t\t\t\t}\r\n\t\t\t\tmember = [];\r\n\t\t\t\tmember.root = 0;\r\n\t\t\t\tfor(j=0;j<jv;j++) {\r\n\t\t\t\t\tvar  tmpmember = [], vl;\r\n\t\t\t\t\tfor(i=0; i < arrln; i++) {\r\n\t\t\t\t\t\tif(value == null) {\r\n\t\t\t\t\t\t\tlabel = $.trim(aggr[i].member)+\"_\"+aggr[i].aggregator;\r\n\t\t\t\t\t\t\tvl = label;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvl = value[j].replace(/\\s+/g, '');\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tlabel = (arrln === 1 ? vl : vl+\"_\"+aggr[i].aggregator+\"_\"+i);\r\n\t\t\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcurr[label] =  tmpmember[label] = calculation( aggr[i].aggregator, curr[label], aggr[i].member, row);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmember[vl] = tmpmember;\r\n\t\t\t\t}\r\n\t\t\t\treturn curr;\r\n\t\t\t}\r\n\t\t\t// Making the row totals without to add in yDimension\r\n\t\t\tif(o.rowTotals && o.yDimension.length > 0) {\r\n\t\t\t\tvar dn = o.yDimension[0].dataName;\r\n\t\t\t\to.yDimension.splice(0,0,{dataName:dn});\r\n\t\t\t\to.yDimension[0].converter =  function(){ return '_r_Totals'; };\r\n\t\t\t}\r\n\t\t\t// build initial columns (colModel) from xDimension\r\n\t\t\txlen = $.isArray(o.xDimension) ? o.xDimension.length : 0;\r\n\t\t\tylen = o.yDimension.length;\r\n\t\t\taggrlen  = $.isArray(o.aggregates) ? o.aggregates.length : 0;\r\n\t\t\tif(xlen === 0 || aggrlen === 0) {\r\n\t\t\t\tthrow(\"xDimension or aggregates optiona are not set!\");\r\n\t\t\t}\r\n\t\t\tvar colc;\r\n\t\t\tfor(i = 0; i< xlen; i++) {\r\n\t\t\t\tcolc = {name:o.xDimension[i].dataName, frozen: o.frozenStaticCols};\r\n\t\t\t\tcolc = $.extend(true, colc, o.xDimension[i]);\r\n\t\t\t\tcolumns.push( colc );\r\n\t\t\t}\r\n\t\t\tvar groupfields = xlen - 1, tree={};\r\n\t\t\t//tree = { text: 'root', leaf: false, children: [] };\r\n\t\t\t//loop over alll the source data\r\n\t\t\twhile( r < rowlen ) {\r\n\t\t\t\trow = data[r];\r\n\t\t\t\tvar xValue = [];\r\n\t\t\t\tvar yValue = [];\r\n\t\t\t\ttmp = {};\r\n\t\t\t\ti = 0;\r\n\t\t\t\t// build the data from xDimension\r\n\t\t\t\tdo {\r\n\t\t\t\t\txValue[i]  = $.trim(row[o.xDimension[i].dataName]);\r\n\t\t\t\t\ttmp[o.xDimension[i].dataName] = xValue[i];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t} while( i < xlen );\r\n\r\n\t\t\t\tvar k = 0;\r\n\t\t\t\trowindex = -1;\r\n\t\t\t\t// check to see if the row is in our new pivotrow set\r\n\t\t\t\tnewObj = find(pivotrows, findGroup, xValue);\r\n\t\t\t\tif(!newObj) {\r\n\t\t\t\t\t// if the row is not in our set\r\n\t\t\t\t\tk = 0;\r\n\t\t\t\t\t// if yDimension is set\r\n\t\t\t\t\tif(ylen>=1) {\r\n\t\t\t\t\t\t// build the cols set in yDimension\r\n\t\t\t\t\t\tfor(k=0;k<ylen;k++) {\r\n\t\t\t\t\t\t\tyValue[k] = $.trim(row[o.yDimension[k].dataName]);\r\n\t\t\t\t\t\t\t// Check to see if we have user defined conditions\r\n\t\t\t\t\t\t\tif(o.yDimension[k].converter && $.isFunction(o.yDimension[k].converter)) {\r\n\t\t\t\t\t\t\t\tyValue[k] = o.yDimension[k].converter.call(this, yValue[k], xValue, yValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// make the colums based on aggregates definition\r\n\t\t\t\t\t\t// and return the members for late calculation\r\n\t\t\t\t\t\ttmp = agregateFunc( row, o.aggregates, yValue, tmp );\r\n\t\t\t\t\t} else  if( ylen === 0 ) {\r\n\t\t\t\t\t\t// if not set use direct the aggregates\r\n\t\t\t\t\t\ttmp = agregateFunc( row, o.aggregates, null, tmp );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// add the result in pivot rows\r\n\t\t\t\t\tpivotrows.push( tmp );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// the pivot exists\r\n\t\t\t\t\tif( rowindex >= 0) {\r\n\t\t\t\t\t\tk = 0;\r\n\t\t\t\t\t\t// make the recalculations\r\n\t\t\t\t\t\tif(ylen>=1) {\r\n\t\t\t\t\t\t\tfor(k=0;k<ylen;k++) {\r\n\t\t\t\t\t\t\t\tyValue[k] = $.trim(row[o.yDimension[k].dataName]);\r\n\t\t\t\t\t\t\t\tif(o.yDimension[k].converter && $.isFunction(o.yDimension[k].converter)) {\r\n\t\t\t\t\t\t\t\t\tyValue[k] = o.yDimension[k].converter.call(this, yValue[k], xValue, yValue);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewObj = agregateFunc( row, o.aggregates, yValue, newObj );\r\n\t\t\t\t\t\t} else  if( ylen === 0 ) {\r\n\t\t\t\t\t\t\tnewObj = agregateFunc( row, o.aggregates, null, newObj );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// update the row\r\n\t\t\t\t\t\tpivotrows[rowindex] = newObj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar kj=0, current = null,existing = null, kk;\r\n\t\t\t\t// Build a JSON tree from the member (see aggregateFunc)\r\n\t\t\t\t// to make later the columns\r\n\t\t\t\t//\r\n\t\t\t\tfor (kk in member) {\r\n\t\t\t\t\tif(kj === 0) {\r\n\t\t\t\t\t\tif (!tree.children||tree.children === undefined){\r\n\t\t\t\t\t\t\ttree = { text: kk, level : 0, children: [] };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcurrent = tree.children;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\texisting = null;\r\n\t\t\t\t\t\tfor (i=0; i < current.length; i++) {\r\n\t\t\t\t\t\t\tif (current[i].text === kk) {\r\n\t\t\t\t\t\t\t\t//current[i].fields=member[kk];\r\n\t\t\t\t\t\t\t\texisting = current[i];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (existing) {\r\n\t\t\t\t\t\t\tcurrent = existing.children;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurrent.push({ children: [], text: kk, level: kj,  fields: member[kk] });\r\n\t\t\t\t\t\t\tcurrent = current[current.length - 1].children;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tkj++;\r\n\t\t\t\t}\r\n\t\t\t\tr++;\r\n\t\t\t}\r\n\t\t\tvar  lastval=[], initColLen = columns.length, swaplen = initColLen;\r\n\t\t\tif(ylen>0) {\r\n\t\t\t\theaders[ylen-1] = {\tuseColSpanStyle: false,\tgroupHeaders: []};\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * Recursive function which uses the tree to build the\r\n\t\t\t * columns from the pivot values and set the group Headers\r\n\t\t\t */\r\n\t\t\tfunction list(items) {\r\n\t\t\t\tvar l, j, key, k, col;\r\n\t\t\t\tfor (key in items) { // iterate\r\n\t\t\t\t\tif (items.hasOwnProperty(key)) {\r\n\t\t\t\t\t// write amount of spaces according to level\r\n\t\t\t\t\t// and write name and newline\r\n\t\t\t\t\t\tif(typeof items[key] !== \"object\") {\r\n\t\t\t\t\t\t\t// If not a object build the header of the appropriate level\r\n\t\t\t\t\t\t\tif( key === 'level') {\r\n\t\t\t\t\t\t\t\tif(lastval[items.level] === undefined) {\r\n\t\t\t\t\t\t\t\t\tlastval[items.level] ='';\r\n\t\t\t\t\t\t\t\t\tif(items.level>0 && items.text !== '_r_Totals') {\r\n\t\t\t\t\t\t\t\t\t\theaders[items.level-1] = {\r\n\t\t\t\t\t\t\t\t\t\t\tuseColSpanStyle: false,\r\n\t\t\t\t\t\t\t\t\t\t\tgroupHeaders: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(lastval[items.level] !== items.text && items.children.length && items.text !== '_r_Totals') {\r\n\t\t\t\t\t\t\t\t\tif(items.level>0) {\r\n\t\t\t\t\t\t\t\t\t\theaders[items.level-1].groupHeaders.push({\r\n\t\t\t\t\t\t\t\t\t\t\ttitleText: items.text\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tvar collen = headers[items.level-1].groupHeaders.length,\r\n\t\t\t\t\t\t\t\t\t\tcolpos = collen === 1 ? swaplen : initColLen+(collen-1)*aggrlen;\r\n\t\t\t\t\t\t\t\t\t\theaders[items.level-1].groupHeaders[collen-1].startColumnName = columns[colpos].name;\r\n\t\t\t\t\t\t\t\t\t\theaders[items.level-1].groupHeaders[collen-1].numberOfColumns = columns.length - colpos;\r\n\t\t\t\t\t\t\t\t\t\tinitColLen = columns.length;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlastval[items.level] = items.text;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// This is in case when the member contain more than one summary item\r\n\t\t\t\t\t\t\tif(items.level === ylen  && key==='level' && ylen >0) {\r\n\t\t\t\t\t\t\t\tif( aggrlen > 1){\r\n\t\t\t\t\t\t\t\t\tvar ll=1;\r\n\t\t\t\t\t\t\t\t\tfor( l in items.fields) {\r\n\t\t\t\t\t\t\t\t\t\tif(ll===1) {\r\n\t\t\t\t\t\t\t\t\t\t\theaders[ylen-1].groupHeaders.push({startColumnName: l, numberOfColumns: 1, titleText: items.text});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tll++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\theaders[ylen-1].groupHeaders[headers[ylen-1].groupHeaders.length-1].numberOfColumns = ll-1;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\theaders.splice(ylen-1,1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// if object, call recursively\r\n\t\t\t\t\t\tif (items[key] != null && typeof items[key] === \"object\") {\r\n\t\t\t\t\t\t\tlist(items[key]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Finally build the coulumns\r\n\t\t\t\t\t\tif( key === 'level') {\r\n\t\t\t\t\t\t\tif(items.level >0){\r\n\t\t\t\t\t\t\t\tj=0;\r\n\t\t\t\t\t\t\t\tfor(l in items.fields) {\r\n\t\t\t\t\t\t\t\t\tcol = {};\r\n\t\t\t\t\t\t\t\t\tfor(k in o.aggregates[j]) {\r\n\t\t\t\t\t\t\t\t\t\tif(o.aggregates[j].hasOwnProperty(k)) {\r\n\t\t\t\t\t\t\t\t\t\t\tswitch( k ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'member':\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'label':\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'aggregator':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcol[k] = o.aggregates[j][k];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(aggrlen>1) {\r\n\t\t\t\t\t\t\t\t\t\tcol.name = l;\r\n\t\t\t\t\t\t\t\t\t\tcol.label = o.aggregates[j].label || l;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcol.name = items.text;\r\n\t\t\t\t\t\t\t\t\t\tcol.label = items.text==='_r_Totals' ? o.rowTotalsText : items.text;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcolumns.push (col);\r\n\t\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlist(tree, 0);\r\n\t\t\tvar nm;\r\n\t\t\t// loop again trougth the pivot rows in order to build grand total\r\n\t\t\tif(o.colTotals) {\r\n\t\t\t\tvar plen = pivotrows.length;\r\n\t\t\t\twhile(plen--) {\r\n\t\t\t\t\tfor(i=xlen;i<columns.length;i++) {\r\n\t\t\t\t\t\tnm = columns[i].name;\r\n\t\t\t\t\t\tif(!summaries[nm]) {\r\n\t\t\t\t\t\t\tsummaries[nm] = parseFloat(pivotrows[plen][nm] || 0);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsummaries[nm] += parseFloat(pivotrows[plen][nm] || 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// based on xDimension  levels build grouping\r\n\t\t\tif( groupfields > 0) {\r\n\t\t\t\tfor(i=0;i<groupfields;i++) {\r\n\t\t\t\t\tgroupOptions.groupingView.groupField[i] = columns[i].name;\r\n\t\t\t\t\tgroupOptions.groupingView.groupSummary[i] = o.groupSummary;\r\n\t\t\t\t\tgroupOptions.groupingView.groupSummaryPos[i] = o.groupSummaryPos;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// no grouping is needed\r\n\t\t\t\tgroupOptions.grouping = false;\r\n\t\t\t}\r\n\t\t\tgroupOptions.sortname = columns[groupfields].name;\r\n\t\t\tgroupOptions.groupingView.hideFirstGroupCol = true;\r\n\t\t});\r\n\t\t// return the final result.\r\n\t\treturn { \"colModel\" : columns, \"rows\": pivotrows, \"groupOptions\" : groupOptions, \"groupHeaders\" :  headers, summary : summaries };\r\n\t},\r\n\tjqPivot : function( data, pivotOpt, gridOpt, ajaxOpt) {\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $t = this;\r\n\r\n\t\t\tfunction pivot( data) {\r\n\t\t\t\tvar pivotGrid = jQuery($t).jqGrid('pivotSetup',data, pivotOpt),\r\n\t\t\t\tfooterrow = $.assocArraySize(pivotGrid.summary) > 0 ? true : false,\r\n\t\t\t\tquery= $.jgrid.from(pivotGrid.rows), i;\r\n\t\t\t\tfor(i=0; i< pivotGrid.groupOptions.groupingView.groupField.length; i++) {\r\n\t\t\t\t\tquery.orderBy(pivotGrid.groupOptions.groupingView.groupField[i], \"a\", 'text', '');\r\n\t\t\t\t}\r\n\t\t\t\tjQuery($t).jqGrid($.extend({\r\n\t\t\t\t\tdatastr: $.extend(query.select(),footerrow ? {userdata:pivotGrid.summary} : {}),\r\n\t\t\t\t\tdatatype: \"jsonstring\",\r\n\t\t\t\t\tfooterrow : footerrow,\r\n\t\t\t\t\tuserDataOnFooter: footerrow,\r\n\t\t\t\t\tcolModel: pivotGrid.colModel,\r\n\t\t\t\t\tviewrecords: true,\r\n\t\t\t\t\tsortname: pivotOpt.xDimension[0].dataName // ?????\r\n\t\t\t\t}, gridOpt || {}, pivotGrid.groupOptions));\r\n\t\t\t\tvar gHead = pivotGrid.groupHeaders;\r\n\t\t\t\tif(gHead.length) {\r\n\t\t\t\t\tfor( i = 0;i < gHead.length ; i++) {\r\n\t\t\t\t\t\tif(gHead[i] && gHead[i].groupHeaders.length) {\r\n\t\t\t\t\t\t\tjQuery($t).jqGrid('setGroupHeaders',gHead[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(pivotOpt.frozenStaticCols) {\r\n\t\t\t\t\tjQuery($t).jqGrid(\"setFrozenColumns\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof data === \"string\") {\r\n\t\t\t\t$.ajax($.extend({\r\n\t\t\t\t\turl : data,\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess : function(response) {\r\n\t\t\t\t\t\tpivot($.jgrid.getAccessor(response, ajaxOpt && ajaxOpt.reader ? ajaxOpt.reader: 'rows') );\r\n\t\t\t\t\t}\r\n\t\t\t\t}, ajaxOpt || {}) );\r\n\t\t\t} else {\r\n\t\t\t\tpivot( data );\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n})(jQuery);\r\n\r\n//@add\r\n};\r\n//@add\r\n","//@add\r\nmodule.exports = function(jQuery) {\r\n//@add\r\n;(function($){\r\n/**\r\n * jqGrid English Translation\r\n * Tony Tomov tony@trirand.com\r\n * http://trirand.com/blog/\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n**/\r\n$.jgrid = $.jgrid || {};\r\n$.extend($.jgrid,{\r\n\tdefaults : {\r\n\t\trecordtext: \"View {0} - {1} of {2}\",\r\n\t\temptyrecords: \"No records to view\",\r\n\t\tloadtext: \"Loading...\",\r\n\t\tpgtext : \"Page {0} of {1}\"\r\n\t},\r\n\tsearch : {\r\n\t\tcaption: \"Search...\",\r\n\t\tFind: \"Find\",\r\n\t\tReset: \"Reset\",\r\n\t\todata: [{ oper:'eq', text:'equal'},{ oper:'ne', text:'not equal'},{ oper:'lt', text:'less'},{ oper:'le', text:'less or equal'},{ oper:'gt', text:'greater'},{ oper:'ge', text:'greater or equal'},{ oper:'bw', text:'begins with'},{ oper:'bn', text:'does not begin with'},{ oper:'in', text:'is in'},{ oper:'ni', text:'is not in'},{ oper:'ew', text:'ends with'},{ oper:'en', text:'does not end with'},{ oper:'cn', text:'contains'},{ oper:'nc', text:'does not contain'},{ oper:'nu', text:'is null'},{ oper:'nn', text:'is not null'}],\r\n\t\tgroupOps: [{ op: \"AND\", text: \"all\" },{ op: \"OR\",  text: \"any\" }],\r\n\t\toperandTitle : \"Click to select search operation.\",\r\n\t\tresetTitle : \"Reset Search Value\"\r\n\t},\r\n\tedit : {\r\n\t\taddCaption: \"Add Record\",\r\n\t\teditCaption: \"Edit Record\",\r\n\t\tbSubmit: \"Submit\",\r\n\t\tbCancel: \"Cancel\",\r\n\t\tbClose: \"Close\",\r\n\t\tsaveData: \"Data has been changed! Save changes?\",\r\n\t\tbYes : \"Yes\",\r\n\t\tbNo : \"No\",\r\n\t\tbExit : \"Cancel\",\r\n\t\tmsg: {\r\n\t\t\trequired:\"Field is required\",\r\n\t\t\tnumber:\"Please, enter valid number\",\r\n\t\t\tminValue:\"value must be greater than or equal to \",\r\n\t\t\tmaxValue:\"value must be less than or equal to\",\r\n\t\t\temail: \"is not a valid e-mail\",\r\n\t\t\tinteger: \"Please, enter valid integer value\",\r\n\t\t\tdate: \"Please, enter valid date value\",\r\n\t\t\turl: \"is not a valid URL. Prefix required ('http://' or 'https://')\",\r\n\t\t\tnodefined : \" is not defined!\",\r\n\t\t\tnovalue : \" return value is required!\",\r\n\t\t\tcustomarray : \"Custom function should return array!\",\r\n\t\t\tcustomfcheck : \"Custom function should be present in case of custom checking!\"\r\n\r\n\t\t}\r\n\t},\r\n\tview : {\r\n\t\tcaption: \"View Record\",\r\n\t\tbClose: \"Close\"\r\n\t},\r\n\tdel : {\r\n\t\tcaption: \"Delete\",\r\n\t\tmsg: \"Delete selected record(s)?\",\r\n\t\tbSubmit: \"Delete\",\r\n\t\tbCancel: \"Cancel\"\r\n\t},\r\n\tnav : {\r\n\t\tedittext: \"\",\r\n\t\tedittitle: \"Edit selected row\",\r\n\t\taddtext:\"\",\r\n\t\taddtitle: \"Add new row\",\r\n\t\tdeltext: \"\",\r\n\t\tdeltitle: \"Delete selected row\",\r\n\t\tsearchtext: \"\",\r\n\t\tsearchtitle: \"Find records\",\r\n\t\trefreshtext: \"\",\r\n\t\trefreshtitle: \"Reload Grid\",\r\n\t\talertcap: \"Warning\",\r\n\t\talerttext: \"Please, select row\",\r\n\t\tviewtext: \"\",\r\n\t\tviewtitle: \"View selected row\"\r\n\t},\r\n\tcol : {\r\n\t\tcaption: \"Select columns\",\r\n\t\tbSubmit: \"Ok\",\r\n\t\tbCancel: \"Cancel\"\r\n\t},\r\n\terrors : {\r\n\t\terrcap : \"Error\",\r\n\t\tnourl : \"No url is set\",\r\n\t\tnorecords: \"No records to process\",\r\n\t\tmodel : \"Length of colNames <> colModel!\"\r\n\t},\r\n\tformatter : {\r\n\t\tinteger : {thousandsSeparator: \",\", defaultValue: '0'},\r\n\t\tnumber : {decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, defaultValue: '0.00'},\r\n\t\tcurrency : {decimalSeparator:\".\", thousandsSeparator: \",\", decimalPlaces: 2, prefix: \"\", suffix:\"\", defaultValue: '0.00'},\r\n\t\tdate : {\r\n\t\t\tdayNames:   [\r\n\t\t\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thr\", \"Fri\", \"Sat\",\r\n\t\t\t\t\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\r\n\t\t\t],\r\n\t\t\tmonthNames: [\r\n\t\t\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n\t\t\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n\t\t\t],\r\n\t\t\tAmPm : [\"am\",\"pm\",\"AM\",\"PM\"],\r\n\t\t\tS: function (j) {return j < 11 || j > 13 ? ['st', 'nd', 'rd', 'th'][Math.min((j - 1) % 10, 3)] : 'th';},\r\n\t\t\tsrcformat: 'Y-m-d',\r\n\t\t\tnewformat: 'n/j/Y',\r\n\t\t\tparseRe : /[#%\\\\\\/:_;.,\\t\\s-]/,\r\n\t\t\tmasks : {\r\n\t\t\t\t// see http://php.net/manual/en/function.date.php for PHP format used in jqGrid\r\n\t\t\t\t// and see http://docs.jquery.com/UI/Datepicker/formatDate\r\n\t\t\t\t// and https://github.com/jquery/globalize#dates for alternative formats used frequently\r\n\t\t\t\t// one can find on https://github.com/jquery/globalize/tree/master/lib/cultures many\r\n\t\t\t\t// information about date, time, numbers and currency formats used in different countries\r\n\t\t\t\t// one should just convert the information in PHP format\r\n\t\t\t\tISO8601Long:\"Y-m-d H:i:s\",\r\n\t\t\t\tISO8601Short:\"Y-m-d\",\r\n\t\t\t\t// short date:\r\n\t\t\t\t//    n - Numeric representation of a month, without leading zeros\r\n\t\t\t\t//    j - Day of the month without leading zeros\r\n\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\r\n\t\t\t\t// example: 3/1/2012 which means 1 March 2012\r\n\t\t\t\tShortDate: \"n/j/Y\", // in jQuery UI Datepicker: \"M/d/yyyy\"\r\n\t\t\t\t// long date:\r\n\t\t\t\t//    l - A full textual representation of the day of the week\r\n\t\t\t\t//    F - A full textual representation of a month\r\n\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\r\n\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\r\n\t\t\t\tLongDate: \"l, F d, Y\", // in jQuery UI Datepicker: \"dddd, MMMM dd, yyyy\"\r\n\t\t\t\t// long date with long time:\r\n\t\t\t\t//    l - A full textual representation of the day of the week\r\n\t\t\t\t//    F - A full textual representation of a month\r\n\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\r\n\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\r\n\t\t\t\t//    g - 12-hour format of an hour without leading zeros\r\n\t\t\t\t//    i - Minutes with leading zeros\r\n\t\t\t\t//    s - Seconds, with leading zeros\r\n\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\r\n\t\t\t\tFullDateTime: \"l, F d, Y g:i:s A\", // in jQuery UI Datepicker: \"dddd, MMMM dd, yyyy h:mm:ss tt\"\r\n\t\t\t\t// month day:\r\n\t\t\t\t//    F - A full textual representation of a month\r\n\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\r\n\t\t\t\tMonthDay: \"F d\", // in jQuery UI Datepicker: \"MMMM dd\"\r\n\t\t\t\t// short time (without seconds)\r\n\t\t\t\t//    g - 12-hour format of an hour without leading zeros\r\n\t\t\t\t//    i - Minutes with leading zeros\r\n\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\r\n\t\t\t\tShortTime: \"g:i A\", // in jQuery UI Datepicker: \"h:mm tt\"\r\n\t\t\t\t// long time (with seconds)\r\n\t\t\t\t//    g - 12-hour format of an hour without leading zeros\r\n\t\t\t\t//    i - Minutes with leading zeros\r\n\t\t\t\t//    s - Seconds, with leading zeros\r\n\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\r\n\t\t\t\tLongTime: \"g:i:s A\", // in jQuery UI Datepicker: \"h:mm:ss tt\"\r\n\t\t\t\tSortableDateTime: \"Y-m-d\\\\TH:i:s\",\r\n\t\t\t\tUniversalSortableDateTime: \"Y-m-d H:i:sO\",\r\n\t\t\t\t// month with year\r\n\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\r\n\t\t\t\t//    F - A full textual representation of a month\r\n\t\t\t\tYearMonth: \"F, Y\" // in jQuery UI Datepicker: \"MMMM, yyyy\"\r\n\t\t\t},\r\n\t\t\treformatAfterEdit : false\r\n\t\t},\r\n\t\tbaseLinkUrl: '',\r\n\t\tshowAction: '',\r\n\t\ttarget: '',\r\n\t\tcheckbox : {disabled:true},\r\n\t\tidName : 'id'\r\n\t}\r\n});\r\n})(jQuery);\r\n//@add\r\n};\r\n//@add\r\n","var api = require(\"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../css-loader/dist/cjs.js!./ui.jqgrid.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*Grid*/\\r\\n.ui-jqgrid {position: relative;}\\r\\n.ui-jqgrid .ui-jqgrid-view {position: relative;left:0; top: 0; padding: 0; font-size:11px;}\\r\\n/* caption*/\\r\\n.ui-jqgrid .ui-jqgrid-titlebar {padding: .3em .2em .2em .3em; position: relative; font-size: 12px; border-left: 0 none;border-right: 0 none; border-top: 0 none;}\\r\\n.ui-jqgrid .ui-jqgrid-caption {text-align: left;}\\r\\n.ui-jqgrid .ui-jqgrid-title { margin: .1em 0 .2em; }\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close { position: absolute;top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height:18px; cursor:pointer;}\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close span { display: block; margin: 1px; }\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close:hover { padding: 0; }\\r\\n/* header*/\\r\\n.ui-jqgrid .ui-jqgrid-hdiv {position: relative; margin: 0;padding: 0; overflow-x: hidden; border-left: 0 none !important; border-top : 0 none !important; border-right : 0 none !important;}\\r\\n.ui-jqgrid .ui-jqgrid-hbox {float: left; padding-right: 20px;}\\r\\n.ui-jqgrid .ui-jqgrid-htable {table-layout:fixed;margin:0;}\\r\\n.ui-jqgrid .ui-jqgrid-htable th {height:22px;padding: 0 2px 0 2px;}\\r\\n.ui-jqgrid .ui-jqgrid-htable th div {overflow: hidden; position:relative; height:17px;}\\r\\n.ui-th-column, .ui-jqgrid .ui-jqgrid-htable th.ui-th-column {overflow: hidden;white-space: nowrap;text-align:center;border-top : 0 none;border-bottom : 0 none;}\\r\\n.ui-th-ltr, .ui-jqgrid .ui-jqgrid-htable th.ui-th-ltr {border-left : 0 none;}\\r\\n.ui-th-rtl, .ui-jqgrid .ui-jqgrid-htable th.ui-th-rtl {border-right : 0 none;}\\r\\n.ui-first-th-ltr {border-right: 1px solid; }\\r\\n.ui-first-th-rtl {border-left: 1px solid; }\\r\\n.ui-jqgrid .ui-th-div-ie {white-space: nowrap; zoom :1; height:17px;}\\r\\n.ui-jqgrid .ui-jqgrid-resize {height:20px !important;position: relative; cursor :e-resize;display: inline;overflow: hidden;}\\r\\n.ui-jqgrid .ui-grid-ico-sort {overflow:hidden;position:absolute;display:inline; cursor: pointer !important;}\\r\\n.ui-jqgrid .ui-icon-asc {margin-top:-3px; height:12px;}\\r\\n.ui-jqgrid .ui-icon-desc {margin-top:3px;height:12px;}\\r\\n.ui-jqgrid .ui-i-asc {margin-top:0;height:16px;}\\r\\n.ui-jqgrid .ui-i-desc {margin-top:0;margin-left:13px;height:16px;}\\r\\n.ui-jqgrid .ui-jqgrid-sortable {cursor:pointer;}\\r\\n.ui-jqgrid tr.ui-search-toolbar th { border-top-width: 1px !important; border-top-color: inherit !important; border-top-style: ridge !important }\\r\\ntr.ui-search-toolbar input {margin: 1px 0 0 0}\\r\\ntr.ui-search-toolbar select {margin: 1px 0 0 0}\\r\\n/* body */ \\r\\n.ui-jqgrid .ui-jqgrid-bdiv {position: relative; margin: 0; padding:0; overflow: auto; text-align:left;}\\r\\n.ui-jqgrid .ui-jqgrid-btable {table-layout:fixed; margin:0; outline-style: none; }\\r\\n.ui-jqgrid tr.jqgrow { outline-style: none; }\\r\\n.ui-jqgrid tr.jqgroup { outline-style: none; }\\r\\n.ui-jqgrid tr.jqgrow td {font-weight: normal; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.jqgfirstrow td {padding: 0 2px 0 2px;border-right-width: 1px; border-right-style: solid;}\\r\\n.ui-jqgrid tr.jqgroup td {font-weight: normal; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.jqfoot td {font-weight: bold; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.ui-row-ltr td {text-align:left;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;}\\r\\n.ui-jqgrid tr.ui-row-rtl td {text-align:right;border-left-width: 1px; border-left-color: inherit; border-left-style: solid;}\\r\\n.ui-jqgrid td.jqgrid-rownum { padding: 0 2px 0 2px; margin: 0; border: 0 none;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-mark { width:2px; left:0; background-color:#777; cursor: e-resize; cursor: col-resize; position:absolute; top:0; height:100px; overflow:hidden; display:none; border:0 none; z-index: 99999;}\\r\\n/* footer */\\r\\n.ui-jqgrid .ui-jqgrid-sdiv {position: relative; margin: 0;padding: 0; overflow: hidden; border-left: 0 none !important; border-top : 0 none !important; border-right : 0 none !important;}\\r\\n.ui-jqgrid .ui-jqgrid-ftable {table-layout:fixed; margin-bottom:0;}\\r\\n.ui-jqgrid tr.footrow td {font-weight: bold; overflow: hidden; white-space:nowrap; height: 21px;padding: 0 2px 0 2px;border-top-width: 1px; border-top-color: inherit; border-top-style: solid;}\\r\\n.ui-jqgrid tr.footrow-ltr td {text-align:left;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;}\\r\\n.ui-jqgrid tr.footrow-rtl td {text-align:right;border-left-width: 1px; border-left-color: inherit; border-left-style: solid;}\\r\\n/* Pager*/\\r\\n.ui-jqgrid .ui-jqgrid-pager { border-left: 0 none !important;border-right: 0 none !important; border-bottom: 0 none !important; margin: 0 !important; padding: 0 !important; position: relative; height: 25px;white-space: nowrap;overflow: hidden;font-size:11px;}\\r\\n.ui-jqgrid .ui-pager-control {position: relative;}\\r\\n.ui-jqgrid .ui-pg-table {position: relative; padding-bottom:2px; width:auto; margin: 0;}\\r\\n.ui-jqgrid .ui-pg-table td {font-weight:normal; vertical-align:middle; padding:1px;}\\r\\n.ui-jqgrid .ui-pg-button  { height:19px !important;}\\r\\n.ui-jqgrid .ui-pg-button span { display: block; margin: 1px; float:left;}\\r\\n.ui-jqgrid .ui-pg-button:hover { padding: 0; }\\r\\n.ui-jqgrid .ui-state-disabled:hover {padding:1px;}\\r\\n.ui-jqgrid .ui-pg-input { height:13px;font-size:.8em; margin: 0;}\\r\\n.ui-jqgrid .ui-pg-selbox {font-size:.8em; line-height:18px; display:block; height:18px; margin: 0;}\\r\\n.ui-jqgrid .ui-separator {height: 18px; border-left: 1px solid #ccc ; border-right: 1px solid #ccc ; margin: 1px; float: right;}\\r\\n.ui-jqgrid .ui-paging-info {font-weight: normal;height:19px; margin-top:3px;margin-right:4px;}\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-div {padding:1px 0;float:left;position:relative;}\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-button { cursor:pointer; }\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-div  span.ui-icon {float:left;margin:0 2px;}\\r\\n.ui-jqgrid td input, .ui-jqgrid td select .ui-jqgrid td textarea { margin: 0;}\\r\\n.ui-jqgrid td textarea {width:auto;height:auto;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager {border-left: 0 none !important;border-right: 0 none !important; border-top: 0 none !important; margin: 0 !important; padding: 0 !important; position: relative; height: 25px !important;white-space: nowrap;overflow: hidden;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div {padding:1px 0;float:left;position:relative;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-button { cursor:pointer; }\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div  span.ui-icon {float:left;margin:0 2px;}\\r\\n/*subgrid*/\\r\\n.ui-jqgrid .ui-jqgrid-btable .ui-sgcollapsed span {display: block;}\\r\\n.ui-jqgrid .ui-subgrid {margin:0;padding:0; width:100%;}\\r\\n.ui-jqgrid .ui-subgrid table {table-layout: fixed;}\\r\\n.ui-jqgrid .ui-subgrid tr.ui-subtblcell td {height:18px;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid .ui-subgrid td.subgrid-data {border-top:  0 none !important;}\\r\\n.ui-jqgrid .ui-subgrid td.subgrid-cell {border-width: 0 0 1px 0;}\\r\\n.ui-jqgrid .ui-th-subgrid {height:20px;}\\r\\n/* loading */\\r\\n.ui-jqgrid .loading {position: absolute; top: 45%;left: 45%;width: auto;z-index:101;padding: 6px; margin: 5px;text-align: center;font-weight: bold;display: none;border-width: 2px !important; font-size:11px;}\\r\\n.ui-jqgrid .jqgrid-overlay {display:none;z-index:100;}\\r\\n/* IE * html .jqgrid-overlay {width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');} */\\r\\n* .jqgrid-overlay iframe {position:absolute;top:0;left:0;z-index:-1;}\\r\\n/* IE width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');}*/\\r\\n/* end loading div */\\r\\n/* toolbar */\\r\\n.ui-jqgrid .ui-userdata {border-left: 0 none;    border-right: 0 none;\\theight : 21px;overflow: hidden;\\t}\\r\\n/*Modal Window */\\r\\n.ui-jqdialog { display: none; width: 300px; position: absolute; padding: .2em; font-size:11px; overflow:visible;}\\r\\n.ui-jqdialog .ui-jqdialog-titlebar { padding: .3em .2em; position: relative;  }\\r\\n.ui-jqdialog .ui-jqdialog-title { margin: .1em 0 .2em; } \\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close { position: absolute;  top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; cursor:pointer;}\\r\\n\\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close span { display: block; margin: 1px; }\\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close:hover, .ui-jqdialog .ui-jqdialog-titlebar-close:focus { padding: 0; }\\r\\n.ui-jqdialog-content, .ui-jqdialog .ui-jqdialog-content { border: 0; padding: .3em .2em; background: none; height:auto;}\\r\\n.ui-jqdialog .ui-jqconfirm {padding: .4em 1em; border-width:3px;position:absolute;bottom:10px;right:10px;overflow:visible;display:none;height:80px;width:220px;text-align:center;}\\r\\n.ui-jqdialog>.ui-resizable-se { bottom: -3px; right: -3px}\\r\\n.ui-jqgrid>.ui-resizable-se { bottom: -3px; right: -3px }\\r\\n/* end Modal window*/\\r\\n/* Form edit */\\r\\n.ui-jqdialog-content .FormGrid {margin: 0;}\\r\\n.ui-jqdialog-content .EditTable { width: 100%; margin-bottom:0;}\\r\\n.ui-jqdialog-content .DelTable { width: 100%; margin-bottom:0;}\\r\\n.EditTable td input, .EditTable td select, .EditTable td textarea {margin: 0;}\\r\\n.EditTable td textarea { width:auto; height:auto;}\\r\\n.ui-jqdialog-content td.EditButton {text-align: right;border-top: 0 none;border-left: 0 none;border-right: 0 none; padding-bottom:5px; padding-top:5px;}\\r\\n.ui-jqdialog-content td.navButton {text-align: center; border-left: 0 none;border-top: 0 none;border-right: 0 none; padding-bottom:5px; padding-top:5px;}\\r\\n.ui-jqdialog-content input.FormElement {padding:.3em}\\r\\n.ui-jqdialog-content select.FormElement {padding:.3em}\\r\\n.ui-jqdialog-content .data-line {padding-top:.1em;border: 0 none;}\\r\\n\\r\\n.ui-jqdialog-content .CaptionTD {vertical-align: middle;border: 0 none; padding: 2px;white-space: nowrap;}\\r\\n.ui-jqdialog-content .DataTD {padding: 2px; border: 0 none; vertical-align: top;}\\r\\n.ui-jqdialog-content .form-view-data {white-space:pre}\\r\\n.fm-button { display: inline-block; margin:0 4px 0 0; padding: .4em .5em; text-decoration:none !important; cursor:pointer; position: relative; text-align: center; zoom: 1; }\\r\\n.fm-button-icon-left { padding-left: 1.9em; }\\r\\n.fm-button-icon-right { padding-right: 1.9em; }\\r\\n.fm-button-icon-left .ui-icon { right: auto; left: .2em; margin-left: 0; position: absolute; top: 50%; margin-top: -8px; }\\r\\n.fm-button-icon-right .ui-icon { left: auto; right: .2em; margin-left: 0; position: absolute; top: 50%; margin-top: -8px;}\\r\\n#nData, #pData { float: left; margin:3px;padding: 0; width: 15px; }\\r\\n/* End Eorm edit */\\r\\n/*.ui-jqgrid .edit-cell {}*/\\r\\n.ui-jqgrid .selected-row, div.ui-jqgrid .selected-row td {font-style : normal;border-left: 0 none;}\\r\\n/* inline edit actions button*/\\r\\n.ui-inline-del.ui-state-hover span, .ui-inline-edit.ui-state-hover span,\\r\\n.ui-inline-save.ui-state-hover span, .ui-inline-cancel.ui-state-hover span {\\r\\n    margin: -1px;\\r\\n}\\r\\n/* Tree Grid */\\r\\n.ui-jqgrid .tree-wrap {float: left; position: relative;height: 18px;white-space: nowrap;overflow: hidden;}\\r\\n.ui-jqgrid .tree-minus {position: absolute; height: 18px; width: 18px; overflow: hidden;}\\r\\n.ui-jqgrid .tree-plus {position: absolute;\\theight: 18px; width: 18px;\\toverflow: hidden;}\\r\\n.ui-jqgrid .tree-leaf {position: absolute;\\theight: 18px; width: 18px;overflow: hidden;}\\r\\n.ui-jqgrid .treeclick {cursor: pointer;}\\r\\n/* moda dialog */\\r\\n* iframe.jqm {position:absolute;top:0;left:0;z-index:-1;}\\r\\n/*\\t width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');}*/\\r\\n.ui-jqgrid-dnd tr td {border-right-width: 1px; border-right-color: inherit; border-right-style: solid; height:20px}\\r\\n/* RTL Support */\\r\\n.ui-jqgrid .ui-jqgrid-caption-rtl {text-align: right;}\\r\\n.ui-jqgrid .ui-jqgrid-hbox-rtl {float: right; padding-left: 20px;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-ltr {float: right;margin: -2px -2px -2px 0;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-rtl {float: left;margin: -2px 0 -1px -3px;}\\r\\n.ui-jqgrid .ui-sort-rtl {left:0;}\\r\\n.ui-jqgrid .tree-wrap-ltr {float: left;}\\r\\n.ui-jqgrid .tree-wrap-rtl {float: right;}\\r\\n.ui-jqgrid .ui-ellipsis {-moz-text-overflow:ellipsis;text-overflow:ellipsis;}\\r\\n\\r\\n/* Toolbar Search Menu */\\r\\n.ui-search-menu { position: absolute; padding: 2px 5px;}\\r\\n.ui-jqgrid .ui-search-table { padding: 0; border: 0 none; height:20px; width:100%;}\\r\\n.ui-jqgrid .ui-search-table .ui-search-oper { width:20px; }\\r\\na.g-menu-item, a.soptclass, a.clearsearchclass { cursor: pointer; }\\r\\n.ui-jqgrid .ui-search-table .ui-search-input>input,\\r\\n.ui-jqgrid .ui-search-table .ui-search-input>select\\r\\n{\\r\\n    display: block;\\r\\n    -moz-box-sizing: border-box;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n} \\r\\n.ui-jqgrid .ui-jqgrid-view input,\\r\\n.ui-jqgrid .ui-jqgrid-view select,\\r\\n.ui-jqgrid .ui-jqgrid-view textarea,\\r\\n.ui-jqgrid .ui-jqgrid-view button {\\r\\n    font-size: 11px\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/jqgrid/css/ui.jqgrid.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*Grid*/\\r\\n.ui-jqgrid {position: relative;}\\r\\n.ui-jqgrid .ui-jqgrid-view {position: relative;left:0; top: 0; padding: 0; font-size:11px;}\\r\\n/* caption*/\\r\\n.ui-jqgrid .ui-jqgrid-titlebar {padding: .3em .2em .2em .3em; position: relative; font-size: 12px; border-left: 0 none;border-right: 0 none; border-top: 0 none;}\\r\\n.ui-jqgrid .ui-jqgrid-caption {text-align: left;}\\r\\n.ui-jqgrid .ui-jqgrid-title { margin: .1em 0 .2em; }\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close { position: absolute;top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height:18px; cursor:pointer;}\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close span { display: block; margin: 1px; }\\r\\n.ui-jqgrid .ui-jqgrid-titlebar-close:hover { padding: 0; }\\r\\n/* header*/\\r\\n.ui-jqgrid .ui-jqgrid-hdiv {position: relative; margin: 0;padding: 0; overflow-x: hidden; border-left: 0 none !important; border-top : 0 none !important; border-right : 0 none !important;}\\r\\n.ui-jqgrid .ui-jqgrid-hbox {float: left; padding-right: 20px;}\\r\\n.ui-jqgrid .ui-jqgrid-htable {table-layout:fixed;margin:0;}\\r\\n.ui-jqgrid .ui-jqgrid-htable th {height:22px;padding: 0 2px 0 2px;}\\r\\n.ui-jqgrid .ui-jqgrid-htable th div {overflow: hidden; position:relative; height:17px;}\\r\\n.ui-th-column, .ui-jqgrid .ui-jqgrid-htable th.ui-th-column {overflow: hidden;white-space: nowrap;text-align:center;border-top : 0 none;border-bottom : 0 none;}\\r\\n.ui-th-ltr, .ui-jqgrid .ui-jqgrid-htable th.ui-th-ltr {border-left : 0 none;}\\r\\n.ui-th-rtl, .ui-jqgrid .ui-jqgrid-htable th.ui-th-rtl {border-right : 0 none;}\\r\\n.ui-first-th-ltr {border-right: 1px solid; }\\r\\n.ui-first-th-rtl {border-left: 1px solid; }\\r\\n.ui-jqgrid .ui-th-div-ie {white-space: nowrap; zoom :1; height:17px;}\\r\\n.ui-jqgrid .ui-jqgrid-resize {height:20px !important;position: relative; cursor :e-resize;display: inline;overflow: hidden;}\\r\\n.ui-jqgrid .ui-grid-ico-sort {overflow:hidden;position:absolute;display:inline; cursor: pointer !important;}\\r\\n.ui-jqgrid .ui-icon-asc {margin-top:-3px; height:12px;}\\r\\n.ui-jqgrid .ui-icon-desc {margin-top:3px;height:12px;}\\r\\n.ui-jqgrid .ui-i-asc {margin-top:0;height:16px;}\\r\\n.ui-jqgrid .ui-i-desc {margin-top:0;margin-left:13px;height:16px;}\\r\\n.ui-jqgrid .ui-jqgrid-sortable {cursor:pointer;}\\r\\n.ui-jqgrid tr.ui-search-toolbar th { border-top-width: 1px !important; border-top-color: inherit !important; border-top-style: ridge !important }\\r\\ntr.ui-search-toolbar input {margin: 1px 0 0 0}\\r\\ntr.ui-search-toolbar select {margin: 1px 0 0 0}\\r\\n/* body */ \\r\\n.ui-jqgrid .ui-jqgrid-bdiv {position: relative; margin: 0; padding:0; overflow: auto; text-align:left;}\\r\\n.ui-jqgrid .ui-jqgrid-btable {table-layout:fixed; margin:0; outline-style: none; }\\r\\n.ui-jqgrid tr.jqgrow { outline-style: none; }\\r\\n.ui-jqgrid tr.jqgroup { outline-style: none; }\\r\\n.ui-jqgrid tr.jqgrow td {font-weight: normal; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.jqgfirstrow td {padding: 0 2px 0 2px;border-right-width: 1px; border-right-style: solid;}\\r\\n.ui-jqgrid tr.jqgroup td {font-weight: normal; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.jqfoot td {font-weight: bold; overflow: hidden; white-space: pre; height: 22px;padding: 0 2px 0 2px;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid tr.ui-row-ltr td {text-align:left;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;}\\r\\n.ui-jqgrid tr.ui-row-rtl td {text-align:right;border-left-width: 1px; border-left-color: inherit; border-left-style: solid;}\\r\\n.ui-jqgrid td.jqgrid-rownum { padding: 0 2px 0 2px; margin: 0; border: 0 none;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-mark { width:2px; left:0; background-color:#777; cursor: e-resize; cursor: col-resize; position:absolute; top:0; height:100px; overflow:hidden; display:none; border:0 none; z-index: 99999;}\\r\\n/* footer */\\r\\n.ui-jqgrid .ui-jqgrid-sdiv {position: relative; margin: 0;padding: 0; overflow: hidden; border-left: 0 none !important; border-top : 0 none !important; border-right : 0 none !important;}\\r\\n.ui-jqgrid .ui-jqgrid-ftable {table-layout:fixed; margin-bottom:0;}\\r\\n.ui-jqgrid tr.footrow td {font-weight: bold; overflow: hidden; white-space:nowrap; height: 21px;padding: 0 2px 0 2px;border-top-width: 1px; border-top-color: inherit; border-top-style: solid;}\\r\\n.ui-jqgrid tr.footrow-ltr td {text-align:left;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;}\\r\\n.ui-jqgrid tr.footrow-rtl td {text-align:right;border-left-width: 1px; border-left-color: inherit; border-left-style: solid;}\\r\\n/* Pager*/\\r\\n.ui-jqgrid .ui-jqgrid-pager { border-left: 0 none !important;border-right: 0 none !important; border-bottom: 0 none !important; margin: 0 !important; padding: 0 !important; position: relative; height: 25px;white-space: nowrap;overflow: hidden;font-size:11px;}\\r\\n.ui-jqgrid .ui-pager-control {position: relative;}\\r\\n.ui-jqgrid .ui-pg-table {position: relative; padding-bottom:2px; width:auto; margin: 0;}\\r\\n.ui-jqgrid .ui-pg-table td {font-weight:normal; vertical-align:middle; padding:1px;}\\r\\n.ui-jqgrid .ui-pg-button  { height:19px !important;}\\r\\n.ui-jqgrid .ui-pg-button span { display: block; margin: 1px; float:left;}\\r\\n.ui-jqgrid .ui-pg-button:hover { padding: 0; }\\r\\n.ui-jqgrid .ui-state-disabled:hover {padding:1px;}\\r\\n.ui-jqgrid .ui-pg-input { height:13px;font-size:.8em; margin: 0;}\\r\\n.ui-jqgrid .ui-pg-selbox {font-size:.8em; line-height:18px; display:block; height:18px; margin: 0;}\\r\\n.ui-jqgrid .ui-separator {height: 18px; border-left: 1px solid #ccc ; border-right: 1px solid #ccc ; margin: 1px; float: right;}\\r\\n.ui-jqgrid .ui-paging-info {font-weight: normal;height:19px; margin-top:3px;margin-right:4px;}\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-div {padding:1px 0;float:left;position:relative;}\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-button { cursor:pointer; }\\r\\n.ui-jqgrid .ui-jqgrid-pager .ui-pg-div  span.ui-icon {float:left;margin:0 2px;}\\r\\n.ui-jqgrid td input, .ui-jqgrid td select .ui-jqgrid td textarea { margin: 0;}\\r\\n.ui-jqgrid td textarea {width:auto;height:auto;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager {border-left: 0 none !important;border-right: 0 none !important; border-top: 0 none !important; margin: 0 !important; padding: 0 !important; position: relative; height: 25px !important;white-space: nowrap;overflow: hidden;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div {padding:1px 0;float:left;position:relative;}\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-button { cursor:pointer; }\\r\\n.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div  span.ui-icon {float:left;margin:0 2px;}\\r\\n/*subgrid*/\\r\\n.ui-jqgrid .ui-jqgrid-btable .ui-sgcollapsed span {display: block;}\\r\\n.ui-jqgrid .ui-subgrid {margin:0;padding:0; width:100%;}\\r\\n.ui-jqgrid .ui-subgrid table {table-layout: fixed;}\\r\\n.ui-jqgrid .ui-subgrid tr.ui-subtblcell td {height:18px;border-right-width: 1px; border-right-color: inherit; border-right-style: solid;border-bottom-width: 1px; border-bottom-color: inherit; border-bottom-style: solid;}\\r\\n.ui-jqgrid .ui-subgrid td.subgrid-data {border-top:  0 none !important;}\\r\\n.ui-jqgrid .ui-subgrid td.subgrid-cell {border-width: 0 0 1px 0;}\\r\\n.ui-jqgrid .ui-th-subgrid {height:20px;}\\r\\n/* loading */\\r\\n.ui-jqgrid .loading {position: absolute; top: 45%;left: 45%;width: auto;z-index:101;padding: 6px; margin: 5px;text-align: center;font-weight: bold;display: none;border-width: 2px !important; font-size:11px;}\\r\\n.ui-jqgrid .jqgrid-overlay {display:none;z-index:100;}\\r\\n/* IE * html .jqgrid-overlay {width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');} */\\r\\n* .jqgrid-overlay iframe {position:absolute;top:0;left:0;z-index:-1;}\\r\\n/* IE width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');}*/\\r\\n/* end loading div */\\r\\n/* toolbar */\\r\\n.ui-jqgrid .ui-userdata {border-left: 0 none;    border-right: 0 none;\\theight : 21px;overflow: hidden;\\t}\\r\\n/*Modal Window */\\r\\n.ui-jqdialog { display: none; width: 300px; position: absolute; padding: .2em; font-size:11px; overflow:visible;}\\r\\n.ui-jqdialog .ui-jqdialog-titlebar { padding: .3em .2em; position: relative;  }\\r\\n.ui-jqdialog .ui-jqdialog-title { margin: .1em 0 .2em; } \\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close { position: absolute;  top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; cursor:pointer;}\\r\\n\\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close span { display: block; margin: 1px; }\\r\\n.ui-jqdialog .ui-jqdialog-titlebar-close:hover, .ui-jqdialog .ui-jqdialog-titlebar-close:focus { padding: 0; }\\r\\n.ui-jqdialog-content, .ui-jqdialog .ui-jqdialog-content { border: 0; padding: .3em .2em; background: none; height:auto;}\\r\\n.ui-jqdialog .ui-jqconfirm {padding: .4em 1em; border-width:3px;position:absolute;bottom:10px;right:10px;overflow:visible;display:none;height:80px;width:220px;text-align:center;}\\r\\n.ui-jqdialog>.ui-resizable-se { bottom: -3px; right: -3px}\\r\\n.ui-jqgrid>.ui-resizable-se { bottom: -3px; right: -3px }\\r\\n/* end Modal window*/\\r\\n/* Form edit */\\r\\n.ui-jqdialog-content .FormGrid {margin: 0;}\\r\\n.ui-jqdialog-content .EditTable { width: 100%; margin-bottom:0;}\\r\\n.ui-jqdialog-content .DelTable { width: 100%; margin-bottom:0;}\\r\\n.EditTable td input, .EditTable td select, .EditTable td textarea {margin: 0;}\\r\\n.EditTable td textarea { width:auto; height:auto;}\\r\\n.ui-jqdialog-content td.EditButton {text-align: right;border-top: 0 none;border-left: 0 none;border-right: 0 none; padding-bottom:5px; padding-top:5px;}\\r\\n.ui-jqdialog-content td.navButton {text-align: center; border-left: 0 none;border-top: 0 none;border-right: 0 none; padding-bottom:5px; padding-top:5px;}\\r\\n.ui-jqdialog-content input.FormElement {padding:.3em}\\r\\n.ui-jqdialog-content select.FormElement {padding:.3em}\\r\\n.ui-jqdialog-content .data-line {padding-top:.1em;border: 0 none;}\\r\\n\\r\\n.ui-jqdialog-content .CaptionTD {vertical-align: middle;border: 0 none; padding: 2px;white-space: nowrap;}\\r\\n.ui-jqdialog-content .DataTD {padding: 2px; border: 0 none; vertical-align: top;}\\r\\n.ui-jqdialog-content .form-view-data {white-space:pre}\\r\\n.fm-button { display: inline-block; margin:0 4px 0 0; padding: .4em .5em; text-decoration:none !important; cursor:pointer; position: relative; text-align: center; zoom: 1; }\\r\\n.fm-button-icon-left { padding-left: 1.9em; }\\r\\n.fm-button-icon-right { padding-right: 1.9em; }\\r\\n.fm-button-icon-left .ui-icon { right: auto; left: .2em; margin-left: 0; position: absolute; top: 50%; margin-top: -8px; }\\r\\n.fm-button-icon-right .ui-icon { left: auto; right: .2em; margin-left: 0; position: absolute; top: 50%; margin-top: -8px;}\\r\\n#nData, #pData { float: left; margin:3px;padding: 0; width: 15px; }\\r\\n/* End Eorm edit */\\r\\n/*.ui-jqgrid .edit-cell {}*/\\r\\n.ui-jqgrid .selected-row, div.ui-jqgrid .selected-row td {font-style : normal;border-left: 0 none;}\\r\\n/* inline edit actions button*/\\r\\n.ui-inline-del.ui-state-hover span, .ui-inline-edit.ui-state-hover span,\\r\\n.ui-inline-save.ui-state-hover span, .ui-inline-cancel.ui-state-hover span {\\r\\n    margin: -1px;\\r\\n}\\r\\n/* Tree Grid */\\r\\n.ui-jqgrid .tree-wrap {float: left; position: relative;height: 18px;white-space: nowrap;overflow: hidden;}\\r\\n.ui-jqgrid .tree-minus {position: absolute; height: 18px; width: 18px; overflow: hidden;}\\r\\n.ui-jqgrid .tree-plus {position: absolute;\\theight: 18px; width: 18px;\\toverflow: hidden;}\\r\\n.ui-jqgrid .tree-leaf {position: absolute;\\theight: 18px; width: 18px;overflow: hidden;}\\r\\n.ui-jqgrid .treeclick {cursor: pointer;}\\r\\n/* moda dialog */\\r\\n* iframe.jqm {position:absolute;top:0;left:0;z-index:-1;}\\r\\n/*\\t width: expression(this.parentNode.offsetWidth+'px');height: expression(this.parentNode.offsetHeight+'px');}*/\\r\\n.ui-jqgrid-dnd tr td {border-right-width: 1px; border-right-color: inherit; border-right-style: solid; height:20px}\\r\\n/* RTL Support */\\r\\n.ui-jqgrid .ui-jqgrid-caption-rtl {text-align: right;}\\r\\n.ui-jqgrid .ui-jqgrid-hbox-rtl {float: right; padding-left: 20px;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-ltr {float: right;margin: -2px -2px -2px 0;}\\r\\n.ui-jqgrid .ui-jqgrid-resize-rtl {float: left;margin: -2px 0 -1px -3px;}\\r\\n.ui-jqgrid .ui-sort-rtl {left:0;}\\r\\n.ui-jqgrid .tree-wrap-ltr {float: left;}\\r\\n.ui-jqgrid .tree-wrap-rtl {float: right;}\\r\\n.ui-jqgrid .ui-ellipsis {-moz-text-overflow:ellipsis;text-overflow:ellipsis;}\\r\\n\\r\\n/* Toolbar Search Menu */\\r\\n.ui-search-menu { position: absolute; padding: 2px 5px;}\\r\\n.ui-jqgrid .ui-search-table { padding: 0; border: 0 none; height:20px; width:100%;}\\r\\n.ui-jqgrid .ui-search-table .ui-search-oper { width:20px; }\\r\\na.g-menu-item, a.soptclass, a.clearsearchclass { cursor: pointer; }\\r\\n.ui-jqgrid .ui-search-table .ui-search-input>input,\\r\\n.ui-jqgrid .ui-search-table .ui-search-input>select\\r\\n{\\r\\n    display: block;\\r\\n    -moz-box-sizing: border-box;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n} \\r\\n.ui-jqgrid .ui-jqgrid-view input,\\r\\n.ui-jqgrid .ui-jqgrid-view select,\\r\\n.ui-jqgrid .ui-jqgrid-view textarea,\\r\\n.ui-jqgrid .ui-jqgrid-view button {\\r\\n    font-size: 11px\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\n\t\t\t// If this is an empty collection, we need to have the instance method\n\t\t\t// return undefined instead of the jQuery instance\n\t\t\tif ( !this.length && options === \"instance\" ) {\n\t\t\t\treturnValue = undefined;\n\t\t\t} else {\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar methodValue;\n\t\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\t\treturnValue = instance;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !instance ) {\n\t\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\t\tmethodValue;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._on( options.element, {\n\t\t\t\"remove\": \"_untrackClassesElement\"\n\t\t} );\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_untrackClassesElement: function( event ) {\n\t\tvar that = this;\n\t\t$.each( that.classesElementLookup, function( key, value ) {\n\t\t\tif ( $.inArray( event.target, value ) !== -1 ) {\n\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nreturn $.widget;\n\n} ) );\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n$.ui = $.ui || {};\n\nreturn $.ui.version = \"1.12.1\";\n\n} ) );\n"],"sourceRoot":""}