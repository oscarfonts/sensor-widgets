(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{211:function(e,t,r){"use strict";var o=r(11);const s={},a={},n={};t.a=(e,t,r)=>{function i(e){e.length||t([]);const i=[];function c(r,o){const s=o.featureOfInterest;i.push({time:new Date(o.resultTime),value:Object.prototype.hasOwnProperty.call(o.result,"value")?o.result.value:o.result,feature:s.name?s.name.value:s.identifier?s.identifier.value:s,property:r,uom:Object.prototype.hasOwnProperty.call(o.result,"uom")?o.result.uom:"(N/A)"}),i.length===e.length&&t(i)}Object.values(e).forEach(e=>{var t,i,l,u;t=e.procedure,i=e.observableProperty,l=c,u=e,s[t]?l(s[t][i],u):(n[t]||(n[t]=[]),n[t].push({callback:l,id:i,context:u}),a[t]||(a[t]=!0,o.a.describeSensor(t,e=>{let r=Object.prototype.hasOwnProperty.call(e,"ProcessModel")?e.ProcessModel.outputs.OutputList.output:e.System.outputs.OutputList.output;r=r instanceof Array?r:[r];const o=["Quantity","Count","Boolean","Category","Text","ObservableProperty"],a=[];for(Object.values(r).forEach(e=>{Object.values(o).forEach(t=>{Object.prototype.hasOwnProperty.call(e,t)&&(e.id=e[t].definition)}),a[e.id]=e.name}),s[t]=a;n[t].length;){const e=n[t].shift();e.callback.call(void 0,s[t][e.id],e.context)}},r)))})}return o.a.setUrl(e.service),{read:function(){const{offering:t,feature:s,property:a,features:n,properties:c,time_start:l,time_end:u}=e,p=s?[s]:Object(o.b)(n)?n:n?JSON.parse(n):void 0,b=a?[a]:Object(o.b)(c)?c:c?JSON.parse(c):void 0,d=l&&u?[l,u]:"latest";o.a.getObservation(t,p,b,d,i,r)}}}},35:function(e,t,r){"use strict";r.r(t);var o=r(211),s=r(28),a=r(212);const n=['<div class="table widget">',"<h3></h3>",'<div class="table-responsive"></div>','<div><span class="footnote"></span></div>',"</div>"].join("");t.default={inputs:a.a.inputs.concat(["feature","properties","time_start","time_end","title"]),optional_inputs:a.a.optional_inputs,preferredSizes:[{w:400,h:400}],init(e,t,r){t.innerHTML=n,t.querySelector("h3").innerHTML=e.title;const i=t.querySelector(".table-responsive");a.a.init(e,t);Object(o.a)(e,(function(e){const t={},r={};Object.keys(e).forEach(o=>{const s=e[o],a=s.time.getTime();t[a]||(t[a]={}),t[a][s.property]=s.value,r[s.property]||(r[s.property]={name:s.property,uom:s.uom})}),function(e,t){let r='<table class="table table-striped table-condensed table-hover table-bordered">';r+="<thead>",r+="<tr>",r+="<th>Result Time</th>";const o=Object.keys(t).sort();Object.keys(o).forEach(e=>{const s=o[e],{uom:a}=t[s];r+=`<th>${s} (${a})</th>`}),r+="</tr>",r+="</thead>";const a=Object.keys(e);a.sort().reverse(),Object.keys(a).forEach(t=>{const n=a[t],i=e[n];r+="<tr>",r+=`<th class="time">${s.a.display(new Date(parseInt(n,10)))}</th>`,Object.keys(o).forEach(e=>{r+=`<td>${i[o[e]]}</td>`}),r+="</tr>"}),r+="</table>",i.innerHTML=r}(t,r)}),r).read()}}}}]);
//# sourceMappingURL=widget-table-js.chunk.js.map