!function(e){function t(t){for(var n,r,o=t[0],i=t[1],s=0,d=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(l&&l(t);d.length;)d.shift()()}var n={},a={2:0};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({0:"widget-compass-js~widget-gauge-js~widget-jqgrid-js~widget-map-js~widget-panel-js~widget-progressbar-~bc566e36",1:"vendors~widget-jqgrid-js~widget-timechart-js",5:"vendors~widget-jqgrid-js",6:"vendors~widget-map-js",7:"vendors~widget-status-js",8:"vendors~widget-timechart-js",9:"vendors~widget-windrose-js",10:"widget-compass-js",11:"widget-gauge-js",12:"widget-jqgrid-js",13:"widget-map-js",14:"widget-panel-js",15:"widget-progressbar-js",16:"widget-status-js",17:"widget-table-js",18:"widget-thermometer-js",19:"widget-timechart-js",20:"widget-windrose-js"}[e]||e)+".chunk.js"}(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=i;r(r.s=194)}({1:function(e,t,n){"use strict";var a=n(4);const r={};let o;function i(e){o=e,console.debug("Language set to "+o)}function s(e,t){let n=e;return Object.prototype.hasOwnProperty.call(a,e)&&Object.prototype.hasOwnProperty.call(a[e],o)&&(n=a[e][o]),function(e,t){let n=e;return t&&Object.entries(t).forEach(([e,t])=>{n=n.replace(new RegExp(`{${e}}`,"g"),t)}),n}(n,t)}window.location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");r[t]=n}),i(Object.prototype.hasOwnProperty.call(r,"lang")?r.lang:"en"),t.a={langs:()=>a.langs,getLang:()=>o,setLang:i,t:s,addTranslations(e){Object.keys(e).forEach(t=>{Object.prototype.hasOwnProperty.call(a,t)?console.warn(`Skipping duplicate entry '${t}' in translation bundle.`):a[t]=e[t]})},translateDocTree(e){const t=e||document,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1);for(;n.nextNode();){const e=n.currentNode;/\S/.test(e.nodeValue)&&(e.nodeValue=s(e.nodeValue))}}}},10:function(e,t,n){var a={"./compass.js":[38,0,10],"./gauge.js":[39,0,11],"./jqgrid.js":[30,1,5,0,12],"./map.js":[31,6,0,13],"./panel.js":[32,0,14],"./progressbar.js":[33,0,15],"./status.js":[34,7,0,16],"./table.js":[35,0,17],"./thermometer.js":[40,0,18],"./timechart.js":[36,1,8,0,19],"./windrose.js":[37,9,0,20]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=10,e.exports=r},11:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a={read(e,t){const n={at:t?"":"@",cleanName:e=>t&&e.split(/:(.+)/)[1]||e,toObj(e){let a={};if(1===e.nodeType){if(e.attributes.length)for(let r=0;r<e.attributes.length;r+=1){const{name:o}=e.attributes[r],{value:i}=e.attributes[r],s=0===o.lastIndexOf("xmlns:",0);t&&s||(a[n.at+n.cleanName(o)]=(i||"").toString())}if(e.firstChild){let t=0,r=0,o=!1;for(let n=e.firstChild;n;n=n.nextSibling)1===n.nodeType?o=!0:3===n.nodeType&&n.nodeValue.match(/[^ \f\n\r\t\v]/)?t+=1:4===n.nodeType&&(r+=1);if(o)if(t<2&&r<2){n.removeWhite(e);for(let t=e.firstChild;t;t=t.nextSibling)3===t.nodeType?a["#text"]=n.escape(t.nodeValue):4===t.nodeType?a["#cdata"]=n.escape(t.nodeValue):a[t.nodeName]?a[t.nodeName]instanceof Array?a[t.nodeName][a[t.nodeName].length]=n.toObj(t):a[t.nodeName]=[a[t.nodeName],n.toObj(t)]:a[t.nodeName]=n.toObj(t)}else e.attributes.length?a["#text"]=n.escape(n.innerXml(e)):a=n.escape(n.innerXml(e));else if(t)e.attributes.length?a["#text"]=n.escape(n.innerXml(e)):a=n.escape(n.innerXml(e));else if(r)if(r>1)a=n.escape(n.innerXml(e));else for(let t=e.firstChild;t;t=t.nextSibling)a["#cdata"]=n.escape(t.nodeValue)}e.attributes.length||e.firstChild||(a=null)}else if(9===e.nodeType)a=n.toObj(e.documentElement);else if(8===e.nodeType)return e.data;return a},innerXml(e){let t="";if("innerHTML"in e)t=e.innerHTML;else{const n=e=>{let t="";if(1===e.nodeType){t+="<"+e.nodeName;for(let n=0;n<e.attributes.length;n+=1){const{name:a}=e.attributes[n];t+=` ${a}="${(e.attributes[n].value||"").toString()}"`}if(e.firstChild){t+=">";for(let a=e.firstChild;a;a=a.nextSibling)t+=n(a);t+=`</${e.nodeName}>`}else t+="/>"}else 3===e.nodeType?t+=e.nodeValue:4===e.nodeType&&(t+=`<![CDATA[${e.nodeValue}]]>`);return t};for(let a=e.firstChild;a;a=a.nextSibling)t+=n(a)}return t},escape:e=>e.replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r"),removeWhite(e){e.normalize();for(let t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{const n=t.nextSibling;e.removeChild(t),t=n}else 1===t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}},a=t?e.replace(/<(\/?)([^:>\s]*:)?([^>]+)>/g,"<$1$3>"):e,r=(new DOMParser).parseFromString(a,"text/xml"),o=9===r.nodeType?r.documentElement:r,i={};return i[o.nodeName]=n.toObj(n.removeWhite(o)),i},write(e){const t=(e,n,a)=>{let r="";if(e instanceof Array)for(let o=0,i=e.length;o<i;o+=1)r+=a+t(e[o],n,""+a)+"\n";else if("object"==typeof e){let o=!1;r+=`${a}<${n}`,Object.keys(e).forEach(t=>{"@"===t.charAt(0)?r+=` ${t.substr(1)}="${e[t].toString()}"`:o=!0}),r+=o?">":"/>",o&&(Object.keys(e).forEach(n=>{"#text"===n?r+=e[n]:"#cdata"===n?r+=`<![CDATA[${e[n]}]]>`:"@"!==n.charAt(0)&&(r+=t(e[n],n,""+a))}),r+=`${"\n"===r.charAt(r.length-1)?a:""}</${n}>`)}else r+=`${a}<${n}>${e.toString()}</${n}>`;return r};let n="";return Object.keys(e).forEach(a=>{n+=t(e[a],a,"")}),n}};const r=e=>"[object Array]"===Object.prototype.toString.call(e),o=e=>r(e)?e:[e];function i(e,t,n,o){const i=new XMLHttpRequest;i.onreadystatechange=()=>{if(4===i.readyState){let s=i.responseText;try{s=a.read(s,!0)}catch(e){}if(200!==i.status||s.ExceptionReport){if(o){const n=s.ExceptionReport?s.ExceptionReport.Exception.ExceptionText:i.statusText;o.call(null,n,e,t,s)}}else n.call(null,function(e){const t={},n=e=>{if(r(e))return e.map(e=>n(e));if("object"!=typeof e)return e;const a={};return Object.entries(e).forEach(([e,r])=>{if(r.id&&(t[r.id]={[e]:n(r)}),r.href&&r.href.startsWith("#")){const{href:n,...o}=r;a[e]={...o,...t[n.substring(1)]}}else a[e]=n(r)}),a};return n(e)}(s))}},i.open("POST",e,!0),i.setRequestHeader("Content-Type","application/xml"),i.setRequestHeader("Accept","application/xml"),i.send(a.write(t))}t.a={_url:null,setUrl(e){return this._url=e,this},getCapabilities(e,t){return i(this._url,{"sos:GetCapabilities":{"@xmlns:sos":"http://www.opengis.net/sos/2.0","@xmlns:ows":"http://www.opengis.net/ows/1.1","@service":"SOS","ows:AcceptVersions":{"ows:Version":"2.0.0"},"ows:Sections":{"ows:Section":"Contents"}}},t=>{const n=t.Capabilities.contents.Contents.offering.map(e=>e.ObservationOffering).map(e=>({...e,name:e.name["#text"],procedure:o(e.procedure),procedureDescriptionFormat:o(e.procedureDescriptionFormat),observableProperty:o(e.observableProperty),relatedFeature:e.relatedFeature?e.relatedFeature.map(e=>({featureOfInterest:e.FeatureRelationship.target.href,role:[]})):void 0,observedArea:{lowerLeft:e.observedArea.Envelope.lowerCorner.split(" ").map(e=>Number(e)),upperRight:e.observedArea.Envelope.upperCorner.split(" ").map(e=>Number(e)),crs:{type:"link",properties:{href:e.observedArea.Envelope.srsName}}},phenomenonTime:[e.phenomenonTime.TimePeriod.beginPosition,e.phenomenonTime.TimePeriod.endPosition],resultTime:[e.resultTime.TimePeriod.beginPosition,e.resultTime.TimePeriod.endPosition],responseFormat:o(e.responseFormat),observationType:o(e.observationType),featureOfInterestType:o(e.featureOfInterestType)}));e(n)},t),this},describeSensor(e,t,n){return i(this._url,{"swes:DescribeSensor":{"@xmlns:swes":"http://www.opengis.net/swes/2.0","@service":"SOS","@version":"2.0.0","swes:procedure":"http://sensors.portdebarcelona.cat/def/weather/procedure","swes:procedureDescriptionFormat":"http://www.opengis.net/sensorML/1.0.1"}},e=>{const n=e.DescribeSensorResponse.description.SensorDescription.data.SensorML.member;t(n)},n),this},getFeatureOfInterest(e,t,n){return i(this._url,{"sos:GetFeatureOfInterest":{"@xmlns:sos":"http://www.opengis.net/sos/2.0","@service":"SOS","@version":"2.0.0","sos:procedure":"http://sensors.portdebarcelona.cat/def/weather/procedure"}},e=>{const n=o(e.GetFeatureOfInterestResponse.featureMember).map(e=>e.SF_SpatialSamplingFeature).map(e=>({identifier:{codespace:"",value:e.identifier["#text"]},name:{codespace:e.name.codeSpace,value:e.name["#text"]},sampledFeature:e.sampledFeature.href,geometry:{type:Object.keys(e.shape)[0],coordinates:Object.values(e.shape)[0].pos["#text"].split(" ").map(e=>Number(e))}}));t(n)},n),this},getDataAvailability(e,t,n,a,r,s){const l={"gda:GetDataAvailability":{"@xmlns:gda":"http://www.opengis.net/sosgda/1.0","@service":"SOS","@version":"2.0.0","gda:procedure":"http://sensors.portdebarcelona.cat/def/weather/procedure",...e&&{"gda:procedure":e},...t&&{"gda:offering":t},...n&&n.length&&{"gda:featureOfInterest":n},...a&&a.length&&{"gda:observedProperty":a}}};return i(this._url,l,e=>{const t=o(e.GetDataAvailabilityResponse.dataAvailabilityMember).map(e=>({featureOfInterest:e.featureOfInterest.href,procedure:e.procedure.href,observedProperty:e.observedProperty.href,phenomenonTime:[e.phenomenonTime.TimePeriod.beginPosition,e.phenomenonTime.TimePeriod.endPosition]}));r(t)},s),this},getObservation(e,t,n,a,r,s){let l;a&&(l=a.length&&2===a.length?{"fes:During":{"fes:ValueReference":"resultTime","gml:TimePeriod":{"@gml:id":"tp_1","gml:beginPosition":a[0],"gml:endPosition":a[1]}}}:{"fes:TEquals":{"fes:ValueReference":"resultTime","gml:TimeInstant":{"@gml:id":"ti_1","gml:timePosition":a}}});const d={"sos:GetObservation":{"@xmlns:sos":"http://www.opengis.net/sos/2.0","@xmlns:fes":"http://www.opengis.net/fes/2.0","@xmlns:gml":"http://www.opengis.net/gml/3.2","@service":"SOS","@version":"2.0.0",...e&&{"sos:offering":e},...n&&n.length&&{"sos:observedProperty":n},...l&&{"sos:temporalFilter":l},...t&&t.length&&{"sos:featureOfInterest":t}}};return i(this._url,d,e=>{const t=o(e.GetObservationResponse.observationData).map(e=>e.OM_Observation).map(e=>({type:e.type.href,procedure:e.procedure.href,observableProperty:e.observedProperty.href,featureOfInterest:{identifier:{codespace:"http://www.opengis.net/def/nil/OGC/0/unknown",value:e.featureOfInterest.href},name:{codespace:"http://www.opengis.net/def/nil/OGC/0/unknown",value:e.featureOfInterest.title}},phenomenonTime:e.phenomenonTime.TimeInstant?e.phenomenonTime.TimeInstant.timePosition:[e.phenomenonTime.TimePeriod.beginPosition,e.phenomenonTime.TimePeriod.endPosition],resultTime:e.resultTime.TimeInstant.timePosition,result:{uom:e.result.uom,value:e.result["#text"]}}));r(t)},s),this}}},12:function(e,t,n){var a=n(8),r=n(13);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},13:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a)()(!0);r.push([e.i,'body .widget {\n    font-family: "Source Sans Pro", helvetica, sans-serif;\n    text-align: center;\n    margin: 0;\n}\n\n.widget {\n    height: 100%;\n    overflow: hidden;\n    color: #222;\n    font-family: Helvetica, sans-serif;\n}\n\n.widget h1 {\n    font-size: 28px;\n}\n\n.widget h2 {\n    font-size: 18px;\n}\n\n.widget h3 {\n    font-size: 14px;\n}\n\n.widget .footnote {\n    margin: 10px;\n    font-size: 11px;\n    font-weight: bold;\n    display: block;\n    color: #222; \n}\n\n.widget .data {\n    display: inline-block;\n    vertical-align: top;\n    margin: 10px;\n    max-width: 300px;\n}\n\n.widget.compass svg,\n.widget.gauge svg {\n    max-width: 300px;\n}\n\n.widget.status {\n    overflow: auto;\n}\n\n.widget.status th {\n    padding: 4px;\n    background-color: darkgrey;\n}\n\n.widget.status td {\n    padding: 4px;\n    background-color: lightgrey;\n}\n\n.widget.status td.nodata {\n    background-color: whitesmoke;\n    color: darkgrey;\n    font-size: small;\n}\n\n.widget.status .result_time {\n    font-size: small;\n    font-style: italic;\n}\n\n.widget.panel dl {\n    text-align: left;\n}\n\n.widget.panel dd.outdated {\n    color: #AA1111;\n    font-style: italic;\n}\n\n.widget.panel dd.outdated span {\n    font-size: 9px;\n    display: block;\n}\n\n.widget.map .leaflet-label .widget.panel h2 {\n    font-size: small;\n}\n\n.widget.map .leaflet-label .widget.panel h3 {\n    font-size: x-small;\n}\n\n.widget.map .leaflet-label .widget.panel h2,\n.widget.map .leaflet-label .widget.panel h3,\n.widget.map .leaflet-label .widget.panel dl,\n.widget.map .leaflet-label .widget.panel .footnote {\n    margin: 0;\n}\n\n.widget.map .leaflet-label .widget.panel {\n    background-color: transparent;\n}\n\n.widget.map .leaflet-label .widget.panel dt {\n    border-top: 1px solid darkgray;\n    clear: left;\n    font-size: x-small;\n    font-weight: normal;\n    line-height: normal;\n    padding-top: 2px;\n    float: none;\n    text-align: left;\n    width: 100%;\n}\n\n.widget.map .leaflet-label .widget.panel dd {\n    margin: 0;\n    text-align: right;\n    font-size: x-small;\n    line-height: normal;\n    padding-bottom: 2px;\n}\n\n.widget.table {\n    overflow: auto;\n    font-size: 12px;\n}\n\n.widget.windrose {\n    width: 100%;\n}\n',"",{version:3,sources:["webpack://src/js/SensorWidgets.css"],names:[],mappings:"AAAA;IACI,qDAAqD;IACrD,kBAAkB;IAClB,SAAS;AACb;;AAEA;IACI,YAAY;IACZ,gBAAgB;IAChB,WAAW;IACX,kCAAkC;AACtC;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,YAAY;IACZ,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;AACpB;;AAEA;;IAEI,gBAAgB;AACpB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,YAAY;IACZ,0BAA0B;AAC9B;;AAEA;IACI,YAAY;IACZ,2BAA2B;AAC/B;;AAEA;IACI,4BAA4B;IAC5B,eAAe;IACf,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,kBAAkB;AACtB;;AAEA;IACI,cAAc;IACd,cAAc;AAClB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;;;;IAII,SAAS;AACb;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,8BAA8B;IAC9B,WAAW;IACX,kBAAkB;IAClB,mBAAmB;IACnB,mBAAmB;IACnB,gBAAgB;IAChB,WAAW;IACX,gBAAgB;IAChB,WAAW;AACf;;AAEA;IACI,SAAS;IACT,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,WAAW;AACf",sourcesContent:['body .widget {\n    font-family: "Source Sans Pro", helvetica, sans-serif;\n    text-align: center;\n    margin: 0;\n}\n\n.widget {\n    height: 100%;\n    overflow: hidden;\n    color: #222;\n    font-family: Helvetica, sans-serif;\n}\n\n.widget h1 {\n    font-size: 28px;\n}\n\n.widget h2 {\n    font-size: 18px;\n}\n\n.widget h3 {\n    font-size: 14px;\n}\n\n.widget .footnote {\n    margin: 10px;\n    font-size: 11px;\n    font-weight: bold;\n    display: block;\n    color: #222; \n}\n\n.widget .data {\n    display: inline-block;\n    vertical-align: top;\n    margin: 10px;\n    max-width: 300px;\n}\n\n.widget.compass svg,\n.widget.gauge svg {\n    max-width: 300px;\n}\n\n.widget.status {\n    overflow: auto;\n}\n\n.widget.status th {\n    padding: 4px;\n    background-color: darkgrey;\n}\n\n.widget.status td {\n    padding: 4px;\n    background-color: lightgrey;\n}\n\n.widget.status td.nodata {\n    background-color: whitesmoke;\n    color: darkgrey;\n    font-size: small;\n}\n\n.widget.status .result_time {\n    font-size: small;\n    font-style: italic;\n}\n\n.widget.panel dl {\n    text-align: left;\n}\n\n.widget.panel dd.outdated {\n    color: #AA1111;\n    font-style: italic;\n}\n\n.widget.panel dd.outdated span {\n    font-size: 9px;\n    display: block;\n}\n\n.widget.map .leaflet-label .widget.panel h2 {\n    font-size: small;\n}\n\n.widget.map .leaflet-label .widget.panel h3 {\n    font-size: x-small;\n}\n\n.widget.map .leaflet-label .widget.panel h2,\n.widget.map .leaflet-label .widget.panel h3,\n.widget.map .leaflet-label .widget.panel dl,\n.widget.map .leaflet-label .widget.panel .footnote {\n    margin: 0;\n}\n\n.widget.map .leaflet-label .widget.panel {\n    background-color: transparent;\n}\n\n.widget.map .leaflet-label .widget.panel dt {\n    border-top: 1px solid darkgray;\n    clear: left;\n    font-size: x-small;\n    font-weight: normal;\n    line-height: normal;\n    padding-top: 2px;\n    float: none;\n    text-align: left;\n    width: 100%;\n}\n\n.widget.map .leaflet-label .widget.panel dd {\n    margin: 0;\n    text-align: right;\n    font-size: x-small;\n    line-height: normal;\n    padding-bottom: 2px;\n}\n\n.widget.table {\n    overflow: auto;\n    font-size: 12px;\n}\n\n.widget.windrose {\n    width: 100%;\n}\n'],sourceRoot:""}]),t.default=r},194:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(11);window.SensorWidget=(...e)=>{window.onload=()=>a.a.apply(void 0,e)},window.getSOS=e=>{e(r.a)}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1);n(12);n.p=document.currentScript.src.replace(/[^/]*$/,"");const r={},o=(i=0,()=>"SensorWidgetTarget-"+ ++i);var i;function s(e,t,i){const s=i||document.body;function l(e,t,n){let a="";t&&(a=`[${t}] `),n&&n.request&&(a+=n.request+": "),e&&(a+=e),s.innerHTML=`<div class="text-danger">${a}</div>`}return e&&t?(s.id||(s.id=o()),t.service||(t.service="/52n-sos/sos/json"),n(10)(`./${e}.js`).then(({default:n})=>{s.innerHTML="",Object.prototype.hasOwnProperty.call(r,s.id)&&r[s.id]&&Object.prototype.hasOwnProperty.call(r[s.id],"destroy")&&(console.debug("Destroying previous widget on ElementId="+s.id),r[s.id].destroy(),delete r[s.id]),function(e,t,n){const r=[];return Object.values(t).forEach(e=>{Object.prototype.hasOwnProperty.call(n,e)||r.push(e)}),r.length&&l(a.a.t("The '{name}' widget is missing some mandatory parameters: ",{name:e})+r.join(", ")),!r.length}(e,n.inputs,t)&&(console.debug(`Creating new ${e} widget on ElementId=${s.id}`),r[s.id]=n.init(t,s,l))}).catch(t=>{console.error(t),l(a.a.t("Widget '{name}' cannot be found, or there was an error instantiating it",{name:e}))})):e||l(a.a.t("No widget name specified")),{name:e,config:t,renderTo:s,inspect(t){n(10)(`./${e}.js`).then(({default:e})=>{t.call(this,e.inputs,e.optional_inputs,e.preferredSizes)})},url(){let n=function(e){const t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,e=>{"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}("../widget/")+"?";return n+=`name=${encodeURIComponent(e)}&`,n+=Object.keys(t).map(e=>{let n=t[e];return"object"==typeof t[e]&&(n=JSON.stringify(t[e])),`${e}=${encodeURIComponent(n)}`}).join("&"),n+="&lang="+a.a.getLang(),n},iframe(e,t){return e=e||"100%",t=t||"100%",`<iframe src="${this.url()}" width="${e}" height="${t}" frameBorder="0"></iframe>`},javascript:()=>`SensorWidget('${e}', ${JSON.stringify(t,null,3)}, document.getElementById('${e}-container'));`}}},4:function(e){e.exports=JSON.parse('{"langs":{"en":"English","es":"Español","ca":"Català"},"(no date)":{"es":"(sin fecha)","ca":"(sense data)"},"No widget name specified":{"es":"No se ha especificado ningún nombre de widget","ca":"Cal especificar un nom de widget"},"Widget \'{name}\' cannot be found, or there was an error instantiating it":{"es":"No se ha encontrado el widget de nombre \'{name}\', o se produjo un error instanciándolo","ca":"No s\'ha trobat cap widget anomenat \'{name}\', o s\'ha produit un error en instanciar-lo"},"The \'{name}\' widget is missing some mandatory parameters: ":{"es":"Faltan algunos parámetros obligatorios para el widget \'{name}\': ","ca":"Cal afegir els següents paràmetres obligatoris al widget \'{name}\': "},"Loading...":{"es":"Cargando...","ca":"Carregant..."},"deg":{"es":"º","ca":"º"},"Request time":{"es":"Petición el","ca":"Petició el"},"Response time":{"es":"Respuesta el","ca":"Resposta el"},"(no data)":{"es":"(sin datos)","ca":"(sense dades)"},"Result time":{"es":"Resultado del","ca":"Resultat del"},"Cel":{"es":"ºC","ca":"ºC"},"Results":{"es":"Resultados","ca":"Resultats"},"Time":{"es":"Hora","ca":"Hora"},"Value":{"es":"Valor","ca":"Valor"},"Unit":{"es":"Unidad","ca":"Unitat"},"{name} Widget Configuration":{"es":"Configuración de {name}","ca":"Configuració de {name}"},"Mandatory inputs":{"es":"Parámetros obligatorios","ca":"Paràmetres obligatoris"},"Compass":{"es":"Rumbo","ca":"Rumb"},"Gauge":{"es":"Manómetro","ca":"Manòmetre"},"Jqgrid":{"es":"Tabla JQuery","ca":"Taula JQuery"},"Map":{"es":"Mapa","ca":"Mapa"},"Panel":{"es":"Panel","ca":"Panell"},"Progressbar":{"es":"Barra","ca":"Barra"},"Table":{"es":"Tabla","ca":"Taula"},"Thermometer":{"es":"Termómetro","ca":"Termòmetre"},"Timechart":{"es":"Serie tiempo","ca":"Sèrie temps"},"Windrose":{"es":"Rosa vientos","ca":"Rosa vents"},"Select a Service...":{"es":"Seleccione un servicio...","ca":"Sel·leccioneu un servei..."},"Select an Offering...":{"es":"Seleccione un offering...","ca":"Sel·leccioneu un offering..."},"(multiselect)":{"es":"(selección múltiple)","ca":"(selecció múltiple)"},"Service":{"es":"Servicio","ca":"Servei"},"Property":{"es":"Propiedad","ca":"Propietat"},"Properties":{"es":"Propiedades","ca":"Propietats"},"Refresh Interval":{"es":"Intervalo de refresco","ca":"Intèrval de refresc"},"Time Range":{"es":"Rango de tiempo","ca":"Rang de temps"},"MMM D, YYYY H:mm":{"es":"D MMM YYYY H:mm","ca":"D MMM YYYY H:mm"},"Custom Range":{"es":"Rango predefinido","ca":"Rang predefinit"},"Today":{"es":"Hoy","ca":"Avui"},"Last hour":{"es":"La última hora","ca":"La última hora"},"Last {n} hours":{"es":"Las últimas {n} horas","ca":"Les últimes {n} hores"},"From":{"es":"De","ca":"De"},"To":{"es":"A","ca":"A"},"Apply":{"es":"Aplicar","ca":"Aplica"},"Cancel":{"es":"Cancelar","ca":"Cancel·la"},"W":{"es":"S","ca":"S"},"Optional inputs":{"es":"Parámetros opcionales","ca":"Paràmetres opcionals"},"Title":{"es":"Título","ca":"Títol"},"Footnote":{"es":"Nota al pie","ca":"Nota al peu"},"Custom Css Url":{"es":"URL del CSS personalizado","ca":"URL del CSS personalitzat"},"Max Initial Zoom":{"es":"Zoom Inicial Máximo","ca":"Zoom Inicial Màxim"},"Base Layer":{"es":"Mapa de Base","ca":"Mapa de Base"},"Widget dimensions":{"es":"Tamaño del widget","ca":"Mides del widget"},"Initial Size":{"es":"Tamaño inicial","ca":"Mida inicial"},"Create Widget":{"es":"Crear Widget","ca":"Crear Widget"},"{name} Configuration Parameters":{"es":"Parámetros de {name}","ca":"Paràmetres de {name}"},"jqGrid Example":{"es":"Ejemplo de tabla JQuery","ca":"Exemple de taula JQuery"},"Last observations":{"es":"Observaciones más recientes","ca":"Darreres observacions"},"Data Table - last 3 hours":{"es":"Tabla de datos - últimas 3 horas","ca":"Taula de dades - darreres 3 hores"},"Sirena Windrose":{"es":"Rosa de los Vientos Sirena","ca":"Rosa dels Vents Sirena"},"Last 3 hours of wind observations":{"es":"Últimas 3 horas de observaciones del viento","ca":"Darreres 3 hores d\'observacions del vent"},"Code":{"es":"Código","ca":"Codi"},"Embed":{"es":"Incrustar","ca":"Incrusta"},"Link":{"es":"Enlazar","ca":"Enllaça"},"Mandatory":{"es":"Obligatorios","ca":"Obligatoris"},"Optional":{"es":"Opcionales","ca":"Opcionals"},"Suggested Sizes":{"es":"Tamaños recomendados","ca":"Mides recomanades"},"A sample footnote for {name} widget":{"es":"Nota al pie de ejemplo en el widget {name}","ca":"Nota al peu d\'exemple al widget {name}"},"Last measures from":{"es":"Últimas mediciones de","ca":"Darreres mesures de"}}')},6:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(i=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var i,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},8:function(e,t,n){"use strict";var a,r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function s(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var p=s(c),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(i[p].references++,i[p].updater(u)):i.push({identifier:c,updater:A(u,t),references:1}),a.push(c)}return a}function d(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,p=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function g(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,f=0;function A(e,t){var n,a,r;if(t.singleton){var o=f++;n=m||(m=d(t)),a=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else n=d(t),a=g.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=s(n[a]);i[r].references--}for(var o=l(e,t),d=0;d<n.length;d++){var c=s(n[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=o}}}}});
//# sourceMappingURL=SensorWidgets.js.map